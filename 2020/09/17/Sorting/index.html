<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dejavi-19.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"manual"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="SortingBubble Sort(AE)Bubble sort do not use other helper array O(N^2^) T O(1) S 12345678910111213public static int[] bubbleSort(int[] array) &amp;#123;    &#x2F;&#x2F; Write your code here.    for (int i &#x3D; 0; i &amp;l">
<meta property="og:type" content="article">
<meta property="og:title" content="Sorting">
<meta property="og:url" content="https://dejavi-19.github.io/2020/09/17/Sorting/index.html">
<meta property="og:site_name" content="Dejavu&#39;s Notebook">
<meta property="og:description" content="SortingBubble Sort(AE)Bubble sort do not use other helper array O(N^2^) T O(1) S 12345678910111213public static int[] bubbleSort(int[] array) &amp;#123;    &#x2F;&#x2F; Write your code here.    for (int i &#x3D; 0; i &amp;l">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.javatpoint.com/corebasic/programs/images/insertion-sort.png">
<meta property="og:image" content="https://cloud.githubusercontent.com/assets/8743900/17332795/0bb46cfe-589e-11e6-90b5-5d3c9696c4f0.png">
<meta property="og:image" content="https://camo.githubusercontent.com/1ed86e0e7aa849bbabcf6201c115de2e94d2fcc9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f37613332313565632d366662372d343933352d386230642d6362343038323038663763622e706e67">
<meta property="article:published_time" content="2020-09-17T03:59:11.143Z">
<meta property="article:modified_time" content="2020-12-11T14:24:11.029Z">
<meta property="article:author" content="Dejavu">
<meta property="article:tag" content="200">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.javatpoint.com/corebasic/programs/images/insertion-sort.png">

<link rel="canonical" href="https://dejavi-19.github.io/2020/09/17/Sorting/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Sorting | Dejavu's Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a href="https://github.com/Dejavu-19" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Dejavu's Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Alea iacta est</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首&emsp;&emsp;页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于博主</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标&emsp;&emsp;签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分&emsp;&emsp;类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归&emsp;&emsp;档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/09/17/Sorting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Sorting
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-17 12:59:11" itemprop="dateCreated datePublished" datetime="2020-09-17T12:59:11+09:00">2020-09-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-11 23:24:11" itemprop="dateModified" datetime="2020-12-11T23:24:11+09:00">2020-12-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h1><h2 id="Bubble-Sort-AE"><a href="#Bubble-Sort-AE" class="headerlink" title="Bubble Sort(AE)"></a>Bubble Sort(AE)</h2><p>Bubble sort do not use other helper array</p>
<p>O(N^2^) T</p>
<p>O(1) S</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] bubbleSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;  <span class="comment">//&lt; array.length - 1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array.length - <span class="number">1</span> - i; j++) &#123;  <span class="comment">//i表示右侧排序后的固定的长度，逐渐增加</span></span><br><span class="line">            <span class="keyword">if</span> (array[j] &gt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">int</span> temp = array[j];</span><br><span class="line">                array[j] = array[j + <span class="number">1</span>];</span><br><span class="line">                array[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="Insertion-Sort-AE"><a href="#Insertion-Sort-AE" class="headerlink" title="Insertion Sort(AE)"></a>Insertion Sort(AE)</h2><p><img src="https://static.javatpoint.com/corebasic/programs/images/insertion-sort.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] insertionSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (array.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;  <span class="comment">//edge case</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; array.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = i;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; array[j] &lt; array[j - <span class="number">1</span>]) &#123;  <span class="comment">//以j = i为起点向前进行比较交换</span></span><br><span class="line">            <span class="keyword">int</span> temp = array[j - <span class="number">1</span>];</span><br><span class="line">            array[j - <span class="number">1</span>] = array[j];</span><br><span class="line">            array[j] = temp;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Selection-Sort-AE-💜"><a href="#Selection-Sort-AE-💜" class="headerlink" title="Selection Sort(AE)💜"></a>Selection Sort(AE)💜</h2><p>traverse整个array， 把最小的元素更新到pointer处，traverse完的左边部分就是sorted的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] selectionSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;&#125;;   <span class="comment">//edge case</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> min = array[i];  <span class="comment">//mark the first element in unsorted array</span></span><br><span class="line">        <span class="keyword">int</span> minIdx = i;  <span class="comment">//mark the index</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; array.length; j++) &#123;  <span class="comment">//find the smallest in the unsorted array</span></span><br><span class="line">            <span class="keyword">if</span> (array[j] &lt; min) &#123;</span><br><span class="line">                min = array[j];</span><br><span class="line">                minIdx = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (minIdx != i) &#123;</span><br><span class="line">            array[minIdx] = array[i];</span><br><span class="line">            array[i] = min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Quick-Sort-AE"><a href="#Quick-Sort-AE" class="headerlink" title="Quick Sort(AE)"></a>Quick Sort(AE)</h2><h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">take <span class="number">8</span> as pivit</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">         p L         R</span><br><span class="line">L &lt; P and R &lt; P, leave it here</span><br><span class="line">keep moving</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">         p     L     R</span><br><span class="line">L = <span class="number">9</span> &gt; P, swap(L, R)</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>]</span><br><span class="line">         p       L R</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>]</span><br><span class="line">         p         R</span><br><span class="line">                   L</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>]</span><br><span class="line">         p         R L</span><br><span class="line">when R &lt; L, swap(P, R)</span><br><span class="line">array : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">         p         R L</span><br><span class="line">apply same technique to two subarray recursively</span><br><span class="line">[<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>], [<span class="number">9</span>]</span><br><span class="line">[<span class="number">9</span>] only one ele, is base line so fixed it</span><br><span class="line">subarray : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">            p L     R</span><br><span class="line">subarray : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">            p   L   R</span><br><span class="line">subarray : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">            p     L R</span><br><span class="line">subarray : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">            p       R</span><br><span class="line">                    L</span><br><span class="line">subarray : [<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>] <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p       R</span><br><span class="line">                       L</span><br><span class="line">when R &lt; L, swap(P, R)</span><br><span class="line">subarray : [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>] <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">then apply to [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">subarray : [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p L   R</span><br><span class="line">L &lt;= P, keep moving L</span><br><span class="line">subarray : [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p   L R</span><br><span class="line">subarray : [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p     R</span><br><span class="line">                  L</span><br><span class="line">subarray : [<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p     R  L</span><br><span class="line">when R &lt; L, swap(P, R)</span><br><span class="line">subarray : [<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>] <span class="number">5</span>, <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p L R</span><br><span class="line">L &gt; P, R &lt; P,swap(L, R)</span><br><span class="line">subarray : [<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>] <span class="number">5</span>, <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p L R</span><br><span class="line">L &lt; P, moving L; R &gt; P, moving R </span><br><span class="line">subarray : [<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>] <span class="number">5</span>, <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">            p R L</span><br><span class="line">when R &lt; L, swap(P, R)</span><br><span class="line">subarray : [<span class="number">2</span>,<span class="number">3</span>] <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span> <span class="number">8</span>, <span class="number">9</span></span><br><span class="line">now two subarray is [<span class="number">2</span>], [<span class="number">5</span>], base line fixed them directly</span><br></pre></td></tr></table></figure>

<ol>
<li><p>Quick always apply to shorter subarray first, then another one</p>
</li>
<li><p>Best: O(n log n) time | O(log n) space</p>
<p>Average: O(n log n) time | O(log n) space</p>
<p>Worst: O(n ^ 2) time | O(log n) space</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] quickSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    quickSort(array, <span class="number">0</span>, array.length - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end)  <span class="comment">//base line, can not produce 2 pointers, left = start+1, right = end</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> pivot = start;</span><br><span class="line">    <span class="keyword">int</span> left = start + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> right = end;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[left] &gt; array[pivot] &amp;&amp; array[right] &lt; array[pivot]) &#123;</span><br><span class="line">            swap(left, right, array);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (array[left] &lt;= array[pivot]) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (array[right] &gt;= array[pivot]) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(pivot, right, array);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//find the smaller subarray</span></span><br><span class="line">    <span class="keyword">boolean</span> leftSubarrayIsSmaller = right - <span class="number">1</span> - start &lt; end - (right + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (leftSubarrayIsSmaller) &#123;</span><br><span class="line">        quickSort(array, start, right - <span class="number">1</span>);</span><br><span class="line">        quickSort(array, right + <span class="number">1</span>, end);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        quickSort(array, right + <span class="number">1</span>, end);</span><br><span class="line">        quickSort(array, start, right - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = array[j];</span><br><span class="line">    array[j] = array[i];</span><br><span class="line">    array[i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-Merge-Sort-AE-✨"><a href="#Unsolved-Merge-Sort-AE-✨" class="headerlink" title="Unsolved Merge Sort(AE) ✨"></a>Unsolved Merge Sort(AE) ✨</h2><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">divide and conquer</span><br><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">midIdx = (<span class="number">0</span> + <span class="number">6</span>) / <span class="number">2</span> = <span class="number">3</span></span><br><span class="line">subarray : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>], [<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">recursively call merge sort to subarray</span><br><span class="line">[<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>] -&gt; [<span class="number">8</span>, <span class="number">5</span>] , [<span class="number">2</span>, <span class="number">9</span>]</span><br><span class="line">[<span class="number">8</span>, <span class="number">5</span>] -&gt; [<span class="number">8</span>], [<span class="number">5</span>] base line, merge it to [<span class="number">5</span>, <span class="number">8</span>] (sorted)</span><br><span class="line">[<span class="number">2</span>, <span class="number">9</span>] -&gt; [<span class="number">2</span>], [<span class="number">9</span>] base line, merge it to [<span class="number">2</span>, <span class="number">9</span>] (sorted)</span><br><span class="line">merge to [<span class="number">2</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>] (sorted)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">do</span> same thing to another subarray</span><br><span class="line">[<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>] -&gt; [<span class="number">5</span>, <span class="number">6</span>], [<span class="number">3</span>] base line</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>] -&gt; [<span class="number">5</span>], [<span class="number">6</span>] base line, merge it to [<span class="number">5</span>, <span class="number">6</span>] (sorted)</span><br><span class="line">merge to [<span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>] (sorted)</span><br><span class="line"></span><br><span class="line">merge to [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>] (sorted)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] mergeSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    <span class="comment">//edge case</span></span><br><span class="line">    <span class="keyword">if</span> (array.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = array.length / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span>[] left = Arrays.copyOfRange(array, <span class="number">0</span>, mid);</span><br><span class="line">    <span class="keyword">int</span>[] right = Arrays.copyOfRange(array, mid, array.length);</span><br><span class="line">    <span class="keyword">return</span> mergeSortedArrays(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] mergeSortedArrays(<span class="keyword">int</span>[] left, <span class="keyword">int</span>[] right) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] sortedArray = <span class="keyword">new</span> <span class="keyword">int</span>[left.length + right.length];</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; left.length &amp;&amp; j &lt; right.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (left[i] &lt;= right[j]) &#123;</span><br><span class="line">            sortedArray[k++] = left[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sortedArray[k++] = right[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; left.length) &#123;</span><br><span class="line">        sortedArray[k++] = left[i++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; right.length) &#123;</span><br><span class="line">        sortedArray[k++] = right[j++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sortedArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] mergeSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    <span class="keyword">if</span> (array.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] auxiliaryArray = array.clone();</span><br><span class="line">    mergeSort(array, <span class="number">0</span>, array.length - <span class="number">1</span>, auxiliaryArray)</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] mainArray, <span class="keyword">int</span> startIdx, <span class="keyword">int</span> endIdx, <span class="keyword">int</span>[] auxiliaryArray)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (startIdx == endIdx)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = startIdx + (endIdx - startIdx) / <span class="number">2</span>;</span><br><span class="line">    mergeSort(auxiliaryArray, startIdx, mid, mainArray);</span><br><span class="line">    mergeSort(auxiliaryArray, mid + <span class="number">1</span>, endIdx, mainArray);</span><br><span class="line">    doMerge(mainArray, startIdx, mid, endIdx, auxiliaryArray);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doMerge</span><span class="params">(<span class="keyword">int</span>[] mainArray, <span class="keyword">int</span> startIdx, <span class="keyword">int</span> mid, <span class="keyword">int</span> endIdx, <span class="keyword">int</span>[] auxiliaryArray)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = startIdx;</span><br><span class="line">    <span class="keyword">int</span> i = startIdx;</span><br><span class="line">    <span class="keyword">int</span> j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt; endIdx) &#123;</span><br><span class="line">        <span class="keyword">if</span> (auxiliaryArray[i] &lt;= auxiliaryArray[j]) &#123;</span><br><span class="line">            mainArray[k++] = auxiliaryArray[i++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mainArray[k++] = auxiliaryArray[j++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) &#123;</span><br><span class="line">        mainArray[k++] = auxiliaryArray[i++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= endIdx) &#123;</span><br><span class="line">        mainArray[k++] = auxiliaryArray[j++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-969-Pancake-Sorting💜"><a href="#Unsolved-969-Pancake-Sorting💜" class="headerlink" title="Unsolved 969. Pancake Sorting💜"></a><a href="https://leetcode.com/problems/pancake-sorting/" target="_blank" rel="noopener">Unsolved 969. Pancake Sorting💜</a></h2><h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Find the largest number</li>
<li>Flip twice to the tail</li>
</ol>
<p>Time: O(N^2)<br>Flips: 2*N</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">pancakeSort</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> n = A.length, largest = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> index = find(A, largest);</span><br><span class="line">            flip(A, index);</span><br><span class="line">            flip(A, largest - <span class="number">1</span>);</span><br><span class="line">            result.add(index + <span class="number">1</span>);</span><br><span class="line">            result.add(largest--);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (A[i] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">flip</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = index;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = A[i];</span><br><span class="line">            A[i++] = A[j];</span><br><span class="line">            A[j--] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><strong>Explanation</strong><br>Find the index <code>i</code> of the next maximum number <code>x</code>.<br>Reverse <code>i + 1</code> numbers, so that the <code>x</code> will be at <code>A[0]</code><br>Reverse <code>x</code> numbers, so that <code>x</code> will be at <code>A[x - 1]</code>.<br>Repeat this process <code>N</code> times.</li>
<li><strong>Update:</strong><br>Actually, I didn’t use the condition permutation of <code>[1,2,..., A.length]</code>.<br>I searched in the descending order of <code>A</code>.</li>
<li>Time Complexity: O(N^2)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">pancakeSort</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = A.length, i; x &gt; <span class="number">0</span>; --x) &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; A[i] != x; ++i);</span><br><span class="line">            reverse(A, i + <span class="number">1</span>);</span><br><span class="line">            res.add(i + <span class="number">1</span>);</span><br><span class="line">            reverse(A, x);</span><br><span class="line">            res.add(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, j = k - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = A[i];</span><br><span class="line">            A[i] = A[j];</span><br><span class="line">            A[j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Absolute-Value-Sort💜"><a href="#Absolute-Value-Sort💜" class="headerlink" title="Absolute Value Sort💜"></a>Absolute Value Sort💜</h2><p>Given an array of integers <code>arr</code>, write a function <code>absSort(arr)</code>, that sorts the array according to the absolute values of the numbers in <code>arr</code>. If two numbers have the same absolute value, sort them according to sign, where the negative numbers come before the positive numbers.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">input:  arr = [<span class="number">2</span>, -<span class="number">7</span>, -<span class="number">2</span>, -<span class="number">2</span>, <span class="number">0</span>]</span><br><span class="line">output: [<span class="number">0</span>, -<span class="number">2</span>, -<span class="number">2</span>, <span class="number">2</span>, -<span class="number">7</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Selection sort</p>
</li>
<li><p><strong>Time Complexity:</strong> <code>O(N^2)</code> from our two for loops.</p>
<p><strong>Space Complexity:</strong> <code>O(1)</code>, the additional space used by <code>best</code>.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">absSort</span><span class="params">(arr)</span>:</span></span><br><span class="line"><span class="function">    function <span class="title">smaller</span><span class="params">(a, b)</span>:</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> <span class="title">abs</span><span class="params">(a)</span> &lt; <span class="title">abs</span><span class="params">(b)</span>: return <span class="keyword">true</span></span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> <span class="title">abs</span><span class="params">(a)</span> &gt; <span class="title">abs</span><span class="params">(b)</span>: return <span class="keyword">false</span></span></span><br><span class="line"><span class="function">        return a &lt; b</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="keyword">for</span> i from 0 to arr.length - 2:</span></span><br><span class="line"><span class="function">        best </span>= i</span><br><span class="line">        <span class="keyword">for</span> j from i to arr.length - <span class="number">1</span>:</span><br><span class="line">            <span class="function"><span class="keyword">if</span> <span class="title">smaller</span><span class="params">(arr[j], arr[best])</span>:</span></span><br><span class="line"><span class="function">                best </span>= j</span><br><span class="line">        arr[best], arr[i] = arr[i], arr[best]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span>[] absSort(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">    <span class="comment">// your code goes here</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> min = arr[i];</span><br><span class="line">        <span class="keyword">int</span> minidx = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; arrar.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (smaller(arr[j], min)) &#123;</span><br><span class="line">                min = array[j];</span><br><span class="line">                minidx = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (minidx != i) &#123;</span><br><span class="line">            arr[minidx] = arr[i];</span><br><span class="line">            arr[i] = min;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">smaller</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Math.abs(a) &lt; Math.abs(b)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (Math.abs(a) &gt; Math.abs(b)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> a &lt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] nums = &#123;<span class="number">2</span>, -<span class="number">7</span>, -<span class="number">2</span>, -<span class="number">2</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    Sysytem.println(absSort(nums));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-2"><a href="#Solution2-2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p>Custom Sort</p>
</li>
<li><p>Leverage the sort function of your languages library. Usually, it will have support for either a custom comparison function. </p>
</li>
<li><p>For a custom comparison function <code>compare(a, b)</code>, typically we want to return <code>-1</code> if <code>a &lt; b</code>, <code>1</code> if <code>a &gt; b</code>, and <code>0</code> if <code>a == b</code>.</p>
</li>
<li><p><strong>Time Complexity:</strong> <code>O(N log N)</code>, the complexity of sorting.</p>
<p><strong>Space Complexity:</strong> <code>O(N)</code>, the space typically used by compilers in their implementation of sorting operations.</p>
<p><a href="https://www.codejava.net/java-core/collections/sorting-arrays-examples-with-comparable-and-comparator" target="_blank" rel="noopener">https://www.codejava.net/java-core/collections/sorting-arrays-examples-with-comparable-and-comparator</a></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">absSort</span><span class="params">(arr)</span>:</span></span><br><span class="line"><span class="function">    def <span class="title">compare</span><span class="params">(a, b)</span>:</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> <span class="title">abs</span><span class="params">(a)</span> &lt; <span class="title">abs</span><span class="params">(b)</span>: return -1</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> <span class="title">abs</span><span class="params">(a)</span> &gt; <span class="title">abs</span><span class="params">(b)</span>: return 1</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> a &lt; b: return -1</span></span><br><span class="line"><span class="function">        <span class="keyword">if</span> a &gt; b: return 1</span></span><br><span class="line"><span class="function">        return 0</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    arr.<span class="title">sort</span><span class="params">(cmp = compare)</span></span></span><br><span class="line"><span class="function">    return arr</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">solution</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] absSort(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">        <span class="comment">// your code goes here</span></span><br><span class="line">        Comparator&lt;Integer&gt; myComp = <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (Math.abs(a) &lt; Math.abs(b)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (Math.abs(a) &gt; Math.abs(b)) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (a &lt; b) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (a &gt; b) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Arrays.sort(arr, myComp);</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">2</span>, -<span class="number">7</span>, -<span class="number">2</span>, -<span class="number">2</span>, <span class="number">0</span>&#125;;</span><br><span class="line">        System.out.println(absSort(nums));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-1288-Remove-Covered-Intervals🎂"><a href="#Unsolved-1288-Remove-Covered-Intervals🎂" class="headerlink" title="Unsolved 1288. Remove Covered Intervals🎂"></a><a href="https://leetcode.com/problems/remove-covered-intervals/?utm_source=AlgoTogether&utm_campaign=ecad82826e-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_5&utm_medium=email&utm_term=0_38d4e2e3e2-ecad82826e-231340480" target="_blank" rel="noopener">Unsolved 1288. Remove Covered Intervals🎂</a></h2><h1 id="Quick-Select快速选择"><a href="#Quick-Select快速选择" class="headerlink" title="Quick Select快速选择"></a>Quick Select快速选择</h1><p>用于求解 <strong>Kth Element</strong> 问题，也就是第 K 个元素的问题。</p>
<p>可以使用快速排序的 partition() 进行实现。需要先打乱数组，否则最坏情况下时间复杂度为 O(N2)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSelector</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * select the kth smallest element in arr</span></span><br><span class="line"><span class="comment">     *  0 &lt;= k &lt; arr.length</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> arr</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">select</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> quickselect(arr, <span class="number">0</span>, arr.length-<span class="number">1</span>, k);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">quickselect</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> from, <span class="keyword">int</span> to, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index = partition(arr, from, to);</span><br><span class="line">        <span class="keyword">if</span>(index-from == k) &#123;</span><br><span class="line">            <span class="keyword">return</span> arr[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(index-from &gt; k) &#123;</span><br><span class="line">            <span class="keyword">return</span> quickselect(arr, from, index-<span class="number">1</span>, k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> quickselect(arr, index+<span class="number">1</span>, to, k-(index-from+<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> from, <span class="keyword">int</span> to)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pivot = arr[from];</span><br><span class="line">        <span class="keyword">int</span> i = from+<span class="number">1</span>, j = to;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= j) &#123;</span><br><span class="line">            <span class="keyword">while</span>(i &lt;= j &amp;&amp; arr[i] &lt;= pivot) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(i &lt;= j &amp;&amp; arr[j] &gt;= pivot) &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i &lt;= j) &#123;</span><br><span class="line">                swap(arr, i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(arr, from, j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> t = arr[i];</span><br><span class="line">        arr[i] = arr[j];</span><br><span class="line">        arr[j] = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="215-Kth-Largest-Element-in-an-Array"><a href="#215-Kth-Largest-Element-in-an-Array" class="headerlink" title="215. Kth Largest Element in an Array"></a>215. Kth Largest Element in an Array</h3><p>Personally, the most straightforward way is to use quick select. There is a simple conversion: Find kith largest element is equivalent to find (n - k)th smallest element in array. It is worth mentioning that (n - k) is the real index (start from 0) of an element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, end = nums.length - <span class="number">1</span>, index = nums.length - k;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">            <span class="keyword">int</span> pivot = partion(nums, start, end);</span><br><span class="line">            <span class="keyword">if</span> (pivot &lt; index) start = pivot + <span class="number">1</span>; </span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pivot &gt; index) end = pivot - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> nums[pivot];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[start];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partion</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pivot = start, temp;</span><br><span class="line">        <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">            <span class="keyword">while</span> (start &lt;= end &amp;&amp; nums[start] &lt;= nums[pivot]) start++;</span><br><span class="line">            <span class="keyword">while</span> (start &lt;= end &amp;&amp; nums[end] &gt; nums[pivot]) end--;</span><br><span class="line">            <span class="keyword">if</span> (start &gt; end) <span class="keyword">break</span>;</span><br><span class="line">            temp = nums[start];</span><br><span class="line">            nums[start] = nums[end];</span><br><span class="line">            nums[end] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = nums[end];</span><br><span class="line">        nums[end] = nums[pivot];</span><br><span class="line">        nums[pivot] = temp;</span><br><span class="line">        <span class="keyword">return</span> end;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Heap-优先队列-堆"><a href="#Heap-优先队列-堆" class="headerlink" title="Heap 优先队列/堆"></a>Heap 优先队列/堆</h1><h2 id="Min-Heap-Construction-AE"><a href="#Min-Heap-Construction-AE" class="headerlink" title="Min Heap Construction(AE)"></a>Min Heap Construction(AE)</h2><ol>
<li><p>Building a Min Heap form an input array of integers. Implement <strong><code>insert</code></strong>, <strong><code>remove</code></strong>, <strong><code>peek</code></strong>, <strong><code>sift up</code></strong>, <strong><code>sift down</code></strong> operations. Heap is a binary and a special type of binary tree that satisfies two additional properties.  Completeness and heap property. For Min Heap, every node value is smaller of equal to children node.</p>
</li>
<li><p>Child position formula</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">currentNode -&gt;  i</span><br><span class="line">childOne    -&gt;  <span class="number">2</span>i + <span class="number">1</span></span><br><span class="line">childTwo    -&gt;  <span class="number">2</span>i + <span class="number">2</span></span><br><span class="line">parentNode  -&gt;  floor((i - <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line"> <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>,  <span class="number">8</span></span><br><span class="line">[<span class="number">8</span>,<span class="number">12</span>,<span class="number">23</span>,<span class="number">17</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">44</span>,<span class="number">102</span>,<span class="number">18</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>After insert new element, sift up or down to the correct position, eg. add 9 element, it less than parent 31 swap them , 9 less than parent 12 swap them. Same to sift down, if parent small than the <strong><code>minimum children</code></strong> node, swap them. Remove root, swap last root node and children node, pop() it, then sift down</p>
</li>
<li><p>sift up &amp; sift down O(log n) every time wo remove half of the tree</p>
<p>Build Heap O(n)  not O(n logn) sift down on leaf node is constant time,  math sum up of all node sift down is n</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Program</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MinHeap</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; heap = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();  <span class="comment">//implement by array</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MinHeap</span><span class="params">(List&lt;Integer&gt; array)</span> </span>&#123;</span><br><span class="line">            heap = buildHeap(array);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//O(n) time | O(1) space</span></span><br><span class="line">        <span class="comment">//5.build Heap by calling sift down method on all parent nodes</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">buildHeap</span><span class="params">(List&lt;Integer&gt; array)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> firstParentIdx = (array.size() - <span class="number">2</span>) / <span class="number">2</span>;  </span><br><span class="line">            <span class="comment">//start from first parent node, (array.size() - 1 - 1) /2</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> currentIdx = firstParentIdx; currentIdx &gt;= <span class="number">0</span>; currentIdx--) &#123;  <span class="comment">//go from the end to traverse, sift all to the bottom</span></span><br><span class="line">                siftDown(currentIdx, array.size() - <span class="number">1</span>, array);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> array;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.(logn) time | O(1) space</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">siftDown</span><span class="params">(<span class="keyword">int</span> currentIdx, <span class="keyword">int</span> endIdx, List&lt;Integer&gt; heap)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> childOneIdx = currentIdx * <span class="number">2</span> + <span class="number">1</span>;  <span class="comment">//calculate the first children position</span></span><br><span class="line">            <span class="keyword">while</span> (childOneIdx &lt;= endIdx) &#123; </span><br><span class="line">                <span class="keyword">int</span> childTwoIdx = currentIdx * <span class="number">2</span> + <span class="number">2</span> &lt;= endIdx ? currentIdx * <span class="number">2</span> + <span class="number">2</span> : -<span class="number">1</span>;  <span class="comment">//if exist children 2</span></span><br><span class="line">                <span class="keyword">int</span> idxToSwap;  <span class="comment">//if we have child2 and smaller than child1, target is child2</span></span><br><span class="line">                <span class="keyword">if</span> (childTwoIdx != -<span class="number">1</span> &amp;&amp; heap.get(childTwoIdx) &lt; heap.get(childOneIdx)) &#123;</span><br><span class="line">                    idxToSwap = childTwoIdx;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    idxToSwap = childOneIdx;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (heap.get(idxToSwap) &lt; heap.get(currentIdx)) &#123;  <span class="comment">//if if not satisfy the heap property, smallest child &lt; current value, swap them</span></span><br><span class="line">                    swap(currentIdx, idxToSwap, heap);</span><br><span class="line">                    currentIdx = idxToSwap;  <span class="comment">//keep track the value after previously swap</span></span><br><span class="line">                    childOneIdx = currentIdx * <span class="number">2</span> + <span class="number">1</span>;  <span class="comment">//update the next child</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.O(logn) time | O(1) space</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">siftUp</span><span class="params">(<span class="keyword">int</span> currentIdx, List&lt;Integer&gt; heap)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> parentIdx = (currentIdx - <span class="number">1</span>) / <span class="number">2</span>;  <span class="comment">//find the parent index value, floor that down</span></span><br><span class="line">            <span class="keyword">while</span> (currentIdx &gt; <span class="number">0</span> &amp;&amp; heap.get(currentIdx) &lt; heap.get(parentIdx)) &#123;</span><br><span class="line">                <span class="comment">//if not satisfy the heap property, parent node is great than current, swap them, base line is current&gt;0 is child</span></span><br><span class="line">                swap(currentIdx, parentIdx, heap);</span><br><span class="line">                currentIdx = parentIdx;  <span class="comment">//update the cur and parent after swap previously</span></span><br><span class="line">                parentIdx = (currentIdx - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> heap.get(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            swap(<span class="number">0</span>, heap.size() - <span class="number">1</span>, heap);  <span class="comment">//swap the first with last value</span></span><br><span class="line">            <span class="keyword">int</span> valueToRemove = heap.get(heap.size() - <span class="number">1</span>);  <span class="comment">//pop the target value</span></span><br><span class="line">            heap.remove(heap.size() - <span class="number">1</span>);</span><br><span class="line">            siftDown(<span class="number">0</span>, heap.size() - <span class="number">1</span>, heap);  <span class="comment">//sift down the value to the correct position</span></span><br><span class="line">            <span class="keyword">return</span> valueToRemove;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.start with insert method</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            heap.add(value);  <span class="comment">//add it to the tail in the array</span></span><br><span class="line">            siftUp(heap.size() - <span class="number">1</span>, heap);  <span class="comment">//sift it up to the correct position</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, List&lt;Integer&gt; heap)</span> </span>&#123;</span><br><span class="line">            Integer temp = heap.get(j);</span><br><span class="line">            heap.set(j, heap.get(i));</span><br><span class="line">            heap.set(i, temp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Continuous-Median-AE"><a href="#Continuous-Median-AE" class="headerlink" title="Continuous Median(AE)"></a>Continuous Median(AE)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ContinuousMedianHandler</span> </span>&#123;</span><br><span class="line">    Heap lowes = <span class="keyword">new</span> Heap(Heap::Max_VALUE_FUNC, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">    Heap greaters = <span class="function">enw <span class="title">Heap</span><span class="params">(Heap::MIN_FUNC, new ArrayList&lt;Integer&gt;()</span>)</span>;</span><br><span class="line">    <span class="keyword">double</span> median = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Merge-Sort-Arrays-AE"><a href="#Merge-Sort-Arrays-AE" class="headerlink" title="Merge Sort Arrays(AE)"></a>Merge Sort Arrays(AE)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="295-Find-Median-from-Data-Stream✨"><a href="#295-Find-Median-from-Data-Stream✨" class="headerlink" title="295. Find Median from Data Stream✨"></a><a href="https://leetcode.com/problems/find-median-from-data-stream/" target="_blank" rel="noopener">295. Find Median from Data Stream✨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In java, we can implement max heap in <span class="keyword">this</span> neat way:</span><br><span class="line">Queue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; (b - a));</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>I keep two heaps (or priority queues):</p>
<ul>
<li>Max-heap <code>small</code> has the smaller half of the numbers.</li>
<li>Min-heap <code>large</code> has the larger half of the numbers.</li>
</ul>
<p>This gives me direct access to the one or two middle values (they’re the tops of the heaps), so getting the median takes O(1) time. And adding a number takes O(log n) time.</p>
</li>
<li><p>The invariant of the algorithm is two heaps, small and large, each represent half of the current list. The length of smaller half is kept to be n / 2 at all time and the length of the larger half is either n / 2 or n / 2 + 1 depend on n’s parity.</p>
</li>
<li><p>This way we only need to peek the two heaps’ top number to calculate median.</p>
<p>Any time before we add a new number, there are two scenarios, (total n numbers, k = n / 2):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) <span class="function">length <span class="title">of</span> <span class="params">(small, large)</span> </span>== (k, k)</span><br><span class="line">(<span class="number">2</span>) <span class="function">length <span class="title">of</span> <span class="params">(small, large)</span> </span>== (k, k + <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>After adding the number, total (n + 1) numbers, they will become:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) <span class="function">length <span class="title">of</span> <span class="params">(small, large)</span> </span>== (k, k + <span class="number">1</span>)</span><br><span class="line">(<span class="number">2</span>) <span class="function">length <span class="title">of</span> <span class="params">(small, large)</span> </span>== (k + <span class="number">1</span>, k + <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>Here we take the first scenario for example, we know the large will gain one more item and small will remain the same size, but we cannot just push the item into large. What we should do is we push the new number into small and pop the maximum item from small then push it into large (all the pop and push here are heappop and heappush). By doing this kind of operations for the two scenarios we can keep our invariant.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; small = <span class="keyword">new</span> PriorityQueue(<span class="number">1</span>, <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o2 - o1; </span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//Queue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; (b - a));</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; large = <span class="keyword">new</span> PriorityQueue();</span><br><span class="line">    <span class="comment">// Adds a number into the data structure.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        large.add(num);</span><br><span class="line">        small.add(large.poll());</span><br><span class="line">        <span class="keyword">if</span> (large.size() &lt; small.size())</span><br><span class="line">            large.add(small.poll());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Returns the median of current data stream</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> large.size() &gt; small.size()</span><br><span class="line">            ? large.peek()</span><br><span class="line">            : (large.peek() + small.peek()) / <span class="number">2.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> PriorityQueue&lt;Integer&gt; small = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line"><span class="keyword">private</span> PriorityQueue&lt;Integer&gt; large = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span> even = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedian</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (even)</span><br><span class="line">        <span class="keyword">return</span> (small.peek() + large.peek()) / <span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> small.peek();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (even) &#123;</span><br><span class="line">        large.offer(num);</span><br><span class="line">        small.offer(large.poll());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        small.offer(num);</span><br><span class="line">        large.offer(small.poll());</span><br><span class="line">    &#125;</span><br><span class="line">    even = !even;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-373-Find-K-Pairs-with-Smallest-Sums🎂"><a href="#Unsolved-373-Find-K-Pairs-with-Smallest-Sums🎂" class="headerlink" title="Unsolved 373. Find K Pairs with Smallest Sums🎂"></a><a href="https://leetcode.com/problems/find-k-pairs-with-smallest-sums/?utm_source=AlgoTogether&utm_campaign=05bc9f4051-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_4&utm_medium=email&utm_term=0_38d4e2e3e2-05bc9f4051-231340480" target="_blank" rel="noopener">Unsolved 373. Find K Pairs with Smallest Sums🎂</a></h2><h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><p><img src="https://cloud.githubusercontent.com/assets/8743900/17332795/0bb46cfe-589e-11e6-90b5-5d3c9696c4f0.png" alt=""></p>
<ol>
<li><p>Use min_heap to keep track on next minimum pair sum, and we only need to maintain K possible candidates in the data structure.</p>
<p>Some observations: For every numbers in nums1, its best partner(yields min sum) always strats from nums2[0] since arrays are all sorted; And for a specific number in nums1, its next candidate sould be <strong>[this specific number]</strong> + <strong>nums2[current_associated_index + 1]</strong>, unless out of boundary;)</p>
</li>
<li><p>The run time complexity is O(kLogk) since que.size &lt;= k and we do at most k loop.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">// min queue, sorted by pair sum</span></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; (a[<span class="number">0</span>] + a[<span class="number">1</span>]) - (b[<span class="number">0</span>] + b[<span class="number">1</span>]));</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="keyword">int</span> N1 = nums1.length, N2 = nums2.length;</span><br><span class="line">    <span class="keyword">if</span> (N1 == <span class="number">0</span> || N2 == <span class="number">0</span>) <span class="keyword">return</span> res; <span class="comment">// no pairs to form, just return an empty res list</span></span><br><span class="line">    <span class="comment">// offer initial pairs &#123;num1, num2, index_of_num2&#125;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Math.min(N1, k); i++) q.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nums1[i], nums2[<span class="number">0</span>], <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="comment">// get 1st k elem into result, each time, offer potential better pairs into queue</span></span><br><span class="line">    <span class="comment">// if there r not enough pair, just return all pairs</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Math.min(N1 * N2, k); i++) &#123;</span><br><span class="line">        <span class="comment">// get the best pair and put into res</span></span><br><span class="line">        <span class="keyword">int</span>[] cur = q.poll();</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;cur[<span class="number">0</span>], cur[<span class="number">1</span>]&#125;);</span><br><span class="line">        <span class="comment">// next better pair could with be A: &#123;after(num1), num2&#125; or B: &#123;num1. after(num2)&#125;</span></span><br><span class="line">        <span class="comment">// for A, we've already added top possible k into queue, so A is either in the queue already, or not qualified</span></span><br><span class="line">        <span class="comment">// for B, it might be a better choice, so we offer it into queue</span></span><br><span class="line">        <span class="keyword">if</span> (cur[<span class="number">2</span>] &lt; N2 - <span class="number">1</span> ) &#123; <span class="comment">// still at least one elem after num2 in array nums2</span></span><br><span class="line">            <span class="keyword">int</span> idx = cur[<span class="number">2</span>] + <span class="number">1</span>;</span><br><span class="line">            q.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;cur[<span class="number">0</span>], nums2[idx], idx&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-3"><a href="#Solution2-3" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>思路：最小的组合一定是排的较靠前的数字的组合，用最小堆保存最小值，遍历所有可能。先取一个数组的首 元素和另一数组每个元素两两结合，放入最小堆，可以证明堆中是小和值就是所有和值中最小。然后每次取出 当前对后，把第一个数组对应的值换成其下一个数，组成新对再放入堆。这个和值就是第二个数组对应数与所 有第一个数组中数和值中仅小于当前第一数组对应值的和值。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Pair</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x, y, sum;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.x = x;</span><br><span class="line">        <span class="keyword">this</span>.y = y;</span><br><span class="line">        <span class="keyword">this</span>.sum = sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Pair that)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.sum - that.sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; kSmallestPairs(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (nums1 == <span class="keyword">null</span> || nums2 == <span class="keyword">null</span> || nums1.length == <span class="number">0</span> || nums2.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    PriorityQueue&lt;Pair&gt; pQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> len1 = nums1.length, len2 = nums2.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len2; i++) &#123;</span><br><span class="line">        pQueue.offer(<span class="keyword">new</span> Pair(<span class="number">0</span>, i, nums1[<span class="number">0</span>] + nums2[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Math.min(k, len1 * len2); i++) &#123;</span><br><span class="line">        Pair p = pQueue.poll();</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(nums1[p.x]);</span><br><span class="line">        list.add(nums2[p.y]);</span><br><span class="line">        result.add(list);</span><br><span class="line">        <span class="keyword">if</span> (p.x == len1 - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        pQueue.offer(<span class="keyword">new</span> Pair(p.x + <span class="number">1</span>, p.y, nums1[p.x + <span class="number">1</span>] + nums2[p.y]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Heap-Sort-AE"><a href="#Heap-Sort-AE" class="headerlink" title="Heap Sort(AE)"></a>Heap Sort(AE)</h2><h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">array : [<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">unsorted:[<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>]</span><br><span class="line">sorted: []</span><br><span class="line">[<span class="number">9</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">swap(<span class="number">9</span>, <span class="number">3</span>)</span><br><span class="line">[<span class="number">3</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,| <span class="number">9</span>] the rightpaet of | is sorted</span><br><span class="line">sift down <span class="number">3</span></span><br><span class="line">[<span class="number">8</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,| <span class="number">9</span>]</span><br><span class="line">[<span class="number">8</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,| <span class="number">9</span>]</span><br><span class="line">swap(<span class="number">8</span>,<span class="number">2</span>)</span><br><span class="line">[<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">5</span>,| <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">sift down <span class="number">2</span></span><br><span class="line">[<span class="number">6</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,| <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">swap(<span class="number">6</span>,<span class="number">5</span>)</span><br><span class="line">[<span class="number">5</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">3</span>,| <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">sift down <span class="number">5</span></span><br><span class="line">child <span class="number">5</span> and <span class="number">2</span> both &lt;= <span class="number">5</span>, so <span class="keyword">do</span> nothing</span><br><span class="line">swap(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line">[<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,| <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">sift down <span class="number">3</span></span><br><span class="line">[<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,| <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">swap(<span class="number">5</span>,<span class="number">2</span>)</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,| <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">sift down <span class="number">2</span></span><br><span class="line">[<span class="number">3</span>,<span class="number">2</span>,| <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">swap(<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,| <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<ol>
<li><p>Best: O(n log n) time | O(1) space</p>
<p>Average: O(n log n) time | O(1) space</p>
<p>Worst: O(n log n) time | O(1) space</p>
</li>
<li><p>Built a max-heap, O(n) time, sift down n time which is log n time, so totally O(n log n) </p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] heapSort(<span class="keyword">int</span>[] array) &#123;</span><br><span class="line">    buildMaxHeap(array);</span><br><span class="line">    <span class="comment">//keep swap the last node and first node, then sift down</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> endIdx = array.length - <span class="number">1</span>; endIdx &gt; <span class="number">0</span>; endIdx--) &#123;</span><br><span class="line">        swap(<span class="number">0</span>, endIdx, array);</span><br><span class="line">        siftDown(<span class="number">0</span>, endIdx - <span class="number">1</span>, array);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">buildMaxHeap</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> firstParentIdx = (array.length - <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> currentIdx = firstParentIdx; currentIdx &gt;= <span class="number">0</span>; currentIdx--) &#123;</span><br><span class="line">        siftDown(currentIdx, array.length - <span class="number">1</span>, array);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">siftDown</span><span class="params">(<span class="keyword">int</span> currentIdx, <span class="keyword">int</span> endIdx, <span class="keyword">int</span>[] heap)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> childOneIdx = currentIdx * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (childOneIdx &lt;= endIdx) &#123;</span><br><span class="line">        <span class="keyword">int</span> childTwoIdx = currentIdx * <span class="number">2</span> + <span class="number">2</span> &lt;= endIdx ? currentIdx * <span class="number">2</span> + <span class="number">2</span> : -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> idxToSwap;</span><br><span class="line">        <span class="keyword">if</span> (childTwoIdx != -<span class="number">1</span> &amp;&amp; heap[childTwoIdx] &gt; heap[childOneIdx]) &#123;</span><br><span class="line">            idxToSwap = childTwoIdx;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            idxToSwap = childOneIdx;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (heap[idxToSwap] &gt; heap[currentIdx]) &#123;</span><br><span class="line">            swap(currentIdx, idxToSwap, heap);</span><br><span class="line">            currentIdx = idxToSwap;</span><br><span class="line">            childOneIdx = currentIdx * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = array[j];</span><br><span class="line">    array[j] = array[i];</span><br><span class="line">    array[i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>用于求解 <strong>TopK Elements</strong> 问题，也就是 K 个最小元素的问题。可以维护一个大小为 K 的最小堆，最小堆中的元素就是最小元素。最小堆需要使用大顶堆来实现，大顶堆表示堆顶元素是堆中最大元素。这是因为我们要得到 k 个最小的元素，因此当遍历到一个新的元素时，需要知道这个新元素是否比堆中最大的元素更小，更小的话就把堆中最大元素去除，并将新元素添加到堆中。所以我们需要很容易得到最大元素并移除最大元素，大顶堆就能很好满足这个要求。</p>
<p>堆也可以用于求解 Kth Element 问题，得到了大小为 k 的最小堆之后，因为使用了大顶堆来实现，因此堆顶元素就是第 k 大的元素。</p>
<p>快速选择也可以求解 TopK Elements 问题，因为找到 Kth Element 之后，再遍历一次数组，所有小于等于 Kth Element 的元素都是 TopK Elements。</p>
<p>可以看到，快速选择和堆排序都可以求解 Kth Element 和 Top K Elements 问题。</p>
<h2 id="215-Kth-Largest-Element-in-an-Array-1"><a href="#215-Kth-Largest-Element-in-an-Array-1" class="headerlink" title="215.Kth Largest Element in an Array"></a><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/description/" target="_blank" rel="noopener">215.Kth Largest Element in an Array</a></h2><p>题目描述：找到倒数第 k 个的元素。</p>
<p>Find the <strong>k</strong>th largest element in an unsorted array. </p>
<p>Note that it is the kth largest element in the sorted order, not the kth distinct element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>] and k = <span class="number">2</span></span><br><span class="line">Output: <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路 1：排序后取第 k 大。O(nlogn)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//时间复杂度 O(NlogN)，空间复杂度 O(1)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> nums[nums.length - k];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-4"><a href="#Solution2-4" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Heap 思路 2：维护一个前 k 大的队列，最后弹出第一个元素。O(nlogk)</li>
<li>Time complexity : \mathcal{O}(N \log k)O(<em>N</em>log<em>k</em>).</li>
<li>Space complexity : \mathcal{O}(k)O(<em>k</em>) to store the heap elements.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//时间复杂度 O(NlogK)，空间复杂度 O(K)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// init heap 'the smallest element first'</span></span><br><span class="line">    PriorityQueue&lt;Integer&gt; heap =</span><br><span class="line">        <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;((n1, n2) -&gt; n1 - n2);  <span class="comment">// min heap</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// keep k largest elements in the heap</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n: nums) &#123;</span><br><span class="line">        heap.add(n);</span><br><span class="line">        <span class="keyword">if</span> (heap.size() &gt; k)  <span class="comment">//keep the size of heap is K, min value pop</span></span><br><span class="line">            heap.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// output</span></span><br><span class="line">    <span class="keyword">return</span> heap.poll();        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3"><a href="#Solution3" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li>Quick sort 思路 3（略）：类似快速排序，先找出前 k 个数，然后取最大。O(n2 )，平均 O(n)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//时间复杂度 O(N)，空间复杂度 O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    k = nums.length - k;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>, h = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt; h) &#123;</span><br><span class="line">        <span class="keyword">int</span> j = partition(nums, l, h);</span><br><span class="line">        <span class="keyword">if</span> (j == k) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &lt; k) &#123;</span><br><span class="line">            l = j + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            h = j - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> l, <span class="keyword">int</span> h)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = l, j = h + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (a[++i] &lt; a[l] &amp;&amp; i &lt; h) ;</span><br><span class="line">        <span class="keyword">while</span> (a[--j] &gt; a[l] &amp;&amp; j &gt; l) ;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(a, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    swap(a, l, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = a[i];</span><br><span class="line">    a[i] = a[j];</span><br><span class="line">    a[j] = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="973-K-Closest-Points-to-Origin"><a href="#973-K-Closest-Points-to-Origin" class="headerlink" title="973. K Closest Points to Origin"></a><a href="https://leetcode.com/problems/k-closest-points-to-origin/" target="_blank" rel="noopener">973. K Closest Points to Origin</a></h2><h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Sort</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] kClosest(<span class="keyword">int</span>[][] points, <span class="keyword">int</span> K) &#123;</span><br><span class="line">    <span class="keyword">int</span> N = points.length;</span><br><span class="line">    <span class="keyword">int</span>[] dists = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">        dists[i] = dist(points[i]);</span><br><span class="line"></span><br><span class="line">    Arrays.sort(dists);</span><br><span class="line">    <span class="keyword">int</span> distK = dists[K-<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//creat ans to save pointer which dist &lt;= distK</span></span><br><span class="line">    <span class="keyword">int</span>[][] ans = <span class="keyword">new</span> <span class="keyword">int</span>[K][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i)</span><br><span class="line">        <span class="keyword">if</span> (dist(points[i]) &lt;= distK)</span><br><span class="line">            ans[idx++] = points[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dist</span><span class="params">(<span class="keyword">int</span>[] point)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> point[<span class="number">0</span>] * point[<span class="number">0</span>] + point[<span class="number">1</span>] * point[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-5"><a href="#Solution2-5" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Heap</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] kClosest(<span class="keyword">int</span>[][] points, <span class="keyword">int</span> K) &#123;</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;<span class="keyword">int</span>[]&gt;(<span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123; </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] left, <span class="keyword">int</span>[] right)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> getDistance(right) - getDistance(left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] point: points) &#123;</span><br><span class="line">        heap.add(point);</span><br><span class="line">        <span class="keyword">if</span> (heap.size() &gt; K)</span><br><span class="line">            heap.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[][] result = <span class="keyword">new</span> <span class="keyword">int</span>[K][<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">while</span> (K &gt; <span class="number">0</span>)</span><br><span class="line">        result[--K] = heap.poll();</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getDistance</span><span class="params">(<span class="keyword">int</span> [] point)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> point[<span class="number">0</span>] * point[<span class="number">0</span>] + point[<span class="number">1</span>] * point[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-253-Meeting-Rooms-II"><a href="#Unsolved-253-Meeting-Rooms-II" class="headerlink" title="Unsolved 253. Meeting Rooms II"></a><a href="https://leetcode.com/problems/meeting-rooms-ii/" target="_blank" rel="noopener">Unsolved 253. Meeting Rooms II</a></h2><h3 id="Solution1-9"><a href="#Solution1-9" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Priority Queues</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(<span class="keyword">int</span>[][] intervals)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Check for the base case. If there are no intervals, return 0</span></span><br><span class="line">        <span class="keyword">if</span> (intervals.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Min heap</span></span><br><span class="line">        PriorityQueue&lt;Integer&gt; allocator =</span><br><span class="line">            <span class="keyword">new</span> PriorityQueue&lt;Integer&gt;(</span><br><span class="line">            intervals.length,</span><br><span class="line">            <span class="keyword">new</span> Comparator&lt;Integer&gt;() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer a, Integer b)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> a - b;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sort the intervals by start time</span></span><br><span class="line">        Arrays.sort(</span><br><span class="line">            intervals,</span><br><span class="line">            <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span>[] a, <span class="keyword">final</span> <span class="keyword">int</span>[] b)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> a[<span class="number">0</span>] - b[<span class="number">0</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Add the first meeting</span></span><br><span class="line">        allocator.add(intervals[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Iterate over remaining intervals</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// If the room due to free up the earliest is free, assign that room to this meeting.</span></span><br><span class="line">            <span class="keyword">if</span> (intervals[i][<span class="number">0</span>] &gt;= allocator.peek()) &#123;</span><br><span class="line">                allocator.poll();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// If a new room is to be assigned, then also we add to the heap,</span></span><br><span class="line">            <span class="comment">// If an old room is allocated, then also we have to add to the heap with updated end time.</span></span><br><span class="line">            allocator.add(intervals[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// The size of the heap tells us the minimum rooms required for all the meetings.</span></span><br><span class="line">        <span class="keyword">return</span> allocator.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (intervals == <span class="keyword">null</span> || intervals.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Sort the intervals by start time</span></span><br><span class="line">    Arrays.sort(intervals, <span class="keyword">new</span> Comparator&lt;Interval&gt;() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Interval a, Interval b)</span> </span>&#123; <span class="keyword">return</span> a.start - b.start; &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use a min heap to track the minimum end time of merged intervals</span></span><br><span class="line">    PriorityQueue&lt;Interval&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;Interval&gt;(intervals.length, <span class="keyword">new</span> Comparator&lt;Interval&gt;() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Interval a, Interval b)</span> </span>&#123; <span class="keyword">return</span> a.end - b.end; &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// start with the first meeting, put it to a meeting room</span></span><br><span class="line">    heap.offer(intervals[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line">        <span class="comment">// get the meeting room that finishes earliest</span></span><br><span class="line">        Interval interval = heap.poll();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (intervals[i].start &gt;= interval.end) &#123;</span><br><span class="line">            <span class="comment">// if the current meeting starts right after </span></span><br><span class="line">            <span class="comment">// there's no need for a new room, merge the interval</span></span><br><span class="line">            interval.end = intervals[i].end;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// otherwise, this meeting needs a new room</span></span><br><span class="line">            heap.offer(intervals[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// don't forget to put the meeting room back</span></span><br><span class="line">        heap.offer(interval);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> heap.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Solution2-6"><a href="#Solution2-6" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(Interval[] intervals)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] starts = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">        <span class="keyword">int</span>[] ends = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; i++) &#123;</span><br><span class="line">            starts[i] = intervals[i].start;</span><br><span class="line">            ends[i] = intervals[i].end;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(starts);</span><br><span class="line">        Arrays.sort(ends);</span><br><span class="line">        <span class="keyword">int</span> rooms = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> endsItr = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;starts.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(starts[i]&lt;ends[endsItr])</span><br><span class="line">                rooms++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                endsItr++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> rooms;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-502-IPO✨"><a href="#Unsolved-502-IPO✨" class="headerlink" title="Unsolved 502.IPO✨"></a><a href="https://leetcode.com/problems/ipo/?utm_source=AlgoTogether&utm_campaign=05bc9f4051-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_4&utm_medium=email&utm_term=0_38d4e2e3e2-05bc9f4051-231340480" target="_blank" rel="noopener">Unsolved 502.IPO✨</a></h2><h1 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h1><h2 id="347-Top-K-Frequent-Elements⭐"><a href="#347-Top-K-Frequent-Elements⭐" class="headerlink" title="347.Top K Frequent Elements⭐"></a><a href="https://leetcode.com/problems/top-k-frequent-elements/description/" target="_blank" rel="noopener">347.Top K Frequent Elements⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Given [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>] and k = <span class="number">2</span>, <span class="keyword">return</span> [<span class="number">1</span>,<span class="number">2</span>].</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-10"><a href="#Solution1-10" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>设置若干个桶，每个桶存储出现频率相同的数。桶的下标表示数出现的频率，即第 i 个桶中存储的数出现的频率为 i。把数都放到桶之后，从后向前遍历桶，最先得到的 k 个数就是出现频率最多的的 k 个数。</li>
<li>思路：桶排序。因为最大词频不可能超过数组长度，所以所有的频率都会在这个范围内，利用这个数组统计每 一个频次上出现的词的个数，取最大的 k 个（注意要把没有词频信息的排除）。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) linear time</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] topKFrequent(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    List&lt;Integer&gt;[] freq = <span class="keyword">new</span> List[n];</span><br><span class="line">    Map&lt;Integer, Integer&gt; freqMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums)</span><br><span class="line">        freqMap.put(num, freqMap.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : freqMap.keySet()) &#123;  <span class="comment">//index i means freq</span></span><br><span class="line">        <span class="keyword">int</span> i = freqMap.get(num) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (freq[i] == <span class="keyword">null</span>)</span><br><span class="line">            freq[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        freq[i].add(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*explain why linear time even two for loop here</span></span><br><span class="line"><span class="comment">        if bucket size == 0, freq[i] == null</span></span><br><span class="line"><span class="comment">        no inner loop else </span></span><br><span class="line"><span class="comment">        inner loop runs but at most k</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; k; --i)</span><br><span class="line">        <span class="keyword">if</span> (freq[i] != <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : freq[i])</span><br><span class="line">                ans[j++] = num;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-7"><a href="#Solution2-7" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Heap</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> heap(堆) 即 PriorityQueue 的用法，记录一下 PriorityQueue&lt;Map.Entry&lt;&gt;&gt; 的基本用法：</span><br><span class="line"> 写法一，直接 <span class="keyword">new</span> 一个Comparator：</span><br><span class="line"> PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(</span><br><span class="line">        <span class="keyword">new</span> Comparator&lt;Map.Entry&lt;Integer, Integer&gt;&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;Integer, Integer&gt; e1, Map.Entry&lt;Integer, Integer&gt; e2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> e1.getValue() - e2.getValue();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">写法二， 对写法一 优化：</span><br><span class="line">PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(</span><br><span class="line">        (e1, e2) -&gt; e1.getValue() - e2.getValue());</span><br><span class="line"></span><br><span class="line">写法三， 再优化</span><br><span class="line">PriorityQueue&lt;Map.Entry&lt;Integer, Integer&gt;&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Comparator.comparingInt(Map.Entry::getValue));</span><br><span class="line">这里的写法最终得到的 priorityQueue 都是最小堆， 如果需要使用最大对的话，在前两种写法里面要用e2.getValue()-e1.getValue().</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n log k) time</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] topKFrequent(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">// O(1) time</span></span><br><span class="line">    <span class="keyword">if</span> (k == nums.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. build hash map : character and how often it appears</span></span><br><span class="line">    <span class="comment">// O(N) time</span></span><br><span class="line">    Map&lt;Integer, Integer&gt; count = <span class="keyword">new</span> HashMap();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n: nums) &#123;</span><br><span class="line">        count.put(n, count.getOrDefault(n, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// init heap the less frequent element first</span></span><br><span class="line">    Queue&lt;Integer&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(</span><br><span class="line">        (n1, n2) -&gt; count.get(n1) - count.get(n2));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. keep k top frequent elements in the heap</span></span><br><span class="line">    <span class="comment">// O(N log k) &lt; O(N log N) time</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> n: count.keySet()) &#123;</span><br><span class="line">        heap.add(n);</span><br><span class="line">        <span class="keyword">if</span> (heap.size() &gt; k) heap.poll();    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. build an output array</span></span><br><span class="line">    <span class="comment">// O(k log k) time</span></span><br><span class="line">    <span class="keyword">int</span>[] top = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        top[i] = heap.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n log n)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] topKFrequent(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//edge case, k == nums.length</span></span><br><span class="line">    <span class="keyword">if</span> (k == nums.length)</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//map -&gt; frequency</span></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">        map.put(num, map.getOrDefault(num, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//pq max heap, can not poll the max value, so size is n not k</span></span><br><span class="line">    Queue&lt;Integer&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((n1, n2) -&gt; map.get(n2) - map.get(n1));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> key : map.keySet()) &#123;</span><br><span class="line">        heap.add(key);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//pq -&gt; int[], return</span></span><br><span class="line">    <span class="keyword">int</span>[] topK = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        topK[i] = heap.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> topK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="692-Top-K-Frequent-Words⭐"><a href="#692-Top-K-Frequent-Words⭐" class="headerlink" title="692. Top K Frequent Words⭐"></a><a href="https://leetcode.com/problems/top-k-frequent-words/" target="_blank" rel="noopener">692. Top K Frequent Words⭐</a></h2><h3 id="Solution1-11"><a href="#Solution1-11" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>The idea is to keep a count of each word in a HashMap and then insert in a Priority Queue.</li>
<li>While inserting in pq, if the count of two words is same then insert based on string compare of the keys.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKFrequent</span><span class="params">(String[] words, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        map.put(words[i], map.getOrDefault(words[i], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            if(map.containsKey(words[i]))</span></span><br><span class="line"><span class="comment">                map.put(words[i], map.get(words[i])+1);</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                map.put(words[i], 1);</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;Map.Entry&lt;String, Integer&gt;&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;(</span><br><span class="line">        (a,b) -&gt; a.getValue() == b.getValue() ? b.getKey().compareTo(a.getKey()) : a.getValue()-b.getValue()</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(Map.Entry&lt;String, Integer&gt; entry: map.entrySet())</span><br><span class="line">    &#123;</span><br><span class="line">        pq.offer(entry);</span><br><span class="line">        <span class="keyword">if</span> (pq.size() &gt; k)</span><br><span class="line">            pq.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!pq.isEmpty())</span><br><span class="line">        result.add(<span class="number">0</span>, pq.poll().getKey());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKFrequent</span><span class="params">(String[] words, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String w: words) &#123;</span><br><span class="line">        map.put(w, map.getOrDefault(w, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        max = Math.max(max, map.get(w));</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt;[] bucket = <span class="keyword">new</span> ArrayList[max + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry: map.entrySet()) &#123;</span><br><span class="line">        <span class="keyword">int</span> fre = entry.getValue();</span><br><span class="line">        <span class="keyword">if</span> (bucket[fre] == <span class="keyword">null</span>) &#123;</span><br><span class="line">            bucket[fre] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        bucket[fre].add(entry.getKey());</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = max; i &gt;= <span class="number">0</span> &amp;&amp; res.size() &lt; k; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (bucket[i] != <span class="keyword">null</span>) &#123;</span><br><span class="line">            Collections.sort(bucket[i]);</span><br><span class="line">            res.addAll(bucket[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.subList(<span class="number">0</span>, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="451-Sort-Characters-By-Frequency"><a href="#451-Sort-Characters-By-Frequency" class="headerlink" title="451. Sort Characters By Frequency"></a><a href="https://leetcode.com/problems/sort-characters-by-frequency/" target="_blank" rel="noopener">451. Sort Characters By Frequency</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"><span class="string">"tree"</span></span><br><span class="line">Output:</span><br><span class="line"><span class="string">"eert"</span></span><br><span class="line">Explanation:</span><br><span class="line"><span class="string">'e'</span> appears twice <span class="keyword">while</span> <span class="string">'r'</span> and <span class="string">'t'</span> both appear once.</span><br><span class="line">So <span class="string">'e'</span> must appear before both <span class="string">'r'</span> and <span class="string">'t'</span>. Therefore <span class="string">"eetr"</span> is also a valid answer.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-12"><a href="#Solution1-12" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Bucksort</li>
<li>The logic is very similar to NO.347 and here we just use a map a count and according to the frequency to put it into the right bucket. Then we go through the bucket to get the most frequently character and append that to the final stringbuilder.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">frequencySort</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Map&lt;Character, Integer&gt; frequencyForNum = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray())</span><br><span class="line">        frequencyForNum.put(c, frequencyForNum.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    List&lt;Character&gt;[] frequencyBucket = <span class="keyword">new</span> ArrayList[s.length() + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : frequencyForNum.keySet()) &#123;</span><br><span class="line">        <span class="keyword">int</span> f = frequencyForNum.get(c);</span><br><span class="line">        <span class="keyword">if</span> (frequencyBucket[f] == <span class="keyword">null</span>) &#123;</span><br><span class="line">            frequencyBucket[f] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        frequencyBucket[f].add(c);</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder str = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = frequencyBucket.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (frequencyBucket[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : frequencyBucket[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                str.append(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3-1"><a href="#Solution3-1" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li>And we have normal way using PriorityQueue as follows:<br>according to user “orxanb”, O(nlogm), m is the distinguish character, can be O(1) since only 26 letters. So the overall time complexity should be O(n), the same as the buck sort with less memory use.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">frequencySort</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray())</span><br><span class="line">        map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;Map.Entry&lt;Character, Integer&gt;&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; b.getValue() - a.getValue());</span><br><span class="line">    pq.addAll(map.entrySet());</span><br><span class="line"></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">        Map.Entry e = pq.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (<span class="keyword">int</span>)e.getValue(); i++) </span><br><span class="line">            sb.append(e.getKey());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3-2"><a href="#Solution3-2" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li>There is a follow up if you are interested, </li>
<li>when same frequency we need to maintain the same sequence as the character show in the original string, the solution is add a index as a secondary sort if the frequency is same</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">frequencySort</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Map&lt;Character, <span class="keyword">int</span>[]&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(c)) map.put(c, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, i&#125;);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span>[] freqAndSeq = map.get(c);</span><br><span class="line">            freqAndSeq[<span class="number">0</span>]++;</span><br><span class="line">            map.put(c, freqAndSeq);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;Map.Entry&lt;Character, <span class="keyword">int</span>[]&gt;&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt;</span><br><span class="line">                                                                        a.getValue()[<span class="number">0</span>] == b.getValue()[<span class="number">0</span>] ? a.getValue()[<span class="number">1</span>] - b.getValue()[<span class="number">1</span>] : b.getValue()[<span class="number">0</span>] - a.getValue()[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    pq.addAll(map.entrySet());</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">        Map.Entry&lt;Character, <span class="keyword">int</span>[]&gt; e = pq.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; e.getValue()[<span class="number">0</span>]; i++)</span><br><span class="line">            sb.append(e.getKey());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="荷兰国旗问题"><a href="#荷兰国旗问题" class="headerlink" title="荷兰国旗问题"></a>荷兰国旗问题</h1><h2 id="Three-Number-Sort-AE"><a href="#Three-Number-Sort-AE" class="headerlink" title="Three Number Sort(AE)"></a>Three Number Sort(AE)</h2><h3 id="Solution1-13"><a href="#Solution1-13" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Bucket Sort</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) time | O(1) space</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] threeNumberSort(<span class="keyword">int</span>[] array, <span class="keyword">int</span>[] order) &#123;</span><br><span class="line">    <span class="comment">//create the bucket</span></span><br><span class="line">    <span class="keyword">int</span>[] valueCounts = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> ele : array) &#123;</span><br><span class="line">        <span class="keyword">int</span> orderIdx = getIndex(order, ele);  <span class="comment">//get the element's index in order array</span></span><br><span class="line">        valueCounts[orderIdx] += <span class="number">1</span>;  <span class="comment">//use it update the value count(Bucket)</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//3 buckets</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> value = order[i];  <span class="comment">//the value in order array</span></span><br><span class="line">        <span class="keyword">int</span> count = valueCounts[i];  <span class="comment">//how many of this value gonna be adding in</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//get the index of order[i], and assign value</span></span><br><span class="line">        <span class="keyword">int</span> numElementsBefore = getSum(valueCounts, i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> n = <span class="number">0</span>; n &lt; count; n++) &#123;</span><br><span class="line">            <span class="keyword">int</span> currentIdx = numElementsBefore + n;</span><br><span class="line">            array[currentIdx] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[i] == element) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; end; i++)</span><br><span class="line">        sum += array[i];</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-8"><a href="#Solution2-8" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">array = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">           i-&gt;</span><br><span class="line">         k-&gt;</span><br><span class="line">order = [<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>]</span><br><span class="line">         j-&gt;</span><br><span class="line"><span class="keyword">if</span> array[i] = order[j] (<span class="number">0</span>)</span><br><span class="line">    swap(i, k, array)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">             i-&gt;</span><br><span class="line">           k-&gt;</span><br><span class="line"><span class="keyword">if</span> array[i] = order[j] (<span class="number">0</span>)</span><br><span class="line">    swap(i, k, array)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>, -<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">                      i-&gt;</span><br><span class="line">             k-&gt;</span><br><span class="line"><span class="keyword">if</span> array[i] = order[j] (<span class="number">0</span>)</span><br><span class="line">    swap(i, k, array)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">1</span>,-<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">                            i-&gt;</span><br><span class="line">                k-&gt;</span><br><span class="line">    </span><br><span class="line">Step2: traverse from backword</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">1</span>,-<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">                        &lt;-i</span><br><span class="line">                        &lt;-k</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">1</span>,-<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">                  &lt;-i</span><br><span class="line">                        &lt;-k</span><br><span class="line"><span class="keyword">if</span> array[i] = order[j] (-<span class="number">1</span>)</span><br><span class="line">    swap(i, k, array)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, -<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,-<span class="number">1</span>]</span><br><span class="line">               &lt;-i</span><br><span class="line">                     &lt;-k</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>]</span><br><span class="line">     &lt;-i</span><br><span class="line">                  &lt;-k</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) time | O(1) space</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] threeNumberSort(<span class="keyword">int</span>[] array, <span class="keyword">int</span>[] order) &#123;</span><br><span class="line">    <span class="comment">//define first and third value</span></span><br><span class="line">    <span class="keyword">int</span> firstValue = order[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> thirdValue = order[<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> firstIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; array.length; idx++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[idx] == firstValue) &#123;</span><br><span class="line">            swap(firstIdx, idx, array);</span><br><span class="line">            firstIdx += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="keyword">int</span> thirdIdx = array.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> idx = array.length - <span class="number">1</span>; idx &gt;= <span class="number">0</span>; idx--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[idx] == thirdValue) &#123;</span><br><span class="line">            swap(thirdIdx, idx, array);</span><br><span class="line">            thirdIdx -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = array[j];</span><br><span class="line">    array[j] = array[i];</span><br><span class="line">    array[i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3-3"><a href="#Solution3-3" class="headerlink" title="Solution3:"></a>Solution3:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">array = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">         i-&gt;           &lt;-k</span><br><span class="line">         j-&gt;</span><br><span class="line">ele at j is <span class="number">1</span>, move j</span><br><span class="line">array = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">         i-&gt;           &lt;-k</span><br><span class="line">           j-&gt;</span><br><span class="line">ele at j is <span class="number">0</span>, swap(i, j)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">           i-&gt;         &lt;-k</span><br><span class="line">             j-&gt;</span><br><span class="line">ele at j is <span class="number">0</span>, swap(i, j)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">             i-&gt;       &lt;-k</span><br><span class="line">                j-&gt;</span><br><span class="line">ele at j is -<span class="number">1</span>, swap(j, k)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,-<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,-<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">             i-&gt;    &lt;-k</span><br><span class="line">                  j-&gt;</span><br><span class="line">ele at j is -<span class="number">1</span>, swap(j, k)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">             i-&gt;  &lt;-k</span><br><span class="line">                   j-&gt;</span><br><span class="line">ele at j is <span class="number">0</span>, swap(i, j)</span><br><span class="line">array = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>], order = [<span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>]</span><br><span class="line">               i   k</span><br><span class="line">                      j-&gt;</span><br><span class="line">when j &gt; k, no need to keep traverse the ele behind k is in correct position</span><br></pre></td></tr></table></figure>

<ol>
<li>Three pointers</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) time | O(1) space</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] threeNumberSort(<span class="keyword">int</span>[] array, <span class="keyword">int</span>[] order) &#123;</span><br><span class="line">    <span class="keyword">int</span> firstValue = order[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> secondValue = order[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//keep track of the indices where the values are stored</span></span><br><span class="line">    <span class="keyword">int</span> firstIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> secondIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> thirdIdx = array.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (secondIdx &lt;= thirdIdx) &#123;</span><br><span class="line">        <span class="keyword">int</span> value = array[secondIdx];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (value == firstValue) &#123;</span><br><span class="line">            swap(firstIdx, secondIdx, array);</span><br><span class="line">            firstIdx += <span class="number">1</span>;</span><br><span class="line">            secondIdx += <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value == secondValue) &#123;</span><br><span class="line">            secondIdx += <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            swap(secondIdx, thirdIdx, array);</span><br><span class="line">            thirdIdx -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = array[j];</span><br><span class="line">    array[j] = array[i];</span><br><span class="line">    array[i] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>荷兰国旗包含三种颜色：红、白、蓝。</p>
<p>有三种颜色的球，算法的目标是将这三种球按颜色顺序正确地排列。它其实是三向切分快速排序的一种变种，在三向切分快速排序中，每次切分都将数组分成三个区间：小于切分元素、等于切分元素、大于切分元素，而该算法是将数组分成三个区间：等于红色、等于白色、等于蓝色。</p>
<p><a href="https://camo.githubusercontent.com/1ed86e0e7aa849bbabcf6201c115de2e94d2fcc9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f37613332313565632d366662372d343933352d386230642d6362343038323038663763622e706e67" target="_blank" rel="noopener"><img src="https://camo.githubusercontent.com/1ed86e0e7aa849bbabcf6201c115de2e94d2fcc9/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f37613332313565632d366662372d343933352d386230642d6362343038323038663763622e706e67" alt="img"></a></p>
<h3 id="75-Sort-Colors"><a href="#75-Sort-Colors" class="headerlink" title="75. Sort Colors"></a><a href="https://leetcode.com/problems/sort-colors/description/" target="_blank" rel="noopener">75. Sort Colors</a></h3><h3 id="Solution1-14"><a href="#Solution1-14" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：因共三种颜色，所以统计其中两种颜色填好前半段后，剩下部分全部置为第三种颜色即可。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> w = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> == nums[i])</span><br><span class="line">            ++r;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">1</span> == nums[i])</span><br><span class="line">            ++w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; ++i)</span><br><span class="line">        nums[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = r; i &lt; r + w; ++i)</span><br><span class="line">        nums[i] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = r + w; i &lt; nums.length; ++i)</span><br><span class="line">        nums[i] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-9"><a href="#Solution2-9" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sortColors</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> zero = -<span class="number">1</span>, one = <span class="number">0</span>, two = nums.length;</span><br><span class="line">    <span class="keyword">while</span> (one &lt; two) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[one] == <span class="number">0</span>) &#123;</span><br><span class="line">            swap(nums, ++zero, one++);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[one] == <span class="number">2</span>) &#123;</span><br><span class="line">            swap(nums, --two, one);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ++one;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/200/" rel="tag"># 200</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/09/17/cs61b%20week14/" rel="prev" title="cs61b week14">
      <i class="fa fa-chevron-left"></i> cs61b week14
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/09/17/Graph/" rel="next" title="Graph">
      Graph <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Sorting"><span class="nav-number">1.</span> <span class="nav-text">Sorting</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bubble-Sort-AE"><span class="nav-number">1.1.</span> <span class="nav-text">Bubble Sort(AE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Insertion-Sort-AE"><span class="nav-number">1.2.</span> <span class="nav-text">Insertion Sort(AE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Selection-Sort-AE-💜"><span class="nav-number">1.3.</span> <span class="nav-text">Selection Sort(AE)💜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quick-Sort-AE"><span class="nav-number">1.4.</span> <span class="nav-text">Quick Sort(AE)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1"><span class="nav-number">1.4.1.</span> <span class="nav-text">Solution1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-Merge-Sort-AE-✨"><span class="nav-number">1.5.</span> <span class="nav-text">Unsolved Merge Sort(AE) ✨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-1"><span class="nav-number">1.5.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2"><span class="nav-number">1.5.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-969-Pancake-Sorting💜"><span class="nav-number">1.6.</span> <span class="nav-text">Unsolved 969. Pancake Sorting💜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-2"><span class="nav-number">1.6.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-1"><span class="nav-number">1.6.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Absolute-Value-Sort💜"><span class="nav-number">1.7.</span> <span class="nav-text">Absolute Value Sort💜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-3"><span class="nav-number">1.7.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-2"><span class="nav-number">1.7.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-1288-Remove-Covered-Intervals🎂"><span class="nav-number">1.8.</span> <span class="nav-text">Unsolved 1288. Remove Covered Intervals🎂</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Quick-Select快速选择"><span class="nav-number">2.</span> <span class="nav-text">Quick Select快速选择</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#215-Kth-Largest-Element-in-an-Array"><span class="nav-number">2.0.1.</span> <span class="nav-text">215. Kth Largest Element in an Array</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Heap-优先队列-堆"><span class="nav-number">3.</span> <span class="nav-text">Heap 优先队列&#x2F;堆</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Min-Heap-Construction-AE"><span class="nav-number">3.1.</span> <span class="nav-text">Min Heap Construction(AE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Continuous-Median-AE"><span class="nav-number">3.2.</span> <span class="nav-text">Continuous Median(AE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Merge-Sort-Arrays-AE"><span class="nav-number">3.3.</span> <span class="nav-text">Merge Sort Arrays(AE)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#295-Find-Median-from-Data-Stream✨"><span class="nav-number">3.4.</span> <span class="nav-text">295. Find Median from Data Stream✨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-4"><span class="nav-number">3.4.1.</span> <span class="nav-text">Solution1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-373-Find-K-Pairs-with-Smallest-Sums🎂"><span class="nav-number">3.5.</span> <span class="nav-text">Unsolved 373. Find K Pairs with Smallest Sums🎂</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-5"><span class="nav-number">3.5.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-3"><span class="nav-number">3.5.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Heap-Sort-AE"><span class="nav-number">3.6.</span> <span class="nav-text">Heap Sort(AE)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-6"><span class="nav-number">3.6.1.</span> <span class="nav-text">Solution1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#215-Kth-Largest-Element-in-an-Array-1"><span class="nav-number">3.7.</span> <span class="nav-text">215.Kth Largest Element in an Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-7"><span class="nav-number">3.7.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-4"><span class="nav-number">3.7.2.</span> <span class="nav-text">Solution2:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution3"><span class="nav-number">3.7.3.</span> <span class="nav-text">Solution3:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#973-K-Closest-Points-to-Origin"><span class="nav-number">3.8.</span> <span class="nav-text">973. K Closest Points to Origin</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-8"><span class="nav-number">3.8.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-5"><span class="nav-number">3.8.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-253-Meeting-Rooms-II"><span class="nav-number">3.9.</span> <span class="nav-text">Unsolved 253. Meeting Rooms II</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-9"><span class="nav-number">3.9.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-6"><span class="nav-number">3.9.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unsolved-502-IPO✨"><span class="nav-number">3.10.</span> <span class="nav-text">Unsolved 502.IPO✨</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#桶排序"><span class="nav-number">4.</span> <span class="nav-text">桶排序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#347-Top-K-Frequent-Elements⭐"><span class="nav-number">4.1.</span> <span class="nav-text">347.Top K Frequent Elements⭐</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-10"><span class="nav-number">4.1.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-7"><span class="nav-number">4.1.2.</span> <span class="nav-text">Solution2:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#692-Top-K-Frequent-Words⭐"><span class="nav-number">4.2.</span> <span class="nav-text">692. Top K Frequent Words⭐</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-11"><span class="nav-number">4.2.1.</span> <span class="nav-text">Solution1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#451-Sort-Characters-By-Frequency"><span class="nav-number">4.3.</span> <span class="nav-text">451. Sort Characters By Frequency</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-12"><span class="nav-number">4.3.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution3-1"><span class="nav-number">4.3.2.</span> <span class="nav-text">Solution3:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution3-2"><span class="nav-number">4.3.3.</span> <span class="nav-text">Solution3:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#荷兰国旗问题"><span class="nav-number">5.</span> <span class="nav-text">荷兰国旗问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Three-Number-Sort-AE"><span class="nav-number">5.1.</span> <span class="nav-text">Three Number Sort(AE)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-13"><span class="nav-number">5.1.1.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-8"><span class="nav-number">5.1.2.</span> <span class="nav-text">Solution2:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution3-3"><span class="nav-number">5.1.3.</span> <span class="nav-text">Solution3:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#75-Sort-Colors"><span class="nav-number">5.1.4.</span> <span class="nav-text">75. Sort Colors</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution1-14"><span class="nav-number">5.1.5.</span> <span class="nav-text">Solution1:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution2-9"><span class="nav-number">5.1.6.</span> <span class="nav-text">Solution2:</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dejavu"
      src="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
  <p class="site-author-name" itemprop="name">Dejavu</p>
  <div class="site-description" itemprop="description">Stay gold</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">72</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Dejavu-19" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Dejavu-19" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/liu.kunling19@gmail.com" title="E-Mail → liu.kunling19@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dejavu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body>
</html>
