<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dejavi-19.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"manual"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Stay gold">
<meta property="og:type" content="website">
<meta property="og:title" content="Dejavu&#39;s Notebook">
<meta property="og:url" content="https://dejavi-19.github.io/index.html">
<meta property="og:site_name" content="Dejavu&#39;s Notebook">
<meta property="og:description" content="Stay gold">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Dejavu">
<meta property="article:tag" content="python">
<meta property="article:tag" content="java">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://dejavi-19.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Dejavu's Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a href="https://github.com/Dejavu-19" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Dejavu's Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Alea iacta est</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首&emsp;&emsp;页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于博主</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标&emsp;&emsp;签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分&emsp;&emsp;类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归&emsp;&emsp;档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2021/02/24/Huawei%E6%9C%BA%E8%80%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/24/Huawei%E6%9C%BA%E8%80%83/" class="post-title-link" itemprop="url">Huawei机考</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-02-24 19:49:57" itemprop="dateCreated datePublished" datetime="2021-02-24T19:49:57+09:00">2021-02-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Huawei/" itemprop="url" rel="index"><span itemprop="name">Huawei</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 输入包括两个正整数a,b(1 &lt;= a, b &lt;= 10^9),输入数据包括多组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(sc.hasNext())&#123;</span><br><span class="line">            <span class="keyword">int</span> a = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span> b = sc.nextInt();</span><br><span class="line">            System.out.println(a + b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2021/02/21/OA2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/21/OA2/" class="post-title-link" itemprop="url">OA2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-02-21 16:30:07" itemprop="dateCreated datePublished" datetime="2021-02-21T16:30:07+09:00">2021-02-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-24 19:32:48" itemprop="dateModified" datetime="2021-02-24T19:32:48+09:00">2021-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Amazon/" itemprop="url" rel="index"><span itemprop="name">Amazon</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OA2"><a href="#OA2" class="headerlink" title="OA2"></a>OA2</h1><h1 id="Intern"><a href="#Intern" class="headerlink" title="Intern"></a>Intern</h1><h2 id="1-Find-Pair-With-Given-Sum⭐⭐"><a href="#1-Find-Pair-With-Given-Sum⭐⭐" class="headerlink" title="1. Find Pair With Given Sum⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/356960" target="_blank" rel="noopener">1. Find Pair With Given Sum</a>⭐⭐</h2><p>Given a list of positive integers <code>nums</code> and an int <code>target</code>, return indices of the two numbers such that they add up to a <code>target - 30</code>.</p>
<p>Conditions:</p>
<ul>
<li>You will pick exactly 2 numbers.</li>
<li>You cannot pick the same element twice.</li>
<li>If you have multiple pairs, select the pair with the largest number.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">35</span>, <span class="number">60</span>], target = <span class="number">90</span></span><br><span class="line">Output: [<span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">Explanation:</span><br><span class="line">nums[<span class="number">2</span>] + nums[<span class="number">3</span>] = <span class="number">25</span> + <span class="number">35</span> = <span class="number">60</span> = <span class="number">90</span> - <span class="number">30</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [<span class="number">20</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">10</span>], target = <span class="number">90</span></span><br><span class="line">Output: [<span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line">Explanation:</span><br><span class="line">nums[<span class="number">0</span>] + nums[<span class="number">2</span>] = <span class="number">20</span> + <span class="number">40</span> = <span class="number">60</span> = <span class="number">90</span> - <span class="number">30</span></span><br><span class="line">nums[<span class="number">1</span>] + nums[<span class="number">5</span>] = <span class="number">50</span> + <span class="number">10</span> = <span class="number">60</span> = <span class="number">90</span> - <span class="number">30</span></span><br><span class="line">You should <span class="keyword">return</span> the pair with the largest number.</span><br></pre></td></tr></table></figure>

<p>The corresponding problem is “Truck Package”. </p>
<p>If you suffer from <code>11/13</code> passed test cases, try to consider the following aspects:</p>
<ol>
<li>Return <code>null</code> or <code>empty list</code>. You can test it out.</li>
<li>Consider when there is no such a pair, return <code>null</code> or <code>empty list</code>. Again, one of them is correct~</li>
<li>Consider a test case like <code>[0, 0]</code> and <code>target = 30</code>. Do you think it is a valid pair? YES!<br>I had been trying for 30 mins this morning. Please upvote. </li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[] nums1 = &#123;<span class="number">1</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">35</span>, <span class="number">60</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> target1 = <span class="number">90</span>;</span><br><span class="line">	System.out.println(Arrays.toString(Find2Sum(nums1, target1-<span class="number">30</span>)));</span><br><span class="line">	<span class="keyword">int</span>[] nums2 = &#123;<span class="number">20</span>, <span class="number">50</span>, <span class="number">40</span>, <span class="number">25</span>, <span class="number">30</span>, <span class="number">10</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> target2 = <span class="number">90</span>;</span><br><span class="line">	System.out.println(Arrays.toString(Find2Sum(nums2, target2-<span class="number">30</span>)));</span><br><span class="line">	<span class="keyword">int</span>[] nums3 = &#123;<span class="number">50</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">40</span>, <span class="number">25</span>, <span class="number">30</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> target3 = <span class="number">90</span>;</span><br><span class="line">	System.out.println(Arrays.toString(Find2Sum(nums3, target3-<span class="number">30</span>)));</span><br><span class="line">	<span class="keyword">int</span>[] nums4 = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> target4 = <span class="number">90</span>;</span><br><span class="line">	System.out.println(Arrays.toString(Find2Sum(nums4, target4-<span class="number">30</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] Find2Sum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">	Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	<span class="keyword">int</span> max = Integer.MIN_VALUE;  <span class="comment">//set a varaible to evaluate if the pair is max</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (map.containsKey(target - nums[i])) &#123;</span><br><span class="line">			<span class="keyword">if</span> (nums[i] &gt; max || (target - nums[i]) &gt; max) &#123;</span><br><span class="line">				res[<span class="number">0</span>] = map.get(target - nums[i]);</span><br><span class="line">				res[<span class="number">1</span>] = i;</span><br><span class="line">				max = Math.max(nums[i], target - nums[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		map.put(nums[i], i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[2, 3]</span></span><br><span class="line"><span class="comment">[1, 5]</span></span><br><span class="line"><span class="comment">[0, 2]</span></span><br><span class="line"><span class="comment">[-1, -1]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/u011498933/article/details/56489173" target="_blank" rel="noopener">https://blog.csdn.net/u011498933/article/details/56489173</a></p>
<h2 id="2-Merge-Two-Sorted-Lists-⭐⭐"><a href="#2-Merge-Two-Sorted-Lists-⭐⭐" class="headerlink" title="2. Merge Two Sorted Lists ⭐⭐"></a><a href="https://leetcode.com/problems/merge-two-sorted-lists" target="_blank" rel="noopener">2. Merge Two Sorted Lists</a> ⭐⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;  <span class="comment">//edge case null</span></span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode cur = dummy;</span><br><span class="line">        <span class="keyword">while</span> (l1 != <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (l1.val &lt;= l2.val) &#123;</span><br><span class="line">                cur.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cur.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.next = l1 == <span class="keyword">null</span>?l2 : l1;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="3-Max-Of-Min-Altitudes⭐⭐"><a href="#3-Max-Of-Min-Altitudes⭐⭐" class="headerlink" title="3. Max Of Min Altitudes⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/383669/" target="_blank" rel="noopener">3. Max Of Min Altitudes</a>⭐⭐</h2><p><a href="https://leetcode.com/playground/sbkFjCbE" target="_blank" rel="noopener">https://leetcode.com/playground/sbkFjCbE</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maximumPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = matrix.length;</span><br><span class="line">        <span class="keyword">int</span> w = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> minPath = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[l][w];</span><br><span class="line">        </span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        </span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line">        visited[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] currPos = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> smallest = currPos[<span class="number">2</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span>[] xDir = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line">            <span class="keyword">int</span>[] yDir = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> newY = currPos[<span class="number">0</span>] + yDir[i];</span><br><span class="line">                <span class="keyword">int</span> newX = currPos[<span class="number">1</span>] + xDir[i];</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(newY &gt;= <span class="number">0</span> &amp;&amp; newY &lt; l &amp;&amp; newX &gt;= <span class="number">0</span> &amp;&amp; newX &lt; w) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(newX == l -<span class="number">1</span> &amp;&amp; newY == w - <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(minPath &lt; smallest)&#123;</span><br><span class="line">                            minPath = smallest;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> </span><br><span class="line">                        <span class="keyword">if</span>(!visited[newY][newX]) &#123;</span><br><span class="line">                        visited[newY][newX] = <span class="keyword">true</span>;</span><br><span class="line">                        <span class="keyword">if</span>(smallest &lt; matrix[newY][newX]) &#123;smallest = matrix[newY][newX]; &#125;</span><br><span class="line">                        queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;newY, newX, smallest&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minPath;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-Most-Common-Word⭐⭐"><a href="#4-Most-Common-Word⭐⭐" class="headerlink" title="4. Most Common Word⭐⭐"></a><a href="https://leetcode.com/problems/most-common-word" target="_blank" rel="noopener">4. Most Common Word</a>⭐⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">mostCommonWord</span><span class="params">(String paragraph, String[] banned)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// split paragraph </span></span><br><span class="line">    String[] words = paragraph.toLowerCase().split(<span class="string">"\\W+"</span>);  <span class="comment">//正则表达式</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// add banned words to set</span></span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String word : banned) &#123;</span><br><span class="line">        set.add(word);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add paragraph words to hash map</span></span><br><span class="line">    Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(String word : words)&#123;</span><br><span class="line">        <span class="keyword">if</span> (!set.contains(word)) &#123;  <span class="comment">//如果不是banned的就加入HashMap</span></span><br><span class="line">            map.put(word, map.getOrDefault(word, <span class="number">0</span>) + <span class="number">1</span>);  <span class="comment">//map.getOrDefault(key,value) method</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// get the most frequent word</span></span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>; <span class="comment">// max frequency</span></span><br><span class="line">    String res = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span>(String str : map.keySet())&#123;  <span class="comment">//traverse the key set</span></span><br><span class="line">        <span class="keyword">if</span> (map.get(str) &gt; max) &#123;</span><br><span class="line">            max = map.get(str);</span><br><span class="line">            res = str;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-Longest-Palindromic-Substring⭐⭐"><a href="#5-Longest-Palindromic-Substring⭐⭐" class="headerlink" title="5. Longest Palindromic Substring⭐⭐"></a><a href="https://leetcode.com/problems/longest-palindromic-substring" target="_blank" rel="noopener">5. Longest Palindromic Substring</a>⭐⭐</h2><p>str.substring() 方法返回字符串的子字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> beginIndex)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">或</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> beginIndex, <span class="keyword">int</span> endIndex)</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> lo, maxLen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = s.length();</span><br><span class="line">	<span class="keyword">if</span> (len &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> s;  <span class="comment">//edge case</span></span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len-<span class="number">1</span>; i++) &#123;</span><br><span class="line">     	extendPalindrome(s, i, i);  <span class="comment">//assume odd length, try to extend Palindrome as possible</span></span><br><span class="line">     	extendPalindrome(s, i, i+<span class="number">1</span>); <span class="comment">//assume even length.</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.substring(lo, lo + maxLen);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">extendPalindrome</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (i &gt;=<span class="number">0</span> &amp;&amp; j &lt; s.length() &amp;&amp; s.charAt(i) == s.charAt(j)) &#123;</span><br><span class="line">            i--;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (maxLen &lt; j - i - <span class="number">1</span>) &#123;</span><br><span class="line">            lo = i + <span class="number">1</span>;</span><br><span class="line">            maxLen = j - i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-Substrings-of-size-K-with-K-distinct-chars⭐⭐"><a href="#6-Substrings-of-size-K-with-K-distinct-chars⭐⭐" class="headerlink" title="6. Substrings of size K with K distinct chars⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/370112" target="_blank" rel="noopener">6. Substrings of size K with K distinct chars</a>⭐⭐</h2><p>Given a string <code>s</code> and an int <code>k</code>, return all unique substrings of <code>s</code> of size <code>k</code> with <code>k</code> distinct characters.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = <span class="string">"abcabc"</span>, k = <span class="number">3</span></span><br><span class="line">Output: [<span class="string">"abc"</span>, <span class="string">"bca"</span>, <span class="string">"cab"</span>]</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = <span class="string">"abacab"</span>, k = <span class="number">3</span></span><br><span class="line">Output: [<span class="string">"bac"</span>, <span class="string">"cab"</span>]</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: s = <span class="string">"awaglknagawunagwkwagl"</span>, k = <span class="number">4</span></span><br><span class="line">Output: [<span class="string">"wagl"</span>, <span class="string">"aglk"</span>, <span class="string">"glkn"</span>, <span class="string">"lkna"</span>, <span class="string">"knag"</span>, <span class="string">"gawu"</span>, <span class="string">"awun"</span>, <span class="string">"wuna"</span>, <span class="string">"unag"</span>, <span class="string">"nagw"</span>, <span class="string">"agwk"</span>, <span class="string">"kwag"</span>]</span><br><span class="line">Explanation: </span><br><span class="line">Substrings in order are: <span class="string">"wagl"</span>, <span class="string">"aglk"</span>, <span class="string">"glkn"</span>, <span class="string">"lkna"</span>, <span class="string">"knag"</span>, <span class="string">"gawu"</span>, <span class="string">"awun"</span>, <span class="string">"wuna"</span>, <span class="string">"unag"</span>, <span class="string">"nagw"</span>, <span class="string">"agwk"</span>, <span class="string">"kwag"</span>, <span class="string">"wagl"</span> </span><br><span class="line"><span class="string">"wagl"</span> is repeated twice, but is included in the output once.</span><br></pre></td></tr></table></figure>

<p>Constraints:</p>
<ul>
<li>The input string consists of only lowercase English letters <code>[a-z]</code></li>
<li>0 ≤ <code>k</code> ≤ 26</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">kSubstring</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Set&lt;Character&gt; window = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;String&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();  <span class="comment">//Set&lt;String&gt;自动去除重复字符串</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>; end &lt; s.length(); end++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (; window.contains(s.charAt(end)); start++) &#123;</span><br><span class="line">                window.remove(s.charAt(start));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            window.add(s.charAt(end));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (window.size() == k) &#123;</span><br><span class="line">                result.add(s.substring(start, end + <span class="number">1</span>));</span><br><span class="line">                window.remove(s.charAt(start++));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(result);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(kSubstring(<span class="string">"awaglknagawunagwkwagl"</span>, <span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">Count</span><span class="params">(String S,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> distinct = <span class="number">0</span>,i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> [] memo = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (;i&lt;k;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (memo[S.charAt(i)-<span class="string">'a'</span>]==<span class="number">0</span>)</span><br><span class="line">            distinct+=<span class="number">1</span>;</span><br><span class="line">        memo[S.charAt(i)-<span class="string">'a'</span>]+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (distinct==k) &#123;</span><br><span class="line">        set.add(S.substring(i-k,i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i&lt;S.length())&#123;</span><br><span class="line">        <span class="keyword">if</span> (memo[S.charAt(i)-<span class="string">'a'</span>]==<span class="number">0</span>)</span><br><span class="line">            distinct+=<span class="number">1</span>;</span><br><span class="line">        memo[S.charAt(i)-<span class="string">'a'</span>]+=<span class="number">1</span>;</span><br><span class="line">        memo[S.charAt(i-k)-<span class="string">'a'</span>]-=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (memo[S.charAt(i-k)-<span class="string">'a'</span>]==<span class="number">0</span>)</span><br><span class="line">            distinct-=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (distinct==k)</span><br><span class="line">            set.add(S.substring(i-k+<span class="number">1</span>,i+<span class="number">1</span>));</span><br><span class="line">        i+=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>滑动窗口资料</p>
<p><a href="https://www.cnblogs.com/fivestudy/p/11422923.html" target="_blank" rel="noopener">https://www.cnblogs.com/fivestudy/p/11422923.html</a></p>
<p><a href="https://leetcode.com/problems/sliding-window-maximum/" target="_blank" rel="noopener">https://leetcode.com/problems/sliding-window-maximum/</a></p>
<p><a href="https://leetcode.com/problems/sliding-window-maximum/discuss/65884/Java-O(n)-solution-using-deque-with-explanation" target="_blank" rel="noopener">https://leetcode.com/problems/sliding-window-maximum/discuss/65884/Java-O(n)-solution-using-deque-with-explanation</a></p>
<h2 id="7-Count-substrings-with-exactly-K-distinct-chars-⭐"><a href="#7-Count-substrings-with-exactly-K-distinct-chars-⭐" class="headerlink" title="7. Count substrings with exactly K distinct chars ⭐"></a><a href="https://leetcode.com/discuss/interview-question/370157" target="_blank" rel="noopener">7. Count substrings with exactly K distinct chars</a> ⭐</h2><p>iven a string <code>s</code> and an int <code>k</code>, return an int representing the number of substrings (not unique) of <code>s</code> with exactly <code>k</code> distinct characters. If the given string doesn’t have <code>k</code> distinct characters, return 0.<br><a href="https://leetcode.com/problems/subarrays-with-k-different-integers" target="_blank" rel="noopener">https://leetcode.com/problems/subarrays-with-k-different-integers</a></p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;pqpqs&quot;, k &#x3D; 2</span><br><span class="line">Output: 7</span><br><span class="line">Explanation: [&quot;pq&quot;, &quot;pqp&quot;, &quot;pqpq&quot;, &quot;qp&quot;, &quot;qpq&quot;, &quot;pq&quot;, &quot;qs&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;aabab&quot;, k &#x3D; 3</span><br><span class="line">Output: 0</span><br></pre></td></tr></table></figure>

<p>Constraints:</p>
<ul>
<li>The input string consists of only lowercase English letters <code>[a-z]</code></li>
<li>0 ≤ <code>k</code> ≤ 26</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">substringsWithKDistinctChars</span><span class="params">(String s, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> hi = <span class="number">0</span>, lo = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] ch = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span>[] forIndex = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> countForIndex = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// An edge case where k is bigger than s.length is not tested here</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(flag == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ch[s.charAt(i) - <span class="string">'a'</span>]++;</span><br><span class="line">            <span class="keyword">if</span>(ch[s.charAt(i) - <span class="string">'a'</span>] == <span class="number">1</span>)</span><br><span class="line">                count++;</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(count &lt; k)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(count == k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; ch.length; j++)</span><br><span class="line">                forIndex[j] = ch[j];</span><br><span class="line">            countForIndex = count;</span><br><span class="line">            index = lo;</span><br><span class="line">            <span class="keyword">while</span>(countForIndex == k)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(forIndex[s.charAt(index) - <span class="string">'a'</span>] == <span class="number">1</span>)</span><br><span class="line">                    countForIndex--; <span class="comment">// Equivalent to break (supposed to be)</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    forIndex[s.charAt(index) - <span class="string">'a'</span>]--;</span><br><span class="line">                    index++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            sum = sum + index - lo + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// count &gt; k</span></span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(count &gt; k)</span><br><span class="line">            &#123;</span><br><span class="line">                ch[s.charAt(lo) - <span class="string">'a'</span>]--;</span><br><span class="line">                <span class="keyword">if</span>(ch[s.charAt(lo) - <span class="string">'a'</span>] == <span class="number">0</span>)</span><br><span class="line">                    count--;</span><br><span class="line">                lo++;</span><br><span class="line">            &#125;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-992-Subarrays-with-K-Different-Integers"><a href="#Unsolved-992-Subarrays-with-K-Different-Integers" class="headerlink" title="Unsolved 992.Subarrays with K Different Integers"></a><a href="https://leetcode.com/problems/subarrays-with-k-different-integers/" target="_blank" rel="noopener">Unsolved 992.Subarrays with K Different Integers</a></h3><p>check this answer</p>
<p><a href="https://leetcode.com/problems/subarrays-with-k-different-integers/discuss/523136/JavaC%2B%2BPython-Sliding-Window" target="_blank" rel="noopener">https://leetcode.com/problems/subarrays-with-k-different-integers/discuss/523136/JavaC%2B%2BPython-Sliding-Window</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraysWithKDistinct</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> atMostK(A, K) - atMostK(A, K - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">atMostK</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">        Map&lt;Integer, Integer&gt; count = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; A.length; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (count.getOrDefault(A[j], <span class="number">0</span>) == <span class="number">0</span>) K--;</span><br><span class="line">            count.put(A[j], count.getOrDefault(A[j], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (K &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                count.put(A[i], count.get(A[i]) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (count.get(A[i]) == <span class="number">0</span>) K++;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            res += j - i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-K-Closest-Points-to-Origin⭐"><a href="#8-K-Closest-Points-to-Origin⭐" class="headerlink" title="8. K Closest Points to Origin⭐"></a><a href="https://leetcode.com/problems/k-closest-points-to-origin" target="_blank" rel="noopener">8. K Closest Points to Origin</a>⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] kClosest(<span class="keyword">int</span>[][] points, <span class="keyword">int</span> K) &#123;</span><br><span class="line">    <span class="keyword">int</span> len =  points.length, l = <span class="number">0</span>, r = len - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = helper(points, l, r);</span><br><span class="line">        <span class="keyword">if</span> (mid == K) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (mid &lt; K) &#123;</span><br><span class="line">            l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r = mid - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Arrays.copyOfRange(points, <span class="number">0</span>, K);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(<span class="keyword">int</span>[][] A, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] pivot = A[l];</span><br><span class="line">    <span class="keyword">while</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; compare(A[r], pivot) &gt;= <span class="number">0</span>) r--;</span><br><span class="line">        A[l] = A[r];</span><br><span class="line">        <span class="keyword">while</span> (l &lt; r &amp;&amp; compare(A[l], pivot) &lt;= <span class="number">0</span>) l++;</span><br><span class="line">        A[r] = A[l];</span><br><span class="line">    &#125;</span><br><span class="line">    A[l] = pivot;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] p1, <span class="keyword">int</span>[] p2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> p1[<span class="number">0</span>] * p1[<span class="number">0</span>] + p1[<span class="number">1</span>] * p1[<span class="number">1</span>] - p2[<span class="number">0</span>] * p2[<span class="number">0</span>] - p2[<span class="number">1</span>] * p2[<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-Generate-Parentheses⭐"><a href="#9-Generate-Parentheses⭐" class="headerlink" title="9. Generate Parentheses⭐"></a><a href="https://leetcode.com/problems/generate-parentheses/" target="_blank" rel="noopener">9. Generate Parentheses</a>⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">       List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">       backtrack(list, <span class="string">""</span>, <span class="number">0</span>, <span class="number">0</span>, n);</span><br><span class="line">       <span class="keyword">return</span> list;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;String&gt; list, String str, <span class="keyword">int</span> open, <span class="keyword">int</span> close, <span class="keyword">int</span> max)</span></span>&#123;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">if</span>(str.length() == max*<span class="number">2</span>)&#123;</span><br><span class="line">           list.add(str);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">if</span>(open &lt; max)</span><br><span class="line">           backtrack(list, str+<span class="string">"("</span>, open+<span class="number">1</span>, close, max);</span><br><span class="line">       <span class="keyword">if</span>(close &lt; open)</span><br><span class="line">           backtrack(list, str+<span class="string">")"</span>, open, close+<span class="number">1</span>, max);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="10-Number-of-Dice-Rolls-With-Target-Sum"><a href="#10-Number-of-Dice-Rolls-With-Target-Sum" class="headerlink" title="10. Number of Dice Rolls With Target Sum"></a><a href="https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/" target="_blank" rel="noopener">10. Number of Dice Rolls With Target Sum</a></h2><h2 id="11-Nth-GP"><a href="#11-Nth-GP" class="headerlink" title="11. Nth GP"></a><a href="https://leetcode.com/discuss/interview-question/432213/" target="_blank" rel="noopener">11. Nth GP</a></h2><h1 id="New-grad"><a href="#New-grad" class="headerlink" title="New grad"></a>New grad</h1><h2 id="✔♣1-Copy-List-with-Random-Pointer-138-⭐⭐"><a href="#✔♣1-Copy-List-with-Random-Pointer-138-⭐⭐" class="headerlink" title="✔♣1.Copy List with Random Pointer(138)⭐⭐"></a><a href="https://leetcode.com/problems/copy-list-with-random-pointer" target="_blank" rel="noopener">✔♣1.Copy List with Random Pointer(138)⭐⭐</a></h2><p>O(n) T</p>
<p>O(n) S</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;  <span class="comment">//edge case</span></span><br><span class="line"></span><br><span class="line">    Map&lt;Node, Node&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();  <span class="comment">//用hashmap key-原node value-new copy node</span></span><br><span class="line">    Node cur = head;  <span class="comment">//copy all the nodes</span></span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">        map.put(cur, <span class="keyword">new</span> Node(cur.val,<span class="keyword">null</span>,<span class="keyword">null</span>));</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123; <span class="comment">//assign next and random pointers复制指针，连接copy生成的新Node</span></span><br><span class="line">        map.get(cur).next = map.get(cur.next);</span><br><span class="line">        map.get(cur).random = map.get(cur.random);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.youtube.com/watch?v=oXABtaRa37U" target="_blank" rel="noopener">video</a></p>
<h2 id="✔-spades-2-Search-a-2D-Matrix-II-240-⭐⭐"><a href="#✔-spades-2-Search-a-2D-Matrix-II-240-⭐⭐" class="headerlink" title="✔&spades;2.Search a 2D Matrix II(240)⭐⭐"></a><a href="https://leetcode.com/problems/search-a-2d-matrix-ii" target="_blank" rel="noopener">✔&spades;2.Search a 2D Matrix II(240)⭐⭐</a></h2><p><strong><code>List&lt;List&lt;Integer&gt;&gt; matrix</code></strong></p>
<p>List.get() method</p>
<p><a href="http://www.51gjie.com/java/642.html" target="_blank" rel="noopener">http://www.51gjie.com/java/642.html</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> ||matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;  <span class="comment">//edge case</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;  <span class="comment">//set m,n to represent row and colomn</span></span><br><span class="line">        <span class="keyword">int</span> r = <span class="number">0</span>, c = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (r &lt; m &amp;&amp; c &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (target == matrix[r][c]) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; matrix[r][c]) r++;</span><br><span class="line">            <span class="keyword">else</span> c--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-Product-Suggestions-1268-⭐⭐"><a href="#3-Product-Suggestions-1268-⭐⭐" class="headerlink" title="3.Product Suggestions(1268)⭐⭐"></a><a href="https://leetcode.com/problems/search-suggestions-system/" target="_blank" rel="noopener">3.Product Suggestions(1268)</a>⭐⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; suggestedProducts(String[] products, String searchWord) &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TreeMap&lt;String, Integer&gt; map = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">    Arrays.sort(products);  <span class="comment">//sorting</span></span><br><span class="line">    List&lt;String&gt; productsList = Arrays.asList(products);  <span class="comment">//change String[] to List&lt;String&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; products.length; i++) &#123;</span><br><span class="line">        map.put(products[i], i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String key = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : searchWord.toCharArray()) &#123;</span><br><span class="line">        key += c;</span><br><span class="line">        String ceiling = map.ceilingKey(key);</span><br><span class="line">        String floor = map.floorKey(key + <span class="string">"~"</span>);</span><br><span class="line">        <span class="keyword">if</span> (ceiling == <span class="keyword">null</span> || floor == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">        res.add(productsList.subList(map.get(ceiling), Math.min(map.get(ceiling) + <span class="number">3</span>, map.get(floor) + <span class="number">1</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (res.size() &lt; searchWord.length()) res.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>map.ceilingKey() &amp;&amp; map.floorKey() 用法</p>
<p><a href="https://www.tutorialspoint.com/java/util/treemap_floorkey.htm" target="_blank" rel="noopener">https://www.tutorialspoint.com/java/util/treemap_floorkey.htm</a></p>
<h2 id="4-Two-Sum-Unique-Pairs-⭐⭐"><a href="#4-Two-Sum-Unique-Pairs-⭐⭐" class="headerlink" title="4.Two Sum - Unique Pairs ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/372434" target="_blank" rel="noopener">4.Two Sum - Unique Pairs</a> ⭐⭐</h2><p>Two Sum I</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> a = nums[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; ++j) &#123;</span><br><span class="line">                <span class="keyword">int</span> b = nums[j];</span><br><span class="line">                <span class="keyword">if</span> (a + b == target) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i,j&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Two Sum II - Input array is sorted</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = numbers.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (target == numbers[i] + numbers[j]) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i + <span class="number">1</span>,j + <span class="number">1</span>&#125;;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; numbers[i] + numbers[j]) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="✔5-Favorite-Genres-⭐⭐"><a href="#✔5-Favorite-Genres-⭐⭐" class="headerlink" title="✔5. Favorite Genres ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/373006" target="_blank" rel="noopener">✔5. Favorite Genres</a> ⭐⭐</h2><h2 id="6-Subtree-of-Another-Tree-⭐⭐"><a href="#6-Subtree-of-Another-Tree-⭐⭐" class="headerlink" title="6.Subtree of Another Tree ⭐⭐"></a><a href="https://leetcode.com/problems/subtree-of-another-tree" target="_blank" rel="noopener">6.Subtree of Another Tree</a> ⭐⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubtree</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (isSame(s, t)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> isSubtree(s.left, t) || isSubtree(s.right, t);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSame</span><span class="params">(TreeNode s, TreeNode t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> &amp;&amp; t == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || t == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (s.val != t.val) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> isSame(s.left, t.left) &amp;&amp; isSame(s.right, t.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="✔7-Critical-Routers-⭐⭐"><a href="#✔7-Critical-Routers-⭐⭐" class="headerlink" title="✔7. Critical Routers ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/436073/" target="_blank" rel="noopener">✔7. Critical Routers</a> ⭐⭐</h2><p>You are given an <strong><code>undirected connected graph</code></strong>. </p>
<p>An articulation point (or cut vertex) is defined as a vertex which, when removed along with associated edges, makes the graph disconnected (or more precisely, increases the number of connected components in the graph). </p>
<p>The task is to find all <strong><code>articulation points</code></strong> in the given graph.</p>
<p>articulation points &amp;&amp; bridge</p>
<p><strong>Input:</strong><br>The input to the function/method consists of three arguments:</p>
<ul>
<li><code>numNodes</code>, an integer representing the number of nodes in the graph.</li>
<li><code>numEdges</code>, an integer representing the number of edges in the graph.</li>
<li><code>edges</code>, the list of pair of integers - A, B representing an edge between the nodes A and B.</li>
</ul>
<p><strong>Output:</strong><br>Return a list of integers representing the critical nodes.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Input: numNodes = <span class="number">7</span>, numEdges = <span class="number">7</span>, edges = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">5</span>], [<span class="number">5</span>, <span class="number">6</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/kcO9OUI.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Output: [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<p>explanation video</p>
<p><a href="https://www.youtube.com/watch?v=aZXi1unBdJA" target="_blank" rel="noopener">https://www.youtube.com/watch?v=aZXi1unBdJA</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numRouters1 = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">int</span> numLinks1 = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">int</span>[][] links1 = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">2</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">5</span>&#125;, &#123;<span class="number">5</span>, <span class="number">6</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line">    System.out.println(getCriticalNodes(links1, numLinks1, numRouters1));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getCriticalNodes</span><span class="params">(<span class="keyword">int</span>[][] links, <span class="keyword">int</span> numLinks, <span class="keyword">int</span> numRouters)</span> </span>&#123;</span><br><span class="line">    time = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numRouters;i++) &#123;</span><br><span class="line">        map.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] link : links) &#123;</span><br><span class="line">        map.get(link[<span class="number">0</span>]).add(link[<span class="number">1</span>]);</span><br><span class="line">        map.get(link[<span class="number">1</span>]).add(link[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] low = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters];</span><br><span class="line">    <span class="keyword">int</span>[] ids = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters];</span><br><span class="line">    <span class="keyword">int</span> parent[] = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters]; </span><br><span class="line">    Arrays.fill(ids, -<span class="number">1</span>);</span><br><span class="line">    Arrays.fill(parent, -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numRouters;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(ids[i] == -<span class="number">1</span>)</span><br><span class="line">            dfs(map, low, ids, parent, i, set);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Map&lt;Integer, Set&lt;Integer&gt;&gt; map, <span class="keyword">int</span>[] low, <span class="keyword">int</span>[] ids, <span class="keyword">int</span>[] parent, <span class="keyword">int</span> cur, Set&lt;Integer&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> children = <span class="number">0</span>; </span><br><span class="line">    ids[cur] = low[cur]= ++time;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> nei : map.get(cur)) &#123;</span><br><span class="line">        <span class="keyword">if</span>(ids[nei] == -<span class="number">1</span>) &#123;</span><br><span class="line">            children++;</span><br><span class="line">            parent[nei] = cur;</span><br><span class="line">            dfs(map, low, ids, parent,nei, res);</span><br><span class="line">            low[cur] = Math.min(low[cur], low[nei]);</span><br><span class="line">            <span class="keyword">if</span>((parent[cur] == -<span class="number">1</span> &amp;&amp; children &gt; <span class="number">1</span>) || (parent[cur] != -<span class="number">1</span> &amp;&amp; low[nei] &gt;= ids[cur]))</span><br><span class="line">                res.add(cur);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nei != parent[cur])</span><br><span class="line">            low[cur] = Math.min(low[cur], ids[nei]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="♥♦8-Spiral-Matrix-II-59-⭐"><a href="#♥♦8-Spiral-Matrix-II-59-⭐" class="headerlink" title="♥♦8. Spiral Matrix II(59)⭐"></a><a href="https://leetcode.com/problems/spiral-matrix-ii/" target="_blank" rel="noopener">♥♦8. Spiral Matrix II(59)</a>⭐</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] generateMatrix(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] res = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];  <span class="comment">//creat a 2D matrix</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> res;  <span class="comment">//edge case</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> rowStart = <span class="number">0</span>, rowEnd = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> colStart = <span class="number">0</span>, colEnd = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> val = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (rowStart &lt;= rowEnd &amp;&amp; colStart &lt;= colEnd) &#123;  <span class="comment">//注意while循环basecase</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = colStart; i &lt;= colEnd; ++i) &#123;</span><br><span class="line">                res[rowStart][i] = val++;</span><br><span class="line">            &#125;</span><br><span class="line">            rowStart++;  <span class="comment">//循环赋值结束后, 再++</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = rowStart; i &lt;= rowEnd; ++i) &#123;</span><br><span class="line">                res[i][colEnd] = val++;</span><br><span class="line">            &#125;</span><br><span class="line">            colEnd--;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = colEnd; i &gt;=colStart; --i) &#123;</span><br><span class="line">                res[rowEnd][i] = val++;</span><br><span class="line">            &#125;</span><br><span class="line">            rowEnd--;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = rowEnd; i &gt;= rowStart; --i) &#123;</span><br><span class="line">                res[i][colStart] = val++;</span><br><span class="line">            &#125;</span><br><span class="line">            colStart++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="✔9-Subtree-with-Maximum-Average-⭐"><a href="#✔9-Subtree-with-Maximum-Average-⭐" class="headerlink" title="✔9. Subtree with Maximum Average ⭐"></a><a href="https://leetcode.com/discuss/interview-question/349617" target="_blank" rel="noopener">✔9. Subtree with Maximum Average</a> ⭐</h2><p>Given an N-ary tree, find the subtree with the maximum average. Return the root of the subtree.<br>A subtree of a tree is the node which have <strong>at least 1 child</strong> plus all its descendants. The average value of a subtree is the sum of its values, divided by the number of nodes.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">		 20</span><br><span class="line">	   &#x2F;   \</span><br><span class="line">	 12     18</span><br><span class="line">  &#x2F;  |  \   &#x2F; \</span><br><span class="line">11   2   3 15  8</span><br><span class="line"></span><br><span class="line">Output: 18</span><br><span class="line">Explanation:</span><br><span class="line">There are 3 nodes which have children in this tree:</span><br><span class="line">12 &#x3D;&gt; (11 + 2 + 3 + 12) &#x2F; 4 &#x3D; 7</span><br><span class="line">18 &#x3D;&gt; (18 + 15 + 8) &#x2F; 3 &#x3D; 13.67</span><br><span class="line">20 &#x3D;&gt; (12 + 11 + 2 + 3 + 18 + 15 + 8 + 20) &#x2F; 8 &#x3D; 11.125</span><br><span class="line"></span><br><span class="line">18 has the maximum average so output 18.</span><br></pre></td></tr></table></figure>

<p>Similar questions:</p>
<ul>
<li><a href="https://leetcode.com/problems/maximum-average-subtree" target="_blank" rel="noopener">https://leetcode.com/problems/maximum-average-subtree</a></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> max = Integer.MIN_VALUE;</span><br><span class="line">TreeNode maxNode = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">maximumAverageSubtree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    helper(root);</span><br><span class="line">    <span class="keyword">return</span> maxNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span>[] helper(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[] &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> curTotal = root.val;</span><br><span class="line">    <span class="keyword">double</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">        <span class="keyword">double</span>[] cur = helper(child);</span><br><span class="line">        curTotal += cur[<span class="number">0</span>];</span><br><span class="line">        count += cur[<span class="number">1</span>];</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="keyword">double</span> avg = curTotal / count;</span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">1</span> &amp;&amp; avg &gt; max) &#123; <span class="comment">//taking "at least 1 child" into account</span></span><br><span class="line">        max = avg;</span><br><span class="line">        maxNode = root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[] &#123;curTotal, count&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="10-Pagination-⭐"><a href="#10-Pagination-⭐" class="headerlink" title="10. Pagination ⭐"></a><a href="https://leetcode.com/discuss/interview-question/801590/" target="_blank" rel="noopener">10. Pagination</a> ⭐</h2><h2 id="✔11-Disk-Space-Analysis-⭐"><a href="#✔11-Disk-Space-Analysis-⭐" class="headerlink" title="✔11. Disk Space Analysis ⭐"></a><a href="https://leetcode.com/discuss/interview-question/808348/" target="_blank" rel="noopener">✔11. Disk Space Analysis</a> ⭐</h2><h2 id="✔12-Nearest-City-⭐"><a href="#✔12-Nearest-City-⭐" class="headerlink" title="✔12. Nearest City ⭐"></a><a href="https://leetcode.com/discuss/interview-question/808374/" target="_blank" rel="noopener">✔12. Nearest City</a> ⭐</h2><h2 id="13-Critical-Connections-⭐"><a href="#13-Critical-Connections-⭐" class="headerlink" title="13. Critical Connections ⭐"></a><a href="https://leetcode.com/discuss/interview-question/372581" target="_blank" rel="noopener">13. Critical Connections</a> ⭐</h2><h2 id="14-Maximum-Units-⭐"><a href="#14-Maximum-Units-⭐" class="headerlink" title="14. Maximum Units ⭐"></a><a href="https://leetcode.com/discuss/interview-question/793606/" target="_blank" rel="noopener">14. Maximum Units</a> ⭐</h2><p><a href="https://leetcode.com/discuss/interview-question/799431/" target="_blank" rel="noopener"><del>Shortest Distance Between Robots（Empty）</del></a> ⭐</p>
<p><a href="https://leetcode.com/problems/merge-two-sorted-lists" target="_blank" rel="noopener"><del>Merge Two Sorted Lists</del>⭐⭐</a></p>
<h1 id="Experienced"><a href="#Experienced" class="headerlink" title="Experienced"></a>Experienced</h1><h2 id="1-Amazon-Fresh-Promotion⭐⭐"><a href="#1-Amazon-Fresh-Promotion⭐⭐" class="headerlink" title="1. Amazon Fresh Promotion⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/762546/" target="_blank" rel="noopener">1. Amazon Fresh Promotion⭐⭐</a></h2><h2 id="2-Largest-Item-Association-⭐⭐⭐"><a href="#2-Largest-Item-Association-⭐⭐⭐" class="headerlink" title="2. Largest Item Association ⭐⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/782606/" target="_blank" rel="noopener">2. Largest Item Association</a> ⭐⭐⭐</h2><h2 id="3-Number-of-Islands-⭐⭐"><a href="#3-Number-of-Islands-⭐⭐" class="headerlink" title="3. Number of Islands ⭐⭐"></a><a href="https://leetcode.com/problems/number-of-islands/" target="_blank" rel="noopener">3. Number of Islands</a> ⭐⭐</h2><h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：遍历矩阵中所有点，如果当前点不为 0，则是一个岛，DFS 求解当前岛，并把遇到的位置全部置 0，岛数量+1。O(n)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = grid.length;</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    dfs(grid, i, j);</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// outbound</span></span><br><span class="line">        <span class="keyword">if</span> (i == -<span class="number">1</span> || j == grid[<span class="number">0</span>].length || j == -<span class="number">1</span> || i == grid.length || grid[i][j] != <span class="string">'1'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// mark as visited and go through 4 directions</span></span><br><span class="line">        grid[i][j] = <span class="string">'2'</span>;</span><br><span class="line">        dfs(grid, i - <span class="number">1</span>, j);</span><br><span class="line">        dfs(grid, i + <span class="number">1</span>, j);</span><br><span class="line">        dfs(grid, i, j - <span class="number">1</span>);</span><br><span class="line">        dfs(grid, i, j + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Island-Count💜"><a href="#Island-Count💜" class="headerlink" title="Island Count💜"></a>Island Count💜</h3><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>DFS solution</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Time: O(MN). Space: O(MN). M is the rows, N is the cols.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IslandCountDFS</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getNumberOfIslands</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// base case</span></span><br><span class="line">        <span class="keyword">if</span> (binaryMatrix == <span class="keyword">null</span> || binaryMatrix.length == <span class="number">0</span> || binaryMatrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> m = binaryMatrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = binaryMatrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (binaryMatrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    dfs(binaryMatrix, i, j);</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = binaryMatrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = binaryMatrix[<span class="number">0</span>].length;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// outbound</span></span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= m || j &lt; <span class="number">0</span> || j &gt;= n) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// mark as visited and go through 4 directions</span></span><br><span class="line">        <span class="keyword">if</span> (binaryMatrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">            binaryMatrix[i][j] = -<span class="number">1</span>; <span class="comment">// -1 means visited</span></span><br><span class="line">            dfs(binaryMatrix, i - <span class="number">1</span>, j);</span><br><span class="line">            dfs(binaryMatrix, i + <span class="number">1</span>, j);</span><br><span class="line">            dfs(binaryMatrix, i, j - <span class="number">1</span>);</span><br><span class="line">            dfs(binaryMatrix, i, j + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] binaryMatrix = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        System.out.println(getNumberOfIslands(binaryMatrix));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>BFS solution</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IslandCountBFS</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getNumberOfIslands</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (binaryMatrix == <span class="keyword">null</span> || binaryMatrix.length == <span class="number">0</span> || binaryMatrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> m = binaryMatrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = binaryMatrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (binaryMatrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    markIsland(binaryMatrix, m, n, i, j);</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">markIsland</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;(); <span class="comment">// store the index in queue</span></span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.remove();</span><br><span class="line">            <span class="keyword">int</span> r = cur[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> c = cur[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (binaryMatrix[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                binaryMatrix[r][c] = -<span class="number">1</span>; <span class="comment">// mark as visited</span></span><br><span class="line">                addIfValid(queue, m, n, r - <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r + <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r, c - <span class="number">1</span>);</span><br><span class="line">                addIfValid(queue, m, n, r, c + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addIfValid</span><span class="params">(Queue&lt;<span class="keyword">int</span>[]&gt; queue, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (r &gt;= <span class="number">0</span> &amp;&amp; r &lt; m &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; n) queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] binaryMatrix = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        System.out.println(getNumberOfIslands(binaryMatrix));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-Top-K-Frequently-Mentioned-Keywords-⭐⭐"><a href="#4-Top-K-Frequently-Mentioned-Keywords-⭐⭐" class="headerlink" title="4. Top K Frequently Mentioned Keywords ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/542597/" target="_blank" rel="noopener">4. Top K Frequently Mentioned Keywords</a> ⭐⭐</h2><h2 id="5-Zombie-in-Matrix-Min-hours-to-send-file-to-all-available-servers-⭐⭐"><a href="#5-Zombie-in-Matrix-Min-hours-to-send-file-to-all-available-servers-⭐⭐" class="headerlink" title="5. Zombie in Matrix (Min hours to send file to all available servers) ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/411357/" target="_blank" rel="noopener">5. Zombie in Matrix</a> (Min hours to send file to all available servers) ⭐⭐</h2><p>Given a 2D grid, each cell is either a zombie <code>1</code> or a human <code>0</code>. Zombies can turn adjacent (up/down/left/right) human beings into zombies every hour. Find out how many hours does it take to infect all humans?</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[[0, 1, 1, 0, 1],</span><br><span class="line"> [0, 1, 0, 1, 0],</span><br><span class="line"> [0, 0, 0, 0, 1],</span><br><span class="line"> [0, 1, 0, 0, 0]]</span><br><span class="line"></span><br><span class="line">Output: 2</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">At the end of the 1st hour, the status of the grid:</span><br><span class="line">[[1, 1, 1, 1, 1],</span><br><span class="line"> [1, 1, 1, 1, 1],</span><br><span class="line"> [0, 1, 0, 1, 1],</span><br><span class="line"> [1, 1, 1, 0, 1]]</span><br><span class="line"></span><br><span class="line">At the end of the 2nd hour, the status of the grid:</span><br><span class="line">[[1, 1, 1, 1, 1],</span><br><span class="line"> [1, 1, 1, 1, 1],</span><br><span class="line"> [1, 1, 1, 1, 1],</span><br><span class="line"> [1, 1, 1, 1, 1]]</span><br><span class="line">int minHours(int rows, int columns, List&lt;List&lt;Integer&gt;&gt; grid) &#123;</span><br><span class="line">	&#x2F;&#x2F; todo</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Related problems:</p>
<ul>
<li><a href="https://leetcode.com/problems/rotting-oranges/" target="_blank" rel="noopener">https://leetcode.com/problems/rotting-oranges/</a></li>
<li><a href="https://leetcode.com/problems/walls-and-gates/" target="_blank" rel="noopener">https://leetcode.com/problems/walls-and-gates/</a> (premium)</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span>[][] grid = &#123; &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;, &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span> &#125;, &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;, &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span> &#125; &#125;;</span><br><span class="line">	System.out.println(minDays(grid));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minDays</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">	Queue&lt;<span class="keyword">int</span>[]&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">	<span class="keyword">int</span> target = grid.length * grid[<span class="number">0</span>].length;</span><br><span class="line">	<span class="keyword">int</span> cnt = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">			<span class="keyword">if</span>(grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">				q.offer(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i,j&#125;);</span><br><span class="line">				cnt++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">	<span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> size = q.size();</span><br><span class="line">		<span class="keyword">if</span>(cnt == target)</span><br><span class="line">			<span class="keyword">return</span> res;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size;i++) &#123;</span><br><span class="line">			<span class="keyword">int</span>[] cur = q.poll();</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">				<span class="keyword">int</span> ni = cur[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">				<span class="keyword">int</span> nj = cur[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">				<span class="keyword">if</span>(ni &gt;=<span class="number">0</span> &amp;&amp; ni &lt; grid.length &amp;&amp; nj &gt;=<span class="number">0</span> &amp;&amp; nj &lt; grid[<span class="number">0</span>].length &amp;&amp; grid[ni][nj] == <span class="number">0</span>) &#123;</span><br><span class="line">					cnt++;</span><br><span class="line">					q.offer(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;ni, nj&#125;);</span><br><span class="line">					grid[ni][nj] = <span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		res++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="6-Reorder-Data-in-Log-Files-⭐⭐"><a href="#6-Reorder-Data-in-Log-Files-⭐⭐" class="headerlink" title="6. Reorder Data in Log Files ⭐⭐"></a><a href="https://leetcode.com/problems/reorder-data-in-log-files" target="_blank" rel="noopener">6. Reorder Data in Log Files</a> ⭐⭐</h2><h2 id="7-Distance-Between-Nodes-in-BST-⭐⭐"><a href="#7-Distance-Between-Nodes-in-BST-⭐⭐" class="headerlink" title="7. Distance Between Nodes in BST ⭐⭐"></a><a href="https://leetcode.com/discuss/interview-question/376375/" target="_blank" rel="noopener">7. Distance Between Nodes in BST</a> ⭐⭐</h2><h2 id="8-Partition-Labels-⭐"><a href="#8-Partition-Labels-⭐" class="headerlink" title="8. Partition Labels ⭐"></a><a href="https://leetcode.com/problems/partition-labels" target="_blank" rel="noopener">8. Partition Labels</a> ⭐</h2><h2 id="9-Point-of-Lattice-⭐"><a href="#9-Point-of-Lattice-⭐" class="headerlink" title="9. Point of Lattice ⭐"></a><a href="https://leetcode.com/discuss/interview-question/396418/" target="_blank" rel="noopener">9. Point of Lattice</a> ⭐</h2><h2 id="10-Optimal-Utilization"><a href="#10-Optimal-Utilization" class="headerlink" title="10. Optimal Utilization"></a><a href="https://leetcode.com/discuss/interview-question/373202" target="_blank" rel="noopener">10. Optimal Utilization</a></h2><h2 id="11-Min-Cost-to-Connect-Ropes-Min-Time-to-Merge-Files"><a href="#11-Min-Cost-to-Connect-Ropes-Min-Time-to-Merge-Files" class="headerlink" title="11. Min Cost to Connect Ropes / Min Time to Merge Files"></a><a href="https://leetcode.com/discuss/interview-question/344677" target="_blank" rel="noopener">11. Min Cost to Connect Ropes / Min Time to Merge Files</a></h2><h2 id="12-Treasure-Island-Min-Distance-to-Remove-the-Obstacle-BFS"><a href="#12-Treasure-Island-Min-Distance-to-Remove-the-Obstacle-BFS" class="headerlink" title="12. Treasure Island / Min Distance to Remove the Obstacle (BFS)"></a><a href="https://leetcode.com/discuss/interview-question/347457" target="_blank" rel="noopener">12. Treasure Island / Min Distance to Remove the Obstacle</a> (BFS)</h2><h2 id="Treasure-Island-II"><a href="#Treasure-Island-II" class="headerlink" title="Treasure Island II"></a><a href="https://leetcode.com/discuss/interview-question/356150" target="_blank" rel="noopener">Treasure Island II</a></h2><h2 id="13-Load-Balancer"><a href="#13-Load-Balancer" class="headerlink" title="13. Load Balancer"></a><a href="https://leetcode.com/discuss/interview-question/506287/" target="_blank" rel="noopener">13. Load Balancer</a></h2><p><a href="https://leetcode.com/discuss/interview-question/370112" target="_blank" rel="noopener"><del>Substrings of size K with K distinct chars</del></a> ⭐⭐</p>
<p><a href="https://leetcode.com/discuss/interview-question/436073/" target="_blank" rel="noopener"><del>Critical Routers</del></a> ⭐⭐</p>
<p><a href="https://leetcode.com/problems/search-suggestions-system/" target="_blank" rel="noopener"><del>Product Suggestions</del></a> ⭐⭐</p>
<p><a href="https://leetcode.com/discuss/interview-question/356960" target="_blank" rel="noopener"><del>Find Pair With Given Sum</del></a> ⭐⭐</p>
<h5 id="Concatenated-Words⭐"><a href="#Concatenated-Words⭐" class="headerlink" title="Concatenated Words⭐"></a><a href="https://leetcode.com/discuss/interview-question/545748/amazon-subsidiary-phone-concatenated-words" target="_blank" rel="noopener">Concatenated Words⭐</a></h5><p>Given a large list of words. Some of these are compounds, where all parts are also in the List. Write a method that will find all combinations where one word is a composite of two or more words from the same list and return them.</p>
<p>Example :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [rockstar, rock, stars, rocks, tar, star, rockstars, <span class="keyword">super</span>, highway, high, way, superhighway]</span><br><span class="line"></span><br><span class="line">Output: [[rock, star], [rocks, tar], [<span class="keyword">super</span>, highway], [<span class="keyword">super</span>, high, way],...]</span><br></pre></td></tr></table></figure>

<h2 id="1086-High-Five⭐"><a href="#1086-High-Five⭐" class="headerlink" title="1086. High Five⭐"></a>1086. High Five⭐</h2><p>Page Render Time</p>
<p>Given a list of scores of different students, return the average score of each student’s <strong>top five scores</strong> in <strong>the order of each student’s id</strong>.</p>
<p>Each entry <code>items[i]</code> has <code>items[i][0]</code> the student’s id, and <code>items[i][1]</code> the student’s score. The average score is calculated using integer division.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [[<span class="number">1</span>,<span class="number">91</span>],[<span class="number">1</span>,<span class="number">92</span>],[<span class="number">2</span>,<span class="number">93</span>],[<span class="number">2</span>,<span class="number">97</span>],[<span class="number">1</span>,<span class="number">60</span>],[<span class="number">2</span>,<span class="number">77</span>],[<span class="number">1</span>,<span class="number">65</span>],[<span class="number">1</span>,<span class="number">87</span>],[<span class="number">1</span>,<span class="number">100</span>],[<span class="number">2</span>,<span class="number">100</span>],[<span class="number">2</span>,<span class="number">76</span>]]</span><br><span class="line">Output: [[<span class="number">1</span>,<span class="number">87</span>],[<span class="number">2</span>,<span class="number">88</span>]]</span><br><span class="line">Explanation: </span><br><span class="line">The average of the student with id = <span class="number">1</span> is <span class="number">87</span>.</span><br><span class="line">The average of the student with id = <span class="number">2</span> is <span class="number">88.6</span>. But with integer division their average converts to <span class="number">88</span>.</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li><code>1 &lt;= items.length &lt;= 1000</code></li>
<li><code>items[i].length == 2</code></li>
<li>The IDs of the students is between <code>1</code> to <code>1000</code></li>
<li>The score of the students is between <code>1</code> to <code>100</code></li>
<li>For each student, there are at least 5 scores</li>
</ol>
<h1 id="OA2-1"><a href="#OA2-1" class="headerlink" title="OA2"></a>OA2</h1><h3 id="2021-2-12【超全超详细】Amazon-new-grad-OA2-新鲜面经-amp-资料大集合-未下载"><a href="#2021-2-12【超全超详细】Amazon-new-grad-OA2-新鲜面经-amp-资料大集合-未下载" class="headerlink" title="2021-2-12【超全超详细】Amazon new grad OA2 新鲜面经&amp;资料大集合 未下载"></a>2021-2-12【超全超详细】Amazon new grad OA2 新鲜面经&amp;资料大集合 未下载</h3><p>Coding:</p>
<ol>
<li>卡车装货，用pq，test case全过了</li>
<li>Amazon Go Turnstile，这道题是60到题库之一，下方有链接。用queue test case全过</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=715940&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=715940&amp;highlight=OA</a></p>
<p>2021年主要的新题是这些，其中标着’2021 New’的那些。另外algomonster也有很全的题目集合，可以在线compile可供练习（这两个特别有用，敲黑板！！！）：</p>
<p><a href="https://www.notion.so/Amazon-OA2-3afaad4e440f4de9af79b7f7a35fe6d8" target="_blank" rel="noopener">https://www.notion.so/Amazon-OA2-3afaad4e440f4de9af79b7f7a35fe6d8</a></p>
<p><a href="https://algo.monster/problems/amazon_online_assessment_questions" target="_blank" rel="noopener">https://algo.monster/problems/amazon_online_assessment_questions</a></p>
<p><a href="https://www.1point3acres.com/bbs/interview/amazon-software-engineer-662181.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/interview/amazon-software-engineer-662181.html</a></p>
<p><a href="https://algomonster.medium.com/amazon-online-assessment-questions-867829d40cbe" target="_blank" rel="noopener">https://algomonster.medium.com/amazon-online-assessment-questions-867829d40cbe</a></p>
<ul>
<li>Turnstile</li>
<li>Top K Frequently Mentioned Keywords</li>
<li>Substrings of Size K with K-1 Distinct Cars</li>
<li>Number of Islands</li>
<li>Most Common Word</li>
<li>Fill the Truck</li>
<li>Max Disk Space</li>
<li>Nearest City</li>
<li>Break a Palindrome</li>
<li>Subtree with Maximum Average</li>
<li>Smallest Negative Balance/Debt record</li>
<li>Find The Highest Profit</li>
<li>Fetch Items to Display</li>
<li>LRU Cache Misses</li>
<li>Items in Containers</li>
<li>Music Pairs</li>
<li>Minimum Difficulty of a Job Schedule</li>
<li>Utilization Checks</li>
<li>Optimal Utilization</li>
<li>Min Cost to Connect All Nodes</li>
<li>Five Star Sellers</li>
<li>Transaction Logs</li>
<li>Friend Circles</li>
<li>Labeling System</li>
<li>Merge Two Sorted Lists</li>
<li>Two Sum — Unique Pairs</li>
<li>Cut off Rank</li>
<li>Minimum Total Container Size</li>
<li>Winning Sequence</li>
<li>Multiprocessor System</li>
<li>Shopping Patterns</li>
<li>Earliest Time To Complete Deliveries</li>
<li>Choose A Flask</li>
<li>Throttling Gateway</li>
<li>Slowest Key</li>
</ul>
<h3 id="Amazon-OA2-Questions-Amazon-Online-Assessment"><a href="#Amazon-OA2-Questions-Amazon-Online-Assessment" class="headerlink" title="Amazon OA2 Questions Amazon Online Assessment"></a>Amazon OA2 Questions Amazon Online Assessment</h3><p><a href="https://aonecode.com/amazon-online-assessment-questions" target="_blank" rel="noopener">https://aonecode.com/amazon-online-assessment-questions</a></p>
<p><a href="https://aonecode.com/amazon-interview-questions" target="_blank" rel="noopener">https://aonecode.com/amazon-interview-questions</a></p>
<p>小土刀OA</p>
<p><a href="https://wdxtub.com/interview/14520850399861.html" target="_blank" rel="noopener">https://wdxtub.com/interview/14520850399861.html</a></p>
<h3 id="✔2021-1-4-Amazon-2021最新OA123最全解析-已下载"><a href="#✔2021-1-4-Amazon-2021最新OA123最全解析-已下载" class="headerlink" title="✔2021-1-4 Amazon 2021最新OA123最全解析[已下载]"></a>✔2021-1-4 Amazon 2021最新OA123最全解析[已下载]</h3><p>OA2，两道code题（70min)，我做的是getMaxValue, maxInMinimal, 放在了“OA2_part2.pdf”最后。 我就把地里最近出现过的，和 <a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … 650/Amazon-Online-A 的NG部分题目和code也都贴上。</p>
<p>get Max Value</p>
<p>max In Minimal == 239. sliding window maximum</p>
<h3 id="✔2020-new-grad-OA1-2-3"><a href="#✔2020-new-grad-OA1-2-3" class="headerlink" title="✔2020 new grad OA1+2+3"></a>✔2020 new grad OA1+2+3</h3><p>第一题是利口240，在2d matrix里找⼀个数。</p>
<p>第二题是找连通图(2d array)⾥的所有bridge(critical connections), 使得这个graph变成两个disconnected parts.</p>
<p><a href="https://1o24bbs.com/t/topic/11107" target="_blank" rel="noopener">https://1o24bbs.com/t/topic/11107</a></p>
<h3 id="✔2021-1-4-亚麻-2021-New-Grad-OA2-整理-面经-已下载"><a href="#✔2021-1-4-亚麻-2021-New-Grad-OA2-整理-面经-已下载" class="headerlink" title="✔2021-1-4 亚麻 2021 New Grad OA2 整理 面经 已下载"></a>✔2021-1-4 亚麻 2021 New Grad OA2 整理 面经 已下载</h3><p>count teams</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=701882&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=701882&amp;highlight=OA</a></p>
<h3 id="✔2021-2-4-亚麻21-new-grad-oa2"><a href="#✔2021-2-4-亚麻21-new-grad-oa2" class="headerlink" title="✔2021-2-4 亚麻21 new grad oa2"></a>✔2021-2-4 亚麻21 new grad oa2</h3><p>第一题说给你一个id列表，和可以移除的数量，让你返回移id后不同id的最小数量，很简单</p>
<p>第一题不在链接里，我没有见过第一题的原题，不过很简单。example大概是list[1,1,1,2,3,2] rem = 2，移除两个2或者移除一个2一个3都会让不相同id的数量为2，所以输出为2</p>
<p>第二题经典的hard disk space，基本就是239. sliding window maximum。找出滑动区间最小值中的最大值就可以了。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712612&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712612&amp;highlight=OA</a></p>
<h3 id="✔2021-2-5-亚麻-OA2-全职new-grad"><a href="#✔2021-2-5-亚麻-OA2-全职new-grad" class="headerlink" title="✔2021-2-5 亚麻 OA2 全职new grad"></a>✔2021-2-5 亚麻 OA2 全职new grad</h3><ol>
<li>Count teams</li>
<li>Find the highest profit \ Maximize Profit</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=713083&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=713083&amp;highlight=OA</a></p>
<h3 id="✔2021-2-7-亚麻new-grad-OA2刚做完，希望能有OA3"><a href="#✔2021-2-7-亚麻new-grad-OA2刚做完，希望能有OA3" class="headerlink" title="✔2021-2-7 亚麻new grad OA2刚做完，希望能有OA3"></a>✔2021-2-7 亚麻new grad OA2刚做完，希望能有OA3</h3><p>第一题好像是新题，其它帖子也有发，但我找了一会没找到，大家可以去找一下。<br>输入是一个arr和一个数m，问从arr中移除m个数，可以得到最少多少个不同的数。<br>比如输入arr:[1,1,1,2,2,3], m=2, 输出是2。<br>LZ用pq，test case全过了</p>
<p>第二题是power grid，楼主也是用pq做的，两个base case过了，但是runtime error了<br>发面经攒攒人品，希望可以收到oa3和vo🙏🙏🙏</p>
<p>power grid那题的grid是char二维数组嘛？ 不是的，是List  <Connection></p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=713849&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=713849&amp;highlight=OA</a></p>
<h3 id="✔2021-1-17-Amazon-2021-new-grads-OA"><a href="#✔2021-1-17-Amazon-2021-new-grads-OA" class="headerlink" title="✔2021-1-17 Amazon 2021 new grads OA"></a>✔2021-1-17 Amazon 2021 new grads OA</h3><p>第一题 给一堆素食饭馆的二维坐标和整数k， 返回距离顾客最近的k个饭馆的坐标，顾客坐标默认为[0, 0]</p>
<p>第二题 Prime Air Route 那道题。因为leetcode上被和谐了所以我就把题写一下，大家不要嫌我啰嗦哈。<br>给一架飞机的最大里程数，给一些去程路线的编号和对应的里程数，给一些回程路线的编号和对应里程数，要求飞机必须得有去有回，返回所有能使利用率最大化的去程和回程的编号组合<br>e.g. 最大里程数 7000，去程路线们:[1, 2000], [2, 4000], [3, 6000] 回程路线们:[1, 2000] 最后应该返回[2, 1]<br>e.g. 最大里程数 10000， 去程路线们:[1, 3000], [2, 5000], [3, 7000], [4, 10000] 回程路线们: [1, 2000], [2, 3000], [3, 4000], [4, 5000] 最后应该返回[2, 4], [3, 2]</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706492&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706492&amp;highlight=OA</a></p>
<h3 id="✔2021-1-28-亚麻OA2-New-Grad"><a href="#✔2021-1-28-亚麻OA2-New-Grad" class="headerlink" title="✔2021-1-28 亚麻OA2 New Grad"></a>✔2021-1-28 亚麻OA2 New Grad</h3><ol>
<li>Fill the truck</li>
<li>highest profit</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710024&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710024&amp;highlight=OA</a></p>
<h3 id="✔2021-1-28-亚麻-new-grad-OA1-amp-OA2"><a href="#✔2021-1-28-亚麻-new-grad-OA1-amp-OA2" class="headerlink" title="✔2021-1-28 亚麻 new grad OA1&amp;OA2"></a>✔2021-1-28 亚麻 new grad OA1&amp;OA2</h3><p>OA2 </p>
<p>Fill the truck</p>
<p>Highest Profit</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710003&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710003&amp;highlight=OA</a></p>
<h3 id="✔2021-1-28-Amazon-OA1-OA2题目"><a href="#✔2021-1-28-Amazon-OA1-OA2题目" class="headerlink" title="✔2021-1-28 Amazon OA1 OA2题目"></a>✔2021-1-28 Amazon OA1 OA2题目</h3><p>OA2一道最大平均值子树</p>
<p>一道MST（最短总长度连接power grid问题）</p>
<h3 id="✔2021-1-23-热带雨林新鲜OA-New-Grad-2021"><a href="#✔2021-1-23-热带雨林新鲜OA-New-Grad-2021" class="headerlink" title="✔2021-1-23 热带雨林新鲜OA New Grad 2021"></a>✔2021-1-23 热带雨林新鲜OA New Grad 2021</h3><p>第一题是 Max Unit Truck<br>第二题是 Highest Profit</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708224&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708224&amp;highlight=OA</a></p>
<h3 id="✔2021-1-23-new-grad-校招-亚麻ng-OA2"><a href="#✔2021-1-23-new-grad-校招-亚麻ng-OA2" class="headerlink" title="✔2021-1-23 new grad 校招 亚麻ng OA2"></a>✔2021-1-23 new grad 校招 亚麻ng OA2</h3><ol>
<li>Distinct Product IDs after removing k , lc 1481</li>
<li>Find the maximum available disk space   lc 239 </li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708373&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708373&amp;highlight=OA</a></p>
<h3 id="✔2021-1-26-亚麻new-grad-oa-1-17"><a href="#✔2021-1-26-亚麻new-grad-oa-1-17" class="headerlink" title="✔2021-1-26 亚麻new grad oa(1.17)"></a>✔2021-1-26 亚麻new grad oa(1.17)</h3><p>Fill The Truck</p>
<p>Subtree with Maximum Average</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709431&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709431&amp;highlight=OA</a></p>
<h3 id="✔2021-1-1-amazon-oa2-new-grad"><a href="#✔2021-1-1-amazon-oa2-new-grad" class="headerlink" title="✔2021-1-1 amazon oa2 new grad"></a>✔2021-1-1 amazon oa2 new grad</h3><p>1.abc三个character组成，岛屿数</p>
<p>第一题就是</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=700516&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=700516&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311</a></p>
<p>的第二题</p>
<ol start="2">
<li>fetch item to display, python输入是一个orderdict, 不能简单一sort, 我的方式是if sortParameter == 0, key = lambda x:x[sortParameter], else key = lambda x:x[1][sortParameter-1]</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=701345&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=701345&amp;highlight=OA</a></p>
<h3 id="✔2021-1-10-热带雨林21校招OA"><a href="#✔2021-1-10-热带雨林21校招OA" class="headerlink" title="✔2021/1/10 热带雨林21校招OA"></a>✔2021/1/10 热带雨林21校招OA</h3><p>OA2两道也是地里有的。<br>1）fill the truck。注意如果遇到run time error不要慌，看下自己是不是有啥edge case没有考虑到的。<br>2）disk space那道题，就按照地里说的有deque就行了。<br>两个test case都全过了。</p>
<h3 id="✔2021-1-6-亚麻-new-grad-2021-Vancouver"><a href="#✔2021-1-6-亚麻-new-grad-2021-Vancouver" class="headerlink" title="✔2021-1-6 亚麻 new grad 2021 Vancouver"></a>✔2021-1-6 亚麻 new grad 2021 Vancouver</h3><p>OA2 题目：<br>\1. <a href="https://www.1point3acres.com/bbs/interview/amazon-software-engineer-678189.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs … ngineer-678189.html</a> 的第一题</p>
<p>今天剛作OA2  一題簡單的新題 - GetMaxValue ，一題舊題 - Fetch Item to Display<br>GetMaxValue; 給一個array 求最大的值為多少<br>限制1 : sort後的起始必須為1<br>限制2: sort後任相鄰兩個數字間的差不超過1</p>
<p>Example: input [1,3,2,2] output 3.<br>Explaination : sort 後為 [1,2,2,3] , 最大為3 且任相鄰兩個數字間的差不超過1</p>
<p>Example input [2,4,7,3] output 4<br>Explaination : sort 後為 [2,3,4,7] 我們可以先調整為 [1,2,3,4] 最大為4 且任相鄰兩個數字間的差不超過1</p>
<p>\2. 给城市array x,y, 找target城市最近的城市</p>
<h3 id="✔2021-1-7-亚麻new-grad-oa2"><a href="#✔2021-1-7-亚麻new-grad-oa2" class="headerlink" title="✔2021-1-7 亚麻new grad oa2"></a>✔2021-1-7 亚麻new grad oa2</h3><p>第一题是break a palindrome，唯一不同的是new string得alphabetically lower than the old one and it has to be the lowest possible<br>第二题 “fetch items to display“</p>
<h3 id="✔2021-2-20"><a href="#✔2021-2-20" class="headerlink" title="✔2021/2/20"></a>✔2021/2/20</h3><p> 亚麻oa12</p>
<p>OA2<br>highest profit</p>
<p>break a palindrome</p>
<h3 id="✔2021-1-6-亚麻2021-New-Grad-OA-timeline"><a href="#✔2021-1-6-亚麻2021-New-Grad-OA-timeline" class="headerlink" title="✔2021-1-6 亚麻2021 New Grad OA timeline"></a>✔2021-1-6 亚麻2021 New Grad OA timeline</h3><ul>
<li>一題Subtree, BookGenre similar to Favorite Genres <a href="https://link.1point3acres.com/?url=https%3A%2F%2Fleetcode.com%2Fdiscuss%2Finterview-question%2F373006" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/373006</a></li>
<li>因為介面不熟習一開始出現symbol error超慌, 才發現是自己要import class</li>
<li>BookGenre中間有runtime error, 懷疑是getting non-existing value from hashmap, 花了我一個小時debug…, 最後五分鐘寫出來</li>
</ul>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=702417&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=702417&amp;highlight=OA</a></p>
<h3 id="✔2021-2-16-亚麻New-Grad-OA2"><a href="#✔2021-2-16-亚麻New-Grad-OA2" class="headerlink" title="✔2021/2/16 亚麻New Grad OA2"></a>✔2021/2/16 亚麻New Grad OA2</h3><p>第一题是fill the truck. case 全过。</p>
<p>第二题是countStringPrime \ Split String Into Unique Primes，</p>
<p>大概就是给你一个数字组成的String，然后问能划分成多少不同种的Prime的集合。和这题一样。</p>
<p><a href="https://www.geeksforgeeks.org/count-of-ways-to-split-a-given-number-into-prime-segments/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/count-of-ways-to-split-a-given-number-into-prime-segments/</a></p>
<p>但是不知道为啥，我run的时候显示Executing…很久。最后显示个Unhandled exception occurred，其他啥也没提示。我在自己IDE上跑base case都能过。调了半天也没办法，加上时间也不太够了，只能这么交了，估计凉了。</p>
<p>不知道有没有人知道这个是什么原因。我开始想就算有问题也应该是stackOverFlow之类的吧。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717487&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717487&amp;highlight=OA</a></p>
<h3 id="2021-1-21-热带雨林-SDE-1-OA"><a href="#2021-1-21-热带雨林-SDE-1-OA" class="headerlink" title="2021-1-21 热带雨林 SDE 1 OA"></a>2021-1-21 热带雨林 SDE 1 OA</h3><p>没找到原题，图中找二点最短距离，有障碍物,edge 没有weight。比较简单狸扣973 相同距离不要求顺序</p>
<p>贡献几道准备过的复杂的OA 题 代码，回馈地里 攒攒人品</p>
<p>五星卖家 <a href="https://leetcode.com/playground/2d2z2dJ6" target="_blank" rel="noopener">https://leetcode.com/playground/2d2z2dJ6</a><br>Itemin Container: <a href="https://leetcode.com/playground/Vq3i8WnP" target="_blank" rel="noopener">https://leetcode.com/playground/Vq3i8WnP</a><br>Shopping Pattern: <a href="https://leetcode.com/playground/jw9qE7vR" target="_blank" rel="noopener">https://leetcode.com/playground/jw9qE7vR</a><br>storage Optimization: <a href="https://leetcode.com/playground/MMyd4ibK" target="_blank" rel="noopener">https://leetcode.com/playground/MMyd4ibK</a></p>
<p>利口看到的新题 <a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … torage-optimization<br>想了想只想到背包问题的解法，或者暴力DFS。</p>
<p>不好意思 没说清楚。都是老题<br>第一天就是一个很普通的，给二个点 图上找最短路径，图没有权重，中间可能有障碍。 BFS + level order traversal 就好了<br>第二题 是 find K cloest points LC原题</p>
<p><a href="https://www.1point3acres.com/bbs/thread-707477-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-707477-1-1.html</a></p>
<h3 id="✔2021-1-18-亚麻-OA-2021-Timeline"><a href="#✔2021-1-18-亚麻-OA-2021-Timeline" class="headerlink" title="✔2021-1-18 亚麻 OA, 2021 Timeline"></a>✔2021-1-18 亚麻 OA, 2021 Timeline</h3><p>A2：第一题是一个2Dmatrix， 里面只有abc， 每一个字母代表一个server，连续的相同的字母算一个server的集群，问有几个集群。dfs就行了。</p>
<p>第二题是给了一堆robots的x和y的坐标，然后问最近两个机器人的距离。</p>
<p>OA2可以在<a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … ssessment-Questions，这里找。有一些链接没有了，可以在google搜一下，90%的题目都能搜到。</p>
<h3 id="✔2019-10-19-Amazon-3轮OA-timeline"><a href="#✔2019-10-19-Amazon-3轮OA-timeline" class="headerlink" title="✔2019-10-19 Amazon 3轮OA + timeline"></a>✔2019-10-19 Amazon 3轮OA + timeline</h3><p>OA2: 两道Coding，我抽到的是Subtree, favorite genre，用python写的。我当时遇到的稍微卡壳的地方是subtree的输出是0和1，favorite genre一共有四个输入，不仅有人喜欢听的歌和歌的类型两个字典，还有两个字典的长度，但是长度不会影响解题，完全没有用，当时看到的时候稍微慌了一下以为改题了。还有就是要把leetcode上面的那两个testcase都跑一下确保输出跟答案一样，特别是第二个没有对应歌曲种类的情况，一定要和答案一摸一样！我同学有testcase没过，感觉大概率就是因为这个corner case。我OA2所有的testcase都过了。第二天大概过了6个小时左右收到的</p>
<h3 id="✔2021-1-5-亚麻OA2"><a href="#✔2021-1-5-亚麻OA2" class="headerlink" title="✔2021-1-5 亚麻OA2"></a>✔2021-1-5 亚麻OA2</h3><ol>
<li>Fill the truck,</li>
<li>nearest city, 前两个case过了，但是后面有runtime error。</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=702261&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=702261&amp;highlight=OA</a></p>
<h3 id="2021-1-15-亚麻最新OA1-OA2"><a href="#2021-1-15-亚麻最新OA1-OA2" class="headerlink" title="2021-1-15 亚麻最新OA1, OA2"></a>2021-1-15 亚麻最新OA1, OA2</h3><p>multiprocessor<br>labeling system</p>
<p><a href="https://www.1point3acres.com/bbs/thread-705430-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-705430-1-1.html</a></p>
<h3 id="2021-1-20-热带雨林-OA2-求大米"><a href="#2021-1-20-热带雨林-OA2-求大米" class="headerlink" title="2021-1-20 热带雨林 OA2 求大米"></a>2021-1-20 热带雨林 OA2 求大米</h3><p>第一个是earliest time to complete delivery<br>第二个是two sum pairs 题目变了一下是stockprofit array 刚开始以为遇到新题了结果往下读就是two sum pairs</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=707248&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=707248&amp;highlight=OA</a></p>
<h3 id="2021-1-17-图片-热带雨林amazon最新oa1-oa2-oa3"><a href="#2021-1-17-图片-热带雨林amazon最新oa1-oa2-oa3" class="headerlink" title="2021-1-17 图片 热带雨林amazon最新oa1 oa2 oa3"></a>2021-1-17 图片 热带雨林amazon最新oa1 oa2 oa3</h3><p>q1: 2D grid<br>q2: nearest cities<br>我的q2做出来了但是时间复杂度没达到要求 建议大家把这个q2好好研究下</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706258&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706258&amp;highlight=OA</a></p>
<h3 id="2021-1-27-work-style-热带雨林新鲜oa2"><a href="#2021-1-27-work-style-热带雨林新鲜oa2" class="headerlink" title="2021-1-27 + work style 热带雨林新鲜oa2"></a>2021-1-27 + work style 热带雨林新鲜oa2</h3><ul>
<li>merge two LinkedList</li>
<li>Throttling Gateway</li>
</ul>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709611&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709611&amp;highlight=OA</a></p>
<h3 id="✔2021-1-13-亚麻oa1-3-timeline，已收到一轮vo"><a href="#✔2021-1-13-亚麻oa1-3-timeline，已收到一轮vo" class="headerlink" title="✔2021-1-13 亚麻oa1-3 timeline，已收到一轮vo"></a>✔2021-1-13 亚麻oa1-3 timeline，已收到一轮vo</h3><p>1/4 OA2</p>
<ol>
<li>abc islands，解法参考lc200</li>
<li>highest profit</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=704612&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=704612&amp;highlight=OA</a></p>
<h3 id="2021-1-28-新鲜亚马逊oa123"><a href="#2021-1-28-新鲜亚马逊oa123" class="headerlink" title="2021-1-28 新鲜亚马逊oa123"></a>2021-1-28 新鲜亚马逊oa123</h3><p>lc尔舐+ gateway</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710076&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710076&amp;highlight=OA</a></p>
<h3 id="✔2021-1-22【未下载】亚麻oa1-amp-2-timeline"><a href="#✔2021-1-22【未下载】亚麻oa1-amp-2-timeline" class="headerlink" title="✔2021-1-22【未下载】亚麻oa1&amp;2 timeline"></a>✔2021-1-22【未下载】亚麻oa1&amp;2 timeline</h3><p>题目是fill the truck和highest profit</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=707948&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=707948&amp;highlight=OA</a></p>
<h3 id="2021-1-25-Amazon-OA2"><a href="#2021-1-25-Amazon-OA2" class="headerlink" title="2021-1-25 Amazon OA2"></a>2021-1-25 Amazon OA2</h3><p>一道题Fullifillment Builder。</p>
<p>另外一道Prime Air Route。<br>都是题库的题</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708961&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708961&amp;highlight=OA</a></p>
<h3 id="2021-1-24-新鲜亚麻OA"><a href="#2021-1-24-新鲜亚麻OA" class="headerlink" title="2021-1-24 新鲜亚麻OA"></a>2021-1-24 新鲜亚麻OA</h3><p>Shopping Options<br><a href="https://aonecode.com/aplusplus/i" target="_blank" rel="noopener">https://aonecode.com/aplusplus/i</a> … tInterview/90819289<br>Storage Optimization<br><a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … torage-optimization</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708678&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708678&amp;highlight=OA</a></p>
<h3 id="2021-1-25"><a href="#2021-1-25" class="headerlink" title="2021-1-25"></a>2021-1-25</h3><p>1从一个数组里面找出一个数组A，A的和要大于剩余的数字。如果有多个A的话，找出需要数字最少的那个A。<br>这题其实挺简单的，就是把数组排个序，然后从头开始取和，如果和大于一半的总和的话，说明已经找到了A的第一数，然后把这个第一个数和后面的数字全取出来，当做A返回就可以了。</p>
<p>2一个机器人题目，命令有G前景，L左转，右转。然后叫你判断一下给出一个命令string，机器人如果无限执行这个命令的话，是否存在一个原地打转的可能性。</p>
<p>这题其实也挺简单的，就是设置一个X和Y，然后再加一个方向，我用的东南西北。根据现在的方向和命令，计算X和Y的坐标。然后最后如果X和Y计算下来如果都是0的话，就说明命令会让机器人原地打转。<br>不过这样做的话还是有3个case不能通过，比如GGGGGL其实也应该是原地打转，因为你可以无限次执行这个命令。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708880&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708880&amp;highlight=OA</a></p>
<h3 id="✔2021-1-28"><a href="#✔2021-1-28" class="headerlink" title="✔2021-1-28"></a>✔2021-1-28</h3><p>完成OA2: fill the truck;  disk space analysis</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710224&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710224&amp;highlight=OA</a></p>
<h3 id="2021-2-1"><a href="#2021-2-1" class="headerlink" title="2021-2-1"></a>2021-2-1</h3><p>第一题是count inversions in an array，第二题是lc机器人那道，地里有很多人都说过，感觉这道题很popular呀。1041 原题</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=711378&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=711378&amp;highlight=OA</a></p>
<h3 id="2021-1-16-未下载"><a href="#2021-1-16-未下载" class="headerlink" title="2021-1-16 未下载"></a>2021-1-16 未下载</h3><p>热带雨林热乎乎oa，两个新题</p>
<p>第一题<br>cloudfornt caching. 解法: union find.</p>
<p>第二题<br>利口1041变形题目。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706220&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=706220&amp;highlight=OA</a></p>
<h3 id="2021-2-3"><a href="#2021-2-3" class="headerlink" title="2021-2-3"></a>2021-2-3</h3><p>一道是和Amazon Fulfillment Builder一模一样的题，换汤不换药，就是给一个数组以最小的总开销把其中的数字加起来。比如给[4, 8, 6, 12]，每次都把最小的两个合并。流程就是这样4, 6 先合并，开销是10，然后再8和10合并，开销是18，然后是18和12合并，开销是30，总的开销就是10+18+30 = 58. 每次都用最小的两个数合并，肯定保证是总的开销是最小的。用PQ做，每次pop两个，相加，然后再塞回PQ去。</p>
<p>另外一道是一个机器人清路障的题，就是一个机器人在一个有0（沟壑，不能走），1（平路，可走），9（目标）的矩阵里走，问最小的步数找到目标，如果找不不到目标返回-1. 经典BFS，队列里压入坐标以及步数。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712269&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712269&amp;highlight=OA</a></p>
<h3 id="2021-1-30"><a href="#2021-1-30" class="headerlink" title="2021-1-30"></a>2021-1-30</h3><p>第一题 利口舅其散 套了个算餐馆距离壳子<br>第二题Prime Air Route换了个壳子，sort后two pointer，处理好重复的地方。<br>两题test case都过了。</p>
<p>原题在这个帖子里有：<br><a href="https://www.1point3acres.com/bbs/thread-696651-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-696651-1-1.html</a></p>
<p>我遇到的那个题把这里两个RouteList改成两个AppList，存着它们的id和memory usage，maxTravelDist变成了deviceCapacity</p>
<p>今天刚和recruiter打了电话，说是有4轮，每轮一小时</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710903&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=710903&amp;highlight=OA</a></p>
<h3 id="2021-2-3-1"><a href="#2021-2-3-1" class="headerlink" title="2021-2-3"></a>2021-2-3</h3><p>两道题都是two sum的变体</p>
<p>第一题基本上就是two sum， 第二题是面经出现过的，但名字变了，叫 Device Application Pairs， 之前的名字应该是Amazon prime air<br>input: deviceCapacity = 7, foregroundAppList = [[1,2],[2,4],[3,6]], backgroundAppList = [[1,2]]  数组里的第一个数算是index，第二个是value<br>output: 从f 和 b里面选出value和不超过deviceCapacity，尽量接近deviceCapacity 的组合的index， 上面的例子的结果是 [1,2]。<br>题不难，就是要注意是要求出所有组合，比如：<br>input: deviceCapacity = 30, foregroundAppList = [[1,11],[2,11],[3,11]], backgroundAppList = [[1,9],[2,9]]<br>返回的值是 [[1,1],[2,1],[3,1],[1,2],[2,2],[3,3]]</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712207&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=712207&amp;highlight=OA</a></p>
<h3 id="2021-2-13-2-12新鲜亚麻OA面经-图片"><a href="#2021-2-13-2-12新鲜亚麻OA面经-图片" class="headerlink" title="2021-2-13 2.12新鲜亚麻OA面经 + 图片"></a>2021-2-13 2.12新鲜亚麻OA面经 + 图片</h3><ol>
<li>shopping option</li>
<li>storage optimization</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=716400&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=716400&amp;highlight=OA</a></p>
<p>求一个亚麻oa五星卖家的思路！</p>
<p>这个帖子还没有删  <a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … A-Five-Star-Sellers</p>
<p>这是我之前找的别人的java code<br><a href="https://leetcode.com/playground/8seNPbYP" target="_blank" rel="noopener">https://leetcode.com/playground/8seNPbYP</a></p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717167&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717167&amp;highlight=OA</a></p>
<h3 id="2021-1-25-1"><a href="#2021-1-25-1" class="headerlink" title="2021-1-25"></a>2021-1-25</h3><p>给定四种商品和预算求组合数。</p>
<p>第二题比较简单我没贴，大概是一个排序数连续得最长得数组。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708982&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=708982&amp;highlight=OA</a></p>
<p>OA2 两道题，第一道类似two sum的easy，第二道蠡口妖流死坝。所有test都通过</p>
<p>我遇到的是2 sum unique pair 和 deep copy linked list with random pointer. 题目内容和帖子完全一样，但是题目的描述不一样。</p>
<h3 id="2021-2-13-亚麻NG一轮VO"><a href="#2021-2-13-亚麻NG一轮VO" class="headerlink" title="2021-2-13 亚麻NG一轮VO"></a>2021-2-13 亚麻NG一轮VO</h3><p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=716728&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3088%5D%5Bvalue%5D%3D1%26searchoption%5B3088%5D%5Btype%5D%3Dradio%26searchoption%5B3046%5D%5Bvalue%5D%3D5%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26searchoption%5B3109%5D%5Bvalue%5D%3D1%26searchoption%5B3109%5D%5Btype%5D%3Dradio%26sortid%3D311%26orderby%3Ddateline" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=716728&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3088%5D%5Bvalue%5D%3D1%26searchoption%5B3088%5D%5Btype%5D%3Dradio%26searchoption%5B3046%5D%5Bvalue%5D%3D5%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26searchoption%5B3109%5D%5Bvalue%5D%3D1%26searchoption%5B3109%5D%5Btype%5D%3Dradio%26sortid%3D311%26orderby%3Ddateline</a></p>
<p>欧诶2 - fetch item to display + fill the truck</p>
<h3 id="2021-2-15-亚麻oa2-校招"><a href="#2021-2-15-亚麻oa2-校招" class="headerlink" title="2021/2/15 亚麻oa2 校招"></a>2021/2/15 亚麻oa2 校招</h3><ol>
<li>装卡车（地里原题）</li>
<li>Fetch items to display（看某页上display哪些内容）<br>第二题不要直接sort，会有两个case不过，推荐用priority queue，挨个put进去（put的时候使用(-1, key) or items[key][orderparameter-1], key) 来作为元素）<br>之后再挨个get出来，get的时候直接res.append(pq.get()[1])就拿出来的全是name了，之后直接截取res就可以了</li>
</ol>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717247&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717247&amp;highlight=OA</a></p>
<h3 id="2021-2-18"><a href="#2021-2-18" class="headerlink" title="2021/2/18"></a>2021/2/18</h3><ol>
<li><p>类似 酒三期 <a href="https://leetcode.com/problems/reorder-data-in-log-files/" target="_blank" rel="noopener">https://leetcode.com/problems/reorder-data-in-log-files/</a></p>
</li>
<li><p><a href="https://leetcode.com/discuss/interview-question/373202" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/373202</a></p>
</li>
</ol>
<p>才发现我遇到的和<a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … amazon-india-oa2020一模一样的两道题。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=718652&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=718652&amp;highlight=OA</a></p>
<p>YOE :1<br>I gave online assessment yesterday. First question was to reorder list of orders, which was differentiated by prime order and non prime orders. Each order has unique identifier which is alphanumeric. Prime order has meta data which are in form of space seperated alphanumeric words. Non prime orders have metadata as space separated positive integers. first word is always the identifier. prime orders have higher priority than non prime and are sorted lexicographically based on their meta data. if meta data is also same, tie is broken by unique identifier. non prime order are added in final list as original order and have lower priority than prime orders.<br>Similar to <a href="https://leetcode.com/problems/reorder-data-in-log-files/" target="_blank" rel="noopener">reorder log files</a></p>
<p>Second question : <a href="https://leetcode.com/discuss/interview-question/373202" target="_blank" rel="noopener">optimal utilization</a></p>
<p>I passed first question 26/26 cases and second one 11/17. Didnt got shortlisted. I am little low on motivation, but hope that tomorrow may be better for me.</p>
<h3 id="2019-1-31面经"><a href="#2019-1-31面经" class="headerlink" title="2019-1-31面经"></a>2019-1-31面经</h3><p>subtree with maximum average</p>
<p>find substrings with k distinct characters</p>
<p>近期感觉都是地里的原题，自己准备了大概十二道题，大概如下：</p>
<p>1）City Connection, MST做的<br>2）Company subtree， 就那个lintcode subtree with maximum average<br>3) Order dependency, lc 210<br>4）Highest five<br>5) K closest points to origin<br>6) Longest Palindrome Substring<br>7) most common word<br>8) substring with k distinct characters<br>9) maze<br>10) two closest sum</p>
<h3 id="2019-10-8"><a href="#2019-10-8" class="headerlink" title="2019-10-8"></a>2019-10-8</h3><p>OA2的内容是都是地里的面经题， 目前我看到的都是标有new grad的题。</p>
<p>我遇到的是2 sum unique pair 和 deep copy linked list with random pointer. 题目内容和帖子完全一样，但是题目的描述不一样。</p>
<h3 id="2021-2-21"><a href="#2021-2-21" class="headerlink" title="2021.2.21"></a>2021.2.21</h3><p>欧唉2:<br>解除回文和fetch items</p>
<h3 id="2020-12-28"><a href="#2020-12-28" class="headerlink" title="2020-12-28"></a>2020-12-28</h3><p>第一题是Break a Palindrome第二题是Min Distance Robot</p>
<h3 id="2020-12-26-图片"><a href="#2020-12-26-图片" class="headerlink" title="2020-12-26 图片"></a><a href="file:///C:/Users/86480/Desktop/amazon%E9%9D%A2%E7%BB%8F-%E4%B8%80%E4%BA%A9%E4%B8%89%E5%88%86%E5%9C%B0/oa2/2020.12-oa2-%E4%BA%9A%E9%BA%BB%E6%AC%A7%E8%89%BE%E4%B8%80%E4%BA%8C%20+%20%E6%97%B6%E9%97%B4%E7%BA%BF_%E4%B8%80%E4%BA%A9%E4%B8%89%E5%88%86%E5%9C%B0%E7%BE%8E%E5%9B%BD%E9%9D%A2%E7%BB%8F%E7%89%88.mhtml">2020-12-26 图片</a></h3><p>欧艾2地里都有不少分享了，利口也有（只是被和谐了）<br>70分钟<br>提目一是卡车送货，15case全过了<br>提目二是硬盘，只过了3个case</p>
<h3 id="2021-2-17-OA2"><a href="#2021-2-17-OA2" class="headerlink" title="2021/2/17 OA2"></a>2021/2/17 OA2</h3><p>OA2 准备了<a href="https://link.1point3acres.com/?url=https%3A%2F%2Fleetcode.com%2Fdiscuss%2Finterview-question%2F344650%2FAmazon-Online-Assessment-Questions" target="_blank" rel="noopener">https://leetcode.com/discuss/int … ssessment-Questions</a> 里ng的部分和地里最近看到的abc island。</p>
<p>我自己遇到的是</p>
<ol>
<li>fill the truck</li>
<li>disk space</li>
</ol>
<h3 id="2021-2-21-amazon-oa-1-2"><a href="#2021-2-21-amazon-oa-1-2" class="headerlink" title="2021/2/21 amazon oa 1 2"></a>2021/2/21 amazon oa 1 2</h3><p>OA 2<br>break a palindrome</p>
<p>Min Distance Between Robots</p>
<h1 id="Work-Style"><a href="#Work-Style" class="headerlink" title="Work Style"></a>Work Style</h1><p><a href="https://www.1point3acres.com/bbs/interview/amazon-software-engineer-557398.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/interview/amazon-software-engineer-557398.html</a></p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709611&amp;highlight=OA" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=709611&amp;highlight=OA</a></p>
<p><a href="https://www.1point3acres.com/bbs/interview/amazon-software-engineer-507147.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/interview/amazon-software-engineer-507147.html</a></p>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><h2 id="Import-class"><a href="#Import-class" class="headerlink" title="Import class"></a>Import class</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line">import java.util.*;</span><br><span class="line">import java.io.*;</span><br><span class="line">import java.lang.*;</span><br></pre></td></tr></table></figure>

<h2 id="Turnstile"><a href="#Turnstile" class="headerlink" title="Turnstile"></a>Turnstile</h2><p><a href="https://algo.monster/problems/turnstile" target="_blank" rel="noopener">https://algo.monster/problems/turnstile</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getTimes(<span class="keyword">int</span> numCustomers, <span class="keyword">int</span>[] arrTime, <span class="keyword">int</span>[] direction) &#123;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; exit = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; enter = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> n = arrTime.length;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (direction[i] == <span class="number">1</span>) &#123;</span><br><span class="line">            exit.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;arrTime[i], i&#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            enter.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;arrTime[i], i&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cur_time = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pre_dir = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!exit.isEmpty() || !enter.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// check for exit</span></span><br><span class="line">        <span class="keyword">if</span> (!exit.isEmpty() &amp;&amp; exit.peek()[<span class="number">0</span>] &lt;= cur_time &amp;&amp; (pre_dir == -<span class="number">1</span> || pre_dir == <span class="number">1</span> || enter.isEmpty() || (enter.peek()[<span class="number">0</span>] &gt; cur_time))) &#123;</span><br><span class="line">            res[exit.peek()[<span class="number">1</span>]] = cur_time;</span><br><span class="line">            pre_dir = <span class="number">1</span>;</span><br><span class="line">            exit.poll();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!enter.isEmpty() &amp;&amp; enter.peek()[<span class="number">0</span>] &lt;= cur_time) &#123; <span class="comment">// check for enter</span></span><br><span class="line">            res[enter.peek()[<span class="number">1</span>]] = cur_time;</span><br><span class="line">            pre_dir = <span class="number">0</span>;</span><br><span class="line">            enter.poll();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pre_dir = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur_time++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="⭐Fill-the-track-Get-Maximum-Units-Load-The-Cargo-Max-Unit-Truck"><a href="#⭐Fill-the-track-Get-Maximum-Units-Load-The-Cargo-Max-Unit-Truck" class="headerlink" title="⭐Fill the track || Get Maximum Units || Load The Cargo || Max Unit Truck"></a>⭐Fill the track || Get Maximum Units || Load The Cargo || Max Unit Truck</h2><p><a href="https://algo.monster/problems/fill_the_truck" target="_blank" rel="noopener">https://algo.monster/problems/fill_the_truck</a></p>
<p><a href="https://aonecode.com/interview-question/load_cargo" target="_blank" rel="noopener">https://aonecode.com/interview-question/load_cargo</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">fillTheTruck</span><span class="params">(<span class="keyword">int</span> num, List&lt;Integer&gt; boxes, <span class="keyword">int</span> unitSize, List&lt;Integer&gt; unitsPerBox, <span class="keyword">int</span> truckSize)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//maxHeap</span></span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; (b[<span class="number">1</span>] - a[<span class="number">1</span>]));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">        <span class="comment">//[number of available boxe, box size]</span></span><br><span class="line">        heap.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;boxes.get(i), unitsPerBox.get(i)&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(truckSize &gt; <span class="number">0</span> &amp;&amp; !heap.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] cur = heap.poll();</span><br><span class="line">        <span class="keyword">long</span> carry = Math.min(truckSize, cur[<span class="number">0</span>]);</span><br><span class="line">        truckSize -= carry;</span><br><span class="line">        ans += carry * cur[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="getMaxValue"><a href="#getMaxValue" class="headerlink" title="getMaxValue"></a>getMaxValue</h2><p>給一個array 求最大的值為多少 限制1 : sort後的起始必須為1 限制2: sort後任相鄰兩個數字間的差不超過1 Example: input [1,3,2,2] output 3. Explaination : sort 後為 [1,2,2,3] , 最大為3 且任相鄰兩個數字間的差不超過1 Example input [2,4,7,3] output 4 Explaination : sort 後為 [2,3,4,7] 我們可以先調整為 [1,2,3,4] 最大為4 且任相鄰 兩個數字間的差不超過1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getMaxValue</span><span class="params">(<span class="keyword">int</span> numGroup, List&lt;Integer&gt; arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] array = arr.stream().mapToInt(i -&gt; i).toArray();</span><br><span class="line">    Arrays.sort(array);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numGroup; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">            array[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; array[i] - array[i - <span class="number">1</span>] &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            array[i] = array[i - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array[numGroup - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="⭐Find-The-Maximum-Available-Disk-Space-Disk-Space-Analysis"><a href="#⭐Find-The-Maximum-Available-Disk-Space-Disk-Space-Analysis" class="headerlink" title="⭐Find The Maximum Available Disk Space || Disk Space Analysis"></a>⭐Find The Maximum Available Disk Space || Disk Space Analysis</h2><ol start="239">
<li>sliding window maximum</li>
</ol>
<p><a href="https://algo.monster/problems/find_the_maximum_available_disk_space" target="_blank" rel="noopener">https://algo.monster/problems/find_the_maximum_available_disk_space</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">availableSpace</span><span class="params">(<span class="keyword">int</span> numComputer, List&lt;Integer&gt; hardDiskSpace, <span class="keyword">int</span> segmentLength)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">    <span class="keyword">int</span> ans = Integer.MIN_VALUE;</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> end = <span class="number">0</span>; end &lt; hardDiskSpace.size(); end++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; hardDiskSpace.get(deque.peekLast()) &gt; hardDiskSpace.get(end)) &#123;</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekFirst() &lt;= end - segmentLength) &#123;</span><br><span class="line">            deque.removeFirst();</span><br><span class="line">        &#125;</span><br><span class="line">        deque.addLast(end);</span><br><span class="line">        <span class="keyword">if</span>(end &gt;= segmentLength - <span class="number">1</span>) &#123;</span><br><span class="line">            ans = Math.max(ans, hardDiskSpace.get(deque.peekFirst()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Count-Teams-Count-Review-Combinations"><a href="#Count-Teams-Count-Review-Combinations" class="headerlink" title="Count Teams || Count Review Combinations"></a>Count Teams || Count Review Combinations</h2><p><a href="https://aonecode.com/interview-question/Count-Review-Combinations" target="_blank" rel="noopener">https://aonecode.com/interview-question/Count-Review-Combinations</a></p>
<p><a href="https://algo.monster/problems/count_teams" target="_blank" rel="noopener">https://algo.monster/problems/count_teams</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countTeams</span><span class="params">(<span class="keyword">int</span> num, <span class="keyword">int</span>[] skills, <span class="keyword">int</span> minAssociates, <span class="keyword">int</span> minLevel, <span class="keyword">int</span> maxLevel)</span></span>&#123;</span><br><span class="line">    <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : skills) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= minLevel &amp;&amp; i &lt;= maxLevel) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = minAssociates;</span><br><span class="line">    <span class="keyword">int</span> n = count + count - m;</span><br><span class="line">    m = count;</span><br><span class="line">    <span class="keyword">int</span> diff = n - m;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; m) &#123;</span><br><span class="line">        result *= n;</span><br><span class="line">        n--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (diff &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        result /= diff;</span><br><span class="line">        diff--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countTeams</span><span class="params">(<span class="keyword">int</span> num, <span class="keyword">int</span>[] reviews, <span class="keyword">int</span> minReviews, <span class="keyword">int</span> minLen, <span class="keyword">int</span> maxLen)</span></span>&#123;</span><br><span class="line">    <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : reviews) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= minLen &amp;&amp; i &lt;= maxLen) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = minReviews; i &lt;= count; i++) &#123;</span><br><span class="line">        ans += comb(count, i); <span class="comment">//ex, minReviews = 3, count = 5 =&gt; ans = C(5, 3) + C(5, 4) + C(5, 5)</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">comb</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; m) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n == m) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> comb(n - <span class="number">1</span>, m - <span class="number">1</span>) + comb(n - <span class="number">1</span>, m);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Maximize-Profit-Find-The-Highest-Profit-Supplier-Inventory"><a href="#Maximize-Profit-Find-The-Highest-Profit-Supplier-Inventory" class="headerlink" title="Maximize Profit || Find The Highest Profit || Supplier Inventory"></a>Maximize Profit || Find The Highest Profit || Supplier Inventory</h2><p><a href="https://algo.monster/problems/find_the_highest_profit" target="_blank" rel="noopener">https://algo.monster/problems/find_the_highest_profit</a></p>
<p><a href="https://aonecode.com/maximize-profit" target="_blank" rel="noopener">https://aonecode.com/maximize-profit</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findProfit</span><span class="params">(<span class="keyword">int</span> numSuppliers, List&lt;Integer&gt; inventory, <span class="keyword">int</span> order)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> price : inventory) &#123;</span><br><span class="line">        map.put(price, map.getOrDefault(price, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (max &lt; price) &#123;</span><br><span class="line">            max = price;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(order &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> count = Math.min(order, map.get(max));</span><br><span class="line">        ans += count * max;</span><br><span class="line">        order -= count;</span><br><span class="line">        map.put(max, map.get(max) - count);</span><br><span class="line">        map.put(max - <span class="number">1</span>, map.getOrDefault(max - <span class="number">1</span>, <span class="number">0</span>) + count);</span><br><span class="line">        <span class="keyword">if</span> (map.get(max) == <span class="number">0</span>) &#123;</span><br><span class="line">            map.remove(max);</span><br><span class="line">            max--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Highest-Tenure-Maximum-Average-in-Subtree-Tee"><a href="#Highest-Tenure-Maximum-Average-in-Subtree-Tee" class="headerlink" title="Highest Tenure || Maximum Average in Subtree Tee"></a>Highest Tenure || Maximum Average in Subtree Tee</h2><p><a href="https://www.notion.so/Power-Grid-13068672fe5e411f932f68d4cc0f2cd2" target="_blank" rel="noopener">https://www.notion.so/Power-Grid-13068672fe5e411f932f68d4cc0f2cd2</a></p>
<p><a href="https://leetcode.com/discuss/interview-question/797541/amazon-online-assessment-2-sde-1-new-graduate-2021-coding-2-questions-with-solutions" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/797541/amazon-online-assessment-2-sde-1-new-graduate-2021-coding-2-questions-with-solutions</a></p>
<p><a href="https://algo.monster/problems/highest_tenure" target="_blank" rel="noopener">https://algo.monster/problems/highest_tenure</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> max = Integer.MIN_VALUE;</span><br><span class="line">TreeNode maxNode = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">maximumAverageSubtree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    helper(root);</span><br><span class="line">    <span class="keyword">return</span> maxNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">double</span>[] helper(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[] &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> curTotal = root.val;</span><br><span class="line">    <span class="keyword">double</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">        <span class="keyword">double</span>[] cur = helper(child);</span><br><span class="line">        curTotal += cur[<span class="number">0</span>];</span><br><span class="line">        count += cur[<span class="number">1</span>];</span><br><span class="line">    &#125;        </span><br><span class="line">    <span class="keyword">double</span> avg = curTotal / count;</span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">1</span> &amp;&amp; avg &gt; max) &#123; <span class="comment">//taking "at least 1 child" into account</span></span><br><span class="line">        max = avg;</span><br><span class="line">        maxNode = root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[] &#123;curTotal, count&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> totalNodes, totalSum;</span><br><span class="line">    Pair(<span class="keyword">int</span> total, <span class="keyword">int</span> sum)&#123;</span><br><span class="line">        <span class="keyword">this</span>.totalNodes = total;</span><br><span class="line">        <span class="keyword">this</span>.totalSum = sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MaxTenureFinder</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Pair <span class="title">findHighestTenure</span><span class="params">(HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; hmap, <span class="keyword">int</span> V)</span></span>&#123;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span> (hmap.get(V).size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Pair(<span class="number">1</span>, V);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> totalNodesCount = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> totalSum = V;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; hmap.get(V).size(); i++)&#123;</span><br><span class="line">                <span class="comment">//recursively call</span></span><br><span class="line">                Pair temp = findHighestTenure(hmap, hmap.get(V).get(i));</span><br><span class="line">                totalNodesCount += temp.totalNodes;</span><br><span class="line">                totalSum += temp.totalSum;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// logic to avoid precision error</span></span><br><span class="line">            <span class="comment">// equals totalSum/totalNodesCount &gt;= maxSum.totalSum/maxSum.totalNodes</span></span><br><span class="line">            <span class="keyword">if</span> (totalSum * maxSum.totalNodes &gt;= maxSum.totalSum * totalNodesCount)&#123; </span><br><span class="line">                maxSum.totalNodes = totalNodesCount;</span><br><span class="line">                maxSum.totalSum = totalSum;</span><br><span class="line">                maxTenureNode = V;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Pair(totalNodesCount, totalSum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> maxTenureNode;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Pair maxSum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span> <span class="keyword">throws</span> java.lang.Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n = sc.nextInt();</span><br><span class="line"></span><br><span class="line">        HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt; hmap = <span class="keyword">new</span> HashMap&lt;&gt; ();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> parent = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span> child = sc.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(hmap.containsKey(parent))&#123;</span><br><span class="line">                hmap.get(parent).add(child);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                ArrayList&lt;Integer&gt; temp = <span class="keyword">new</span> ArrayList&lt;&gt; ();</span><br><span class="line">                temp.add(child);</span><br><span class="line">                hmap.put(parent, temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!hmap.containsKey(child))&#123;</span><br><span class="line">                hmap.put(child, <span class="keyword">new</span> ArrayList&lt;&gt; ());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> parentNode = sc.nextInt();</span><br><span class="line">        maxSum = <span class="keyword">new</span> Pair(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        maxTenureNode = -<span class="number">1</span>;</span><br><span class="line">        findHighestTenure(hmap, parentNode);</span><br><span class="line">        System.out.println(maxTenureNode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="🌕Unsolved-Power-Grid"><a href="#🌕Unsolved-Power-Grid" class="headerlink" title="🌕Unsolved Power Grid"></a>🌕Unsolved Power Grid</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> from, to;</span><br><span class="line">    <span class="keyword">int</span> cost;</span><br><span class="line">    Pair(<span class="keyword">char</span> from, <span class="keyword">char</span> to, <span class="keyword">int</span> cost)&#123;</span><br><span class="line">        <span class="keyword">this</span>.from = from;</span><br><span class="line">        <span class="keyword">this</span>.to = to;</span><br><span class="line">        <span class="keyword">this</span>.cost = cost;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    Node parent;</span><br><span class="line">    Node(<span class="keyword">int</span> data)&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">        <span class="keyword">this</span>.parent = <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinimumConnectionCost</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i &gt;= size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(ArrayList&lt;Pair&gt; heap, <span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= heap.size())&#123;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> lChild = <span class="number">2</span> * i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> rChild = <span class="number">2</span>* i + <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(isValid(lChild, heap.size()) &amp;&amp; isValid(rChild, heap.size()))&#123;</span><br><span class="line">            <span class="keyword">if</span>(heap.get(lChild).cost &lt;= heap.get(rChild).cost)&#123;</span><br><span class="line">                <span class="keyword">if</span>(heap.get(lChild).cost &lt; heap.get(i).cost)&#123;</span><br><span class="line">                    Pair temp = heap.get(lChild);</span><br><span class="line">                    heap.set(lChild, heap.get(i));</span><br><span class="line">                    heap.set(i, temp);</span><br><span class="line">                    heapify(heap, lChild);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (heap.get(rChild).cost &lt; heap.get(i).cost)&#123;</span><br><span class="line">                    Pair temp = heap.get(rChild);</span><br><span class="line">                    heap.set(rChild, heap.get(i));</span><br><span class="line">                    heap.set(i, temp);</span><br><span class="line">                    heapify(heap, rChild);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isValid(lChild, heap.size()))&#123;</span><br><span class="line">            <span class="keyword">if</span> (heap.get(lChild).cost &lt; heap.get(i).cost)&#123;</span><br><span class="line">                Pair temp = heap.get(lChild);</span><br><span class="line">                heap.set(lChild, heap.get(i));</span><br><span class="line">                heap.set(i, temp);</span><br><span class="line">                heapify(heap, lChild);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isValid(rChild, heap.size()))&#123;</span><br><span class="line">            <span class="keyword">if</span>(heap.get(rChild).cost &lt; heap.get(i).cost)&#123;</span><br><span class="line">                Pair temp = heap.get(rChild);</span><br><span class="line">                heap.set(rChild, heap.get(i));</span><br><span class="line">                heap.set(i, temp);</span><br><span class="line">                heapify(heap, rChild);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">formHeap</span><span class="params">(ArrayList&lt;Pair&gt; heap)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=heap.size()/<span class="number">2</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">            heapify(heap, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Pair <span class="title">extractMin</span><span class="params">(ArrayList&lt;Pair&gt; heap)</span></span>&#123;</span><br><span class="line">        Pair temp = heap.get(<span class="number">0</span>);</span><br><span class="line">        heap.set(<span class="number">0</span>, heap.get(heap.size() - <span class="number">1</span>));</span><br><span class="line">        heap.remove(heap.size() - <span class="number">1</span>);</span><br><span class="line">        heapify(heap, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Node <span class="title">findParent</span><span class="params">(Node node, ArrayList&lt;Node&gt; path)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(node.parent == node)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;path.size();i++)&#123;</span><br><span class="line">                path.get(i).parent = node;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        path.add(node);</span><br><span class="line">        <span class="keyword">return</span> findParent(node.parent, path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Pair&gt; <span class="title">findMinimumCostToConnectServers</span><span class="params">(ArrayList&lt;Pair&gt; heap)</span></span>&#123;</span><br><span class="line">        ArrayList&lt;Pair&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        formHeap(heap);</span><br><span class="line">        Node node[] = <span class="keyword">new</span> Node[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)&#123;</span><br><span class="line">            node[i] = <span class="keyword">new</span> Node(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(heap.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            Pair ele = extractMin(heap);</span><br><span class="line"></span><br><span class="line">            Node parentFrom = findParent(node[ele.from - <span class="string">'A'</span>], <span class="keyword">new</span> ArrayList&lt;&gt; ());</span><br><span class="line">            Node parentTo = findParent(node[ele.to - <span class="string">'A'</span>], <span class="keyword">new</span> ArrayList&lt;&gt; ());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(parentFrom != parentTo)&#123;</span><br><span class="line">                parentTo.parent = parentFrom;</span><br><span class="line">                res.add(<span class="keyword">new</span> Pair(ele.from, ele.to, ele.cost));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span> <span class="keyword">throws</span> java.lang.Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> n=sc.nextInt();</span><br><span class="line">        ArrayList&lt;Pair&gt; a = <span class="keyword">new</span> ArrayList&lt;&gt; ();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            a.add(<span class="keyword">new</span> Pair(sc.next().charAt(<span class="number">0</span>), sc.next().charAt(<span class="number">0</span>), sc.nextInt()));</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;Pair&gt; ans = findMinimumCostToConnectServers(a);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ans.size();i++)&#123;</span><br><span class="line">            System.out.println(ans.get(i).from+<span class="string">" "</span>+ans.get(i).to+<span class="string">" "</span>+ans.get(i).cost);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> id[<span class="number">27</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; &amp;connections)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (auto c: connections) &#123;</span><br><span class="line">        <span class="keyword">int</span> n1 = (c.first.first - <span class="string">'A'</span>);</span><br><span class="line">        <span class="keyword">int</span> n2 = c.first.second - <span class="string">'A'</span>;</span><br><span class="line">        id[n1] = n1;</span><br><span class="line">        id[n2] = n2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">bool <span class="title">customsort</span><span class="params">(pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;a, pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">bool <span class="title">anssort</span><span class="params">(pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;a, pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.first.first &lt; b.first.first;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">root</span><span class="params">(<span class="keyword">int</span> node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(id[node] != node) &#123;</span><br><span class="line">        id[node] = id[id[node]];</span><br><span class="line">        node = id[node];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">un</span><span class="params">(<span class="keyword">int</span> r1, <span class="keyword">int</span> r2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = root(r1);</span><br><span class="line">    <span class="keyword">int</span> q = root(r2);</span><br><span class="line">    id[p] = id[q];</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; solve(vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; &amp;connections) &#123;</span><br><span class="line">    init(connections);</span><br><span class="line">    vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line">    sort(connections.begin(), connections.end(), customsort); <span class="comment">// sort connections by weights in increasing</span></span><br><span class="line">    fashion</span><br><span class="line">        <span class="keyword">for</span> (auto c: connections) &#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = c.first.first - <span class="string">'A'</span>;</span><br><span class="line">            <span class="keyword">int</span> n2 = c.first.second - <span class="string">'A'</span>;</span><br><span class="line">            <span class="keyword">int</span> cur_cost = c.second;</span><br><span class="line">            <span class="keyword">if</span> (root(n1) != root(n2)) &#123;</span><br><span class="line">                ans.push_back(&#123;&#123;n1+<span class="string">'A'</span>, n2+<span class="string">'A'</span>&#125;, cur_cost&#125;);</span><br><span class="line">                un(n1, n2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    sort(ans.begin(), ans.end(), anssort);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> id[<span class="number">27</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; &amp;connections)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (auto c: connections) &#123;</span><br><span class="line">        <span class="keyword">int</span> n1 = (c.first.first - <span class="string">'A'</span>);</span><br><span class="line">        <span class="keyword">int</span> n2 = c.first.second - <span class="string">'A'</span>;</span><br><span class="line">        id[n1] = n1;</span><br><span class="line">        id[n2] = n2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">bool <span class="title">customsort</span><span class="params">(pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;a, pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.second &lt; b.second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">bool <span class="title">anssort</span><span class="params">(pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;a, pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt; &amp;b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.first.first &lt; b.first.first;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">root</span><span class="params">(<span class="keyword">int</span> node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(id[node] != node) &#123;</span><br><span class="line">        id[node] = id[id[node]];</span><br><span class="line">        node = id[node];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">un</span><span class="params">(<span class="keyword">int</span> r1, <span class="keyword">int</span> r2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> p = root(r1);</span><br><span class="line">    <span class="keyword">int</span> q = root(r2);</span><br><span class="line">    id[p] = id[q];</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; solve(vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; &amp;connections) &#123;</span><br><span class="line">    init(connections);</span><br><span class="line">    vector&lt;pair&lt;pair&lt;<span class="keyword">char</span>, <span class="keyword">char</span>&gt;, <span class="keyword">int</span>&gt;&gt; ans;</span><br><span class="line">    sort(connections.begin(), connections.end(), customsort); <span class="comment">// sort connections by weights in increasing fashion</span></span><br><span class="line">        <span class="keyword">for</span> (auto c: connections) &#123;</span><br><span class="line">            <span class="keyword">int</span> n1 = c.first.first - <span class="string">'A'</span>;</span><br><span class="line">            <span class="keyword">int</span> n2 = c.first.second - <span class="string">'A'</span>;</span><br><span class="line">            <span class="keyword">int</span> cur_cost = c.second;</span><br><span class="line">            <span class="keyword">if</span> (root(n1) != root(n2)) &#123;</span><br><span class="line">                ans.push_back(&#123;&#123;n1+<span class="string">'A'</span>, n2+<span class="string">'A'</span>&#125;, cur_cost&#125;);</span><br><span class="line">                un(n1, n2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    sort(ans.begin(), ans.end(), anssort);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Prime-Air-Route-Optimize-Memory-Usage"><a href="#Prime-Air-Route-Optimize-Memory-Usage" class="headerlink" title="Prime Air Route || Optimize Memory Usage"></a>Prime Air Route || Optimize Memory Usage</h2><p><a href="https://leetcode.com/discuss/interview-question/373202" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/373202</a></p>
<p>给一架飞机的最大里程数，给一些去程路线的编号和对应的里程数，给一些回程路线的编号和对应里程数，要求飞机必须得有去有回，返回所有能使利用率最大化的去程和回程的编号组合<br>e.g. 最大里程数 7000，去程路线们:[1, 2000], [2, 4000], [3, 6000] 回程路线们:[1, 2000] 最后应该返回[2, 1]<br>e.g. 最大里程数 10000， 去程路线们:[1, 3000], [2, 5000], [3, 7000], [4, 10000] 回程路线们: [1, 2000], [2, 3000], [3, 4000], [4, 5000] 最后应该返回[2, 4], [3, 2]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Arrays sort</span><br><span class="line">2 pointers， i &#x3D; 0, j &#x3D; arr2.length - 1</span><br><span class="line">while(i &lt; arr1.length &amp;&amp; j &gt;&#x3D; 0) </span><br><span class="line">根据diff更新res，  判断sum跟target的关系，sum &gt;&#x3D; k, i++, sum &lt; k, j--;</span><br></pre></td></tr></table></figure>

<p>Given 2 lists <code>a</code> and <code>b</code>. Each element is a pair of integers where the first integer represents the unique id and the second integer represents a value. Your task is to find an element from <code>a</code> and an element form <code>b</code> such that the sum of their values is less or equal to <code>target</code> and as close to <code>target</code> as possible. Return a list of ids of selected elements. If no pair is possible, return an empty list.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">a &#x3D; [[1, 2], [2, 4], [3, 6]]</span><br><span class="line">b &#x3D; [[1, 2]]</span><br><span class="line">target &#x3D; 7</span><br><span class="line"></span><br><span class="line">Output: [[2, 1]]</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">There are only three combinations [1, 1], [2, 1], and [3, 1], which have a total sum of 4, 6 and 8, respectively.</span><br><span class="line">Since 6 is the largest sum that does not exceed 7, [2, 1] is the optimal pair.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">a &#x3D; [[1, 3], [2, 5], [3, 7], [4, 10]]</span><br><span class="line">b &#x3D; [[1, 2], [2, 3], [3, 4], [4, 5]]</span><br><span class="line">target &#x3D; 10</span><br><span class="line"></span><br><span class="line">Output: [[2, 4], [3, 2]]</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">There are two pairs possible. Element with id &#x3D; 2 from the list &#96;a&#96; has a value 5, and element with id &#x3D; 4 from the list &#96;b&#96; also has a value 5.</span><br><span class="line">Combined, they add up to 10. Similarily, element with id &#x3D; 3 from &#96;a&#96; has a value 7, and element with id &#x3D; 2 from &#96;b&#96; has a value 3.</span><br><span class="line">These also add up to 10. Therefore, the optimal pairs are [2, 4] and [3, 2].</span><br></pre></td></tr></table></figure>

<h2 id="🌕Unsolved-Optimize-Memory-Usage"><a href="#🌕Unsolved-Optimize-Memory-Usage" class="headerlink" title="🌕Unsolved Optimize Memory Usage"></a>🌕Unsolved Optimize Memory Usage</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="keyword">int</span>[]&gt; optimizeMemoryUsage(<span class="keyword">int</span>[] foregroundTasks, <span class="keyword">int</span>[] backgroundTasks, <span class="keyword">int</span> K) &#123;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (K == <span class="number">0</span> || (foregroundTasks.length == <span class="number">0</span> &amp;&amp; backgroundTasks.length == <span class="number">0</span>))</span><br><span class="line">            result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;);</span><br><span class="line"></span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; foregroundTaskList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; backgroundTaskList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; foregroundTasks.length; i++) &#123;</span><br><span class="line">            foregroundTaskList.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, foregroundTasks[i]&#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; backgroundTasks.length; i++) &#123;</span><br><span class="line">            backgroundTaskList.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, backgroundTasks[i]&#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        foregroundTaskList.sort((p1, p2) -&gt; p1[<span class="number">1</span>] - p2[<span class="number">1</span>]);</span><br><span class="line">        backgroundTaskList.sort((p1, p2) -&gt; p1[<span class="number">1</span>] - p2[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; foregroundTasks.length; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (foregroundTaskList.get(i)[<span class="number">1</span>] == K) &#123;</span><br><span class="line">                result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;foregroundTaskList.get(i)[<span class="number">0</span>], -<span class="number">1</span>&#125;);</span><br><span class="line">                max = foregroundTaskList.get(i)[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = backgroundTasks.length-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)&#123;</span><br><span class="line">            <span class="keyword">if</span> (backgroundTaskList.get(i)[<span class="number">1</span>] == K) &#123;</span><br><span class="line">                result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, backgroundTaskList.get(i)[<span class="number">0</span>]&#125;);</span><br><span class="line">                max = backgroundTaskList.get(i)[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(foregroundTasks.length &gt; <span class="number">0</span> &amp;&amp; backgroundTasks.length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; foregroundTasks.length; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (foregroundTaskList.get(i)[<span class="number">1</span>] &lt; K) &#123;</span><br><span class="line">                    result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;foregroundTaskList.get(i)[<span class="number">0</span>], -<span class="number">1</span>&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(backgroundTasks.length &gt; <span class="number">0</span> &amp;&amp; foregroundTasks.length == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = backgroundTasks.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (backgroundTaskList.get(i)[<span class="number">1</span>] &lt; K) &#123;</span><br><span class="line">                    result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, backgroundTaskList.get(i)[<span class="number">0</span>]&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> j = backgroundTasks.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; foregroundTasks.length &amp;&amp; j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = foregroundTaskList.get(i)[<span class="number">1</span>] + backgroundTaskList.get(j)[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (sum &gt; K) &#123;</span><br><span class="line">                j = j - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (max &lt;= sum) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (max &lt; sum) &#123;</span><br><span class="line">                        max = sum;</span><br><span class="line">                        result.clear();</span><br><span class="line">                    &#125;</span><br><span class="line">                    result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;foregroundTaskList.get(i)[<span class="number">0</span>], backgroundTaskList.get(j)[<span class="number">0</span>]&#125;);</span><br><span class="line">                    <span class="keyword">int</span> index = j - <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">while</span> (index &gt;= <span class="number">0</span> &amp;&amp;</span><br><span class="line">                           backgroundTaskList.get(index)[<span class="number">1</span>] == backgroundTaskList.get(index + <span class="number">1</span>)[<span class="number">1</span>]) &#123;</span><br><span class="line">                        result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;foregroundTaskList.get(i)[<span class="number">0</span>], backgroundTaskList.get(index)[<span class="number">0</span>]&#125;);</span><br><span class="line">                        index--;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                ++i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Optimal-Utilization"><a href="#Optimal-Utilization" class="headerlink" title="Optimal Utilization"></a>Optimal Utilization</h2><p><a href="https://leetcode.com/discuss/interview-question/373202" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/373202</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;<span class="keyword">int</span>[]&gt; getPairs(List&lt;<span class="keyword">int</span>[]&gt; a, List&lt;<span class="keyword">int</span>[]&gt; b, <span class="keyword">int</span> target) &#123;</span><br><span class="line">    Collections.sort(a, (i,j) -&gt; i[<span class="number">1</span>] - j[<span class="number">1</span>]);</span><br><span class="line">    Collections.sort(b, (i,j) -&gt; i[<span class="number">1</span>] - j[<span class="number">1</span>]);</span><br><span class="line">    List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">int</span> m = a.size();</span><br><span class="line">    <span class="keyword">int</span> n = b.size();</span><br><span class="line">    <span class="keyword">int</span> i =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> j =n-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;m &amp;&amp; j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> sum = a.get(i)[<span class="number">1</span>] + b.get(j)[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(sum &gt; target) &#123;</span><br><span class="line">            --j;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(max &lt;= sum) &#123;</span><br><span class="line">                <span class="keyword">if</span>(max &lt; sum) &#123;</span><br><span class="line">                    max = sum;</span><br><span class="line">                    result.clear();</span><br><span class="line">                &#125;</span><br><span class="line">                result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;a.get(i)[<span class="number">0</span>], b.get(j)[<span class="number">0</span>]&#125;);</span><br><span class="line">                <span class="keyword">int</span> index = j-<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span>(index &gt;=<span class="number">0</span> &amp;&amp; b.get(index)[<span class="number">1</span>] == b.get(index+<span class="number">1</span>)[<span class="number">1</span>]) &#123;</span><br><span class="line">                    result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;a.get(i)[<span class="number">0</span>], b.get(index--)[<span class="number">0</span>]&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ++i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Multiprocessor-System"><a href="#Multiprocessor-System" class="headerlink" title="Multiprocessor System"></a>Multiprocessor System</h2><p><a href="https://algo.monster/problems/multiprocessor_system" target="_blank" rel="noopener">https://algo.monster/problems/multiprocessor_system</a></p>
<h2 id="Distinct-Product-IDs-after-removing-k"><a href="#Distinct-Product-IDs-after-removing-k" class="headerlink" title="Distinct Product IDs after removing k"></a>Distinct Product IDs after removing k</h2><p><a href="https://www.1point3acres.com/bbs/thread-661621-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-661621-1-1.html</a></p>
<p>lc 1481</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLeastNumOfUniqueInts</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> a : arr) &#123;</span><br><span class="line">        map.put(a, map.getOrDefault(a, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Queue&lt;Integer&gt; minHeap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; (map.get(a) - map.get(b)));</span><br><span class="line">    minHeap.addAll(map.keySet());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!minHeap.isEmpty() || k != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = minHeap.poll();</span><br><span class="line">        k-= map.get(cur);</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> minHeap.size();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (k &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> minHeap.size() + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Fetch-Items-To-Display-Ranking-Products"><a href="#Fetch-Items-To-Display-Ranking-Products" class="headerlink" title="Fetch Items To Display || Ranking Products"></a>Fetch Items To Display || Ranking Products</h2><p><a href="https://algo.monster/problems/fetch_items_to_display" target="_blank" rel="noopener">https://algo.monster/problems/fetch_items_to_display</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">fetchItemsToDisplay</span><span class="params">(<span class="keyword">int</span> sortParameter, <span class="keyword">int</span> sortOrder, <span class="keyword">int</span> itemsPerPage, <span class="keyword">int</span> pageNumber, Map&lt;String, <span class="keyword">int</span>[]&gt; items)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">    <span class="keyword">int</span> sign = (sortOrder == <span class="number">0</span>) ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">    PriorityQueue&lt;Map.Entry&lt;String, <span class="keyword">int</span>[]&gt;&gt; heap;</span><br><span class="line">    <span class="keyword">if</span> (sortParameter == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">//sort == 0, by name</span></span><br><span class="line">        heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; sign * (a.getKey().compareTo(b.getKey())));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sortParameter == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">//sort == 1, by relevance</span></span><br><span class="line">        heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; sign * (a.getValue()[<span class="number">0</span>] - (b.getValue()[<span class="number">0</span>])));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//sort == -1, by price</span></span><br><span class="line">        heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; sign * (a.getValue()[<span class="number">1</span>] - (b.getValue()[<span class="number">1</span>])));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, <span class="keyword">int</span>[]&gt; entry : items.entrySet()) &#123;</span><br><span class="line">        heap.add(entry);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!heap.isEmpty()) &#123;</span><br><span class="line">        Map.Entry&lt;String, <span class="keyword">int</span>[]&gt; cur = heap.poll();</span><br><span class="line">        ans.add(cur.getKey());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> start = itemsPerPage * pageNumber;</span><br><span class="line">    <span class="keyword">int</span> end = (start + itemsPerPage) &gt;= ans.size()? ans.size() : (start + itemsPerPage);</span><br><span class="line">    <span class="comment">//O(1) time</span></span><br><span class="line">    <span class="keyword">return</span> ans.subList(start, end);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Nearest-City"><a href="#Nearest-City" class="headerlink" title="Nearest City"></a>Nearest City</h2><p>Nearest Cities That share X or Y</p>
<p><a href="https://www.1point3acres.com/bbs/thread-661422-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-661422-1-1.html</a></p>
<p><a href="https://aonecode.com/amazon-online-assessment-nearest-cities" target="_blank" rel="noopener">https://aonecode.com/amazon-online-assessment-nearest-cities</a></p>
<p><a href="https://leetcode.com/discuss/interview-question/949904/Amazonor-OA2-or-Nearest-City" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/949904/Amazonor-OA2-or-Nearest-City</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NearestCity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String[] findNearest(<span class="keyword">int</span> numOfCities, String[] cities, <span class="keyword">int</span>[] xCoordinates, <span class="keyword">int</span>[] yCoordinates, <span class="keyword">int</span> numOfQueries, String[] queries) &#123;</span><br><span class="line"></span><br><span class="line">        HashMap&lt;Integer, TreeMap&lt;Integer, String&gt;&gt; xMap = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// x -&gt; (y -&gt; city name),用TreeMap按y从小到大排序 </span></span><br><span class="line">        HashMap&lt;Integer, TreeMap&lt;Integer, String&gt;&gt; yMap = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// maps from y coordinate to points</span></span><br><span class="line">        HashMap&lt;String, <span class="keyword">int</span>[]&gt; cityMap = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// city name -&gt; (x, y) location</span></span><br><span class="line">        String[] res = <span class="keyword">new</span> String[queries.length()];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize maps</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; numOfCities; i++) &#123;</span><br><span class="line">            cityMap.put(cities[i], <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;xCoordinates[i], yCoordinates[i]&#125;);</span><br><span class="line">            xMap.computeIfAbsent(xCoordinates[i], k -&gt; <span class="keyword">new</span> TreeMap&lt;&gt;()).put(yCoordinates[i], cities[i]);</span><br><span class="line">            yMap.computeIfAbsent(yCoordinates[i], k -&gt; <span class="keyword">new</span> TreeMap&lt;&gt;()).put(yCoordinates[i], cities[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfQueries; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = cityMap.get(queries[i]);  <span class="comment">//get the (x, y) location of queried city</span></span><br><span class="line">            <span class="keyword">int</span> x = cur[<span class="number">0</span>], y = cur[<span class="number">1</span>];</span><br><span class="line">            TreeMap&lt;Integer, String&gt; yPositions = xMap.get(x);</span><br><span class="line">            TreeMap&lt;Integer, String&gt; xPositions = yMap.get(y);</span><br><span class="line">            Integer yLower = yPositions.lowerKey(y);</span><br><span class="line">            Integer yHigher = yPositions.higherKey(y);</span><br><span class="line">            Integer xLower = yPositions.lowerKey(x);</span><br><span class="line">            Integer xHigher = yPositions.higherKey(x);</span><br><span class="line">            <span class="keyword">int</span> dist = Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (yLower != <span class="keyword">null</span> &amp;&amp; Math.abs(yLower - y) &lt;= dist) &#123;</span><br><span class="line">                dist = Math.abs(yLower - y);</span><br><span class="line">                res[i] = (res[i] == <span class="keyword">null</span>?) yPositions.get(yLower) : yPositions.get(yLower).compareTo(res[i]) &lt; <span class="number">0</span> ? yPositions.get(yLower) : res[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (yHigher != <span class="keyword">null</span> &amp;&amp; Math.abs(yHigher - y) &lt;= dist) &#123;</span><br><span class="line">                dist = Math.abs(yHigher - y);</span><br><span class="line">                res[i] = (res[i] == <span class="keyword">null</span>?) yPositions.get(yHigher) : yPositions.get(yHigher).compareTo(res[i]) &lt; <span class="number">0</span> ? yPositions.get(yHigher) : res[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (xLower != <span class="keyword">null</span> &amp;&amp; Math.abs(xLower - y) &lt;= dist) &#123;</span><br><span class="line">                dist = Math.abs(xLower - y);</span><br><span class="line">                res[i] = (res[i] == <span class="keyword">null</span>?) xPositions.get(xLower) : xPositions.get(xLower).compareTo(res[i]) &lt; <span class="number">0</span> ? xPositions.get(xLower) : res[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (xHigher != <span class="keyword">null</span> &amp;&amp; Math.abs(xHigher - y) &lt;= dist) &#123;</span><br><span class="line">                dist = Math.abs(xHigher - y);</span><br><span class="line">                res[i] = (res[i] == <span class="keyword">null</span>?) xPositions.get(xHigher) : xPositions.get(xHigher).compareTo(res[i]) &lt; <span class="number">0</span> ? xPositions.get(xHigher) : res[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(res[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                res[i] = <span class="string">"None"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String[] findNearestCities(<span class="keyword">int</span> numOfPoints, </span><br><span class="line">                                         String[] points, </span><br><span class="line">                                         <span class="keyword">int</span>[] xCoordinates, </span><br><span class="line">                                         <span class="keyword">int</span>[] yCoordinates, </span><br><span class="line">                                         <span class="keyword">int</span> numOfQueries, </span><br><span class="line">                                         String[] queries) &#123;</span><br><span class="line"></span><br><span class="line">	Map&lt;Integer, List&lt;String&gt;&gt; xToPointMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	Map&lt;Integer, List&lt;String&gt;&gt; yToPointMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	Map&lt;String, Integer&gt; pointIndexMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// xToPointMap &amp; yToPointMap store (x, y) axis vs list point)</span></span><br><span class="line">	<span class="comment">// pointIndexMap store location id</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfPoints; i++) &#123;</span><br><span class="line">		xToPointMap.put(xCoordinates[i], <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">		yToPointMap.put(yCoordinates[i], <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfPoints; i++) &#123;</span><br><span class="line">		xToPointMap.get(xCoordinates[i]).add(points[i]);</span><br><span class="line">		yToPointMap.get(yCoordinates[i]).add(points[i]);</span><br><span class="line">		pointIndexMap.put(points[i], i);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	String result[] = <span class="keyword">new</span> String[numOfQueries];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfQueries; i++) &#123;</span><br><span class="line">		String queryPoint = queries[i];</span><br><span class="line">		<span class="keyword">int</span> pointIndexAtPoints = pointIndexMap.get(queryPoint);</span><br><span class="line">		<span class="keyword">int</span> qeryX = xCoordinates[pointIndexAtPoints];</span><br><span class="line">		<span class="keyword">int</span> qeryY = yCoordinates[pointIndexAtPoints];</span><br><span class="line"></span><br><span class="line">		List&lt;String&gt; xNeighbor = xToPointMap.get(qeryX);</span><br><span class="line">		List&lt;String&gt; yNeighbor = yToPointMap.get(qeryY);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (xNeighbor.size() == <span class="number">1</span> &amp;&amp; yNeighbor.size() == <span class="number">1</span>) &#123;</span><br><span class="line">			result[i] = <span class="string">"NONE"</span>;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> minDistance = Integer.MAX_VALUE;</span><br><span class="line">		String minPoint = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (String xNei : xNeighbor) &#123;</span><br><span class="line">			<span class="keyword">if</span> (xNei.equalsIgnoreCase(queryPoint))</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> dist = getDistance(pointIndexMap, xCoordinates, yCoordinates, xNei, queryPoint);</span><br><span class="line">			<span class="keyword">if</span> (dist &lt; minDistance) &#123;</span><br><span class="line">				minDistance = dist;</span><br><span class="line">				minPoint = xNei;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (String yNei : yNeighbor) &#123;</span><br><span class="line">			<span class="keyword">if</span> (yNei.equalsIgnoreCase(queryPoint))</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> dist = getDistance(pointIndexMap, xCoordinates, yCoordinates, yNei, queryPoint);</span><br><span class="line">			<span class="keyword">if</span> (dist &lt; minDistance) &#123;</span><br><span class="line">				minDistance = dist;</span><br><span class="line">				minPoint = yNei;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		result[i] = minPoint;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getDistance</span><span class="params">(Map&lt;String, Integer&gt; pointIndexMap, <span class="keyword">int</span>[] xCoordinates, <span class="keyword">int</span>[] yCoordinates,</span></span></span><br><span class="line"><span class="function"><span class="params">		String p1, String p2)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> index1 = pointIndexMap.get(p1);</span><br><span class="line">	<span class="keyword">int</span> index2 = pointIndexMap.get(p2);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> distance = (<span class="keyword">int</span>) (Math.pow(xCoordinates[index1] - xCoordinates[index2], <span class="number">2</span>)</span><br><span class="line">			+ Math.pow(yCoordinates[index1] - yCoordinates[index2], <span class="number">2</span>));</span><br><span class="line">	<span class="keyword">return</span> distance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NearestCity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String[] findNearest(String[] points, <span class="keyword">int</span>[] xCoo, <span class="keyword">int</span>[] yCoo, String[] queries, <span class="keyword">int</span> n) &#123;</span><br><span class="line"></span><br><span class="line">        HashMap&lt;Integer, List&lt;String&gt;&gt; xToPoint = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// maps from x coordinate to points</span></span><br><span class="line">        HashMap&lt;Integer, List&lt;String&gt;&gt; yToPoint = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// maps from y coordinate to points</span></span><br><span class="line">        HashMap&lt;String, Integer&gt; pointToIdx = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">// maps each point name to its index</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// initialize maps</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!xToPoint.containsKey(xCoo[i])) xToPoint.put(xCoo[i], <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line">            xToPoint.get(xCoo[i]).add(points[i]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!yToPoint.containsKey(yCoo[i])) yToPoint.put(yCoo[i], <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line">            yToPoint.get(yCoo[i]).add(points[i]);</span><br><span class="line"></span><br><span class="line">            pointToIdx.put(points[i], i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// array to hold the result for queries</span></span><br><span class="line">        String[] result = <span class="keyword">new</span> String[queries.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; result.length ; i++) &#123; <span class="comment">// for each query q</span></span><br><span class="line">            String q = queries[i];</span><br><span class="line">            <span class="keyword">int</span> qIdx = pointToIdx.get(q);</span><br><span class="line">            List&lt;String&gt; xNbors = xToPoint.get(xCoo[qIdx]);</span><br><span class="line">            List&lt;String&gt; yNbors = yToPoint.get(yCoo[qIdx]);</span><br><span class="line">            <span class="comment">// if there is no neighbour, skip</span></span><br><span class="line">            <span class="keyword">if</span>(xNbors.size() == <span class="number">1</span> &amp;&amp; yNbors.size() == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">int</span> minDist = Integer.MAX_VALUE;</span><br><span class="line">            String min = <span class="string">""</span>;</span><br><span class="line">            <span class="comment">// get neigbours from x coordinate and update min</span></span><br><span class="line">            <span class="keyword">for</span>(String string : xNbors) &#123;</span><br><span class="line">                <span class="keyword">if</span>(string.equals(q)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> dist = dist(q, string, pointToIdx, xCoo, yCoo);</span><br><span class="line">                <span class="keyword">if</span>(dist &lt; minDist) &#123;</span><br><span class="line">                    minDist = dist;</span><br><span class="line">                    min = string;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// get neigbours from y coordinate and update min</span></span><br><span class="line">            <span class="keyword">for</span>(String string : yNbors) &#123;</span><br><span class="line">                <span class="keyword">if</span>(string.equals(q)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">int</span> dist = dist(q, string, pointToIdx, xCoo, yCoo);</span><br><span class="line">                <span class="keyword">if</span>(dist &lt; minDist) &#123;</span><br><span class="line">                    minDist = dist;</span><br><span class="line">                    min = string;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            result[i] = min;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dist</span><span class="params">(String q, String string, HashMap&lt;String, Integer&gt; pointToIdx, <span class="keyword">int</span>[] xCoo, <span class="keyword">int</span>[] yCoo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> qIdx = pointToIdx.get(q);</span><br><span class="line">        <span class="keyword">int</span> stIdx = pointToIdx.get(string);</span><br><span class="line">        <span class="keyword">return</span> Math.abs(xCoo[qIdx] - xCoo[stIdx]) + Math.abs(yCoo[qIdx] - yCoo[stIdx]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String[] points = <span class="keyword">new</span> String[] &#123;<span class="string">"p1"</span>, <span class="string">"p2"</span>,<span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] xCoo = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">40</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">40</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] yCoo = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">10</span>, <span class="number">40</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">30</span>&#125;;</span><br><span class="line">        String[] queries = <span class="keyword">new</span> String[] &#123;<span class="string">"p1"</span>, <span class="string">"p2"</span>,<span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">5</span>;</span><br><span class="line">        System.out.println(Arrays.toString(findNearest(points, xCoo, yCoo, queries, n)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">City</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NearestCities</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Comparator&lt;? <span class="keyword">super</span> City&gt; Y_COMPARATOR = (a, b) -&gt; &#123;</span><br><span class="line">        <span class="keyword">int</span> v = Integer.compare(a.y, b.y);</span><br><span class="line">        <span class="keyword">if</span> (v == <span class="number">0</span>) &#123;</span><br><span class="line">            v = a.name.compareTo(b.name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Comparator&lt;? <span class="keyword">super</span> City&gt; X_COMPARATOR = (a, b) -&gt; &#123;</span><br><span class="line">        <span class="keyword">int</span> v = Integer.compare(a.x, b.x);</span><br><span class="line">        <span class="keyword">if</span> (v == <span class="number">0</span>) &#123;</span><br><span class="line">            v = a.name.compareTo(b.name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String[] findNearestCities(<span class="keyword">int</span> numOfPoints, String[] points, <span class="keyword">int</span>[] xCoordinates, <span class="keyword">int</span>[] yCoordinates,</span><br><span class="line">                                             <span class="keyword">int</span> numOfQueries, String[] queries) &#123;</span><br><span class="line">        HashMap&lt;Integer, TreeSet&lt;City&gt;&gt; xToYs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        HashMap&lt;Integer, TreeSet&lt;City&gt;&gt; yToXs = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        HashMap&lt;String, City&gt; nameToCity = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfPoints; i++) &#123; <span class="comment">// O(p log(p))</span></span><br><span class="line">            City c = <span class="keyword">new</span> City();</span><br><span class="line">            c.name = points[i];</span><br><span class="line">            c.x = xCoordinates[i];</span><br><span class="line">            c.y = yCoordinates[i];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Add to maps</span></span><br><span class="line">            nameToCity.put(c.name, c);</span><br><span class="line">            xToYs.putIfAbsent(c.x, <span class="keyword">new</span> TreeSet&lt;&gt;(Y_COMPARATOR));</span><br><span class="line">            xToYs.get(c.x).add(c); <span class="comment">// O (log p) in adding to TreeSet</span></span><br><span class="line">            yToXs.putIfAbsent(c.y, <span class="keyword">new</span> TreeSet&lt;&gt;(X_COMPARATOR));</span><br><span class="line">            yToXs.get(c.y).add(c); <span class="comment">// O (log p) in adding to TreeSet</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        String[] result = <span class="keyword">new</span> String[numOfQueries];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfQueries; i++) &#123; <span class="comment">// O (q log p)</span></span><br><span class="line">            City c = nameToCity.get(queries[i]);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="keyword">null</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            ArrayList&lt;City&gt; neighbors = <span class="keyword">new</span> ArrayList&lt;City&gt;(); </span><br><span class="line">            neighbors.add(xToYs.get(c.x).lower(c)); <span class="comment">// O(log p)</span></span><br><span class="line">            neighbors.add(xToYs.get(c.x).higher(c)); <span class="comment">// O(log p)</span></span><br><span class="line">            neighbors.add(yToXs.get(c.y).lower(c)); <span class="comment">// O(log p)</span></span><br><span class="line">            neighbors.add(yToXs.get(c.y).higher(c)); <span class="comment">// O(log p)</span></span><br><span class="line"></span><br><span class="line">            result[i] = getClosestCity(c, neighbors); <span class="comment">// At max 4 so O(1)</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getClosestCity</span><span class="params">(City origin, List&lt;City&gt; neighbors)</span> </span>&#123;</span><br><span class="line">        City closestCity = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> closestDistance = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (City c : neighbors) &#123;</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> d = getDistance(origin, c);</span><br><span class="line">                <span class="keyword">if</span> (d &lt; closestDistance) &#123;</span><br><span class="line">                    closestCity = c;</span><br><span class="line">                    closestDistance = d;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> closestCity != <span class="keyword">null</span> ? closestCity.name : <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getDistance</span><span class="params">(City a, City b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.abs(a.x - b.x) + Math.abs(a.y - b.y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> numOfPoints, String[] points, <span class="keyword">int</span>[] xCoordinates, <span class="keyword">int</span>[] yCoordinates, <span class="keyword">int</span> numOfQueries,</span></span></span><br><span class="line"><span class="function"><span class="params">                            String[] queries)</span> </span>&#123;</span><br><span class="line">        String[] out = findNearestCities(numOfPoints, points, xCoordinates, yCoordinates, numOfQueries, queries);</span><br><span class="line">        System.out.println(Arrays.toString(out));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">runner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"NearestCities"</span>);</span><br><span class="line">        test(<span class="number">3</span>, <span class="keyword">new</span> String[] &#123; <span class="string">"c1"</span>, <span class="string">"c2"</span>, <span class="string">"c3"</span> &#125;, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span> &#125;, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span> &#125;, <span class="number">3</span>,</span><br><span class="line">             <span class="keyword">new</span> String[] &#123; <span class="string">"c1"</span>, <span class="string">"c2"</span>, <span class="string">"c3"</span> &#125;);</span><br><span class="line">        test(<span class="number">5</span>, <span class="keyword">new</span> String[] &#123; <span class="string">"p1"</span>, <span class="string">"p2"</span>, <span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span> &#125;, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;,</span><br><span class="line">             <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span> &#125;, <span class="number">5</span>, <span class="keyword">new</span> String[] &#123; <span class="string">"p1"</span>, <span class="string">"p2"</span>, <span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span> &#125;);</span><br><span class="line">        test(<span class="number">5</span>, <span class="keyword">new</span> String[] &#123; <span class="string">"p1"</span>, <span class="string">"p2"</span>, <span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span> &#125;, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">40</span>, <span class="number">50</span> &#125;,</span><br><span class="line">             <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span> &#125;, <span class="number">5</span>, <span class="keyword">new</span> String[] &#123; <span class="string">"p1"</span>, <span class="string">"p2"</span>, <span class="string">"p3"</span>, <span class="string">"p4"</span>, <span class="string">"p5"</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="⭐Break-a-palindrome"><a href="#⭐Break-a-palindrome" class="headerlink" title="⭐Break a palindrome"></a>⭐Break a palindrome</h2><p>lc 1328, 第一题是break a palindrome，唯一不同的是new string得alphabetically lower than the old one and it has to be the lowest possible</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">breakPalindrome</span><span class="params">(String palindrome)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = palindrome.length();</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span>[] p = palindrome.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n/<span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(p[i] != <span class="string">'a'</span>) &#123;</span><br><span class="line">            p[i] = <span class="string">'a'</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> String(p);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    p[n - <span class="number">1</span>] = <span class="string">'b'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Favorite-Genres"><a href="#Favorite-Genres" class="headerlink" title="Favorite Genres"></a>Favorite Genres</h2><p><a href="https://leetcode.com/discuss/interview-question/373006" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/373006</a></p>
<p>我当时遇到的稍微卡壳的地方是subtree的输出是0和1，favorite genre一共有四个输入，不仅有人喜欢听的歌和歌的类型两个字典，还有两个字典的长度，但是长度不会影响解题，完全没有用，当时看到的时候稍微慌了一下以为改题了。还有就是要把leetcode上面的那两个testcase都跑一下确保输出跟答案一样，特别是第二个没有对应歌曲种类的情况，一定要和答案一摸一样！我同学有testcase没过，感觉大概率就是因为这个corner case。我OA2所有的testcase都过了。第二天大概过了6个小时左右收到的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">userSongs = &#123;  </span><br><span class="line">   <span class="string">"David"</span>: [<span class="string">"song1"</span>, <span class="string">"song2"</span>, <span class="string">"song3"</span>, <span class="string">"song4"</span>, <span class="string">"song8"</span>],</span><br><span class="line">   <span class="string">"Emma"</span>:  [<span class="string">"song5"</span>, <span class="string">"song6"</span>, <span class="string">"song7"</span>]</span><br><span class="line">&#125;,</span><br><span class="line">songGenres = &#123;  </span><br><span class="line">   <span class="string">"Rock"</span>:    [<span class="string">"song1"</span>, <span class="string">"song3"</span>],</span><br><span class="line">   <span class="string">"Dubstep"</span>: [<span class="string">"song7"</span>],</span><br><span class="line">   <span class="string">"Techno"</span>:  [<span class="string">"song2"</span>, <span class="string">"song4"</span>],</span><br><span class="line">   <span class="string">"Pop"</span>:     [<span class="string">"song5"</span>, <span class="string">"song6"</span>],</span><br><span class="line">   <span class="string">"Jazz"</span>:    [<span class="string">"song8"</span>, <span class="string">"song9"</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Output: &#123;  </span><br><span class="line">   <span class="string">"David"</span>: [<span class="string">"Rock"</span>, <span class="string">"Techno"</span>],</span><br><span class="line">   <span class="string">"Emma"</span>:  [<span class="string">"Pop"</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">David has <span class="number">2</span> Rock, <span class="number">2</span> Techno and <span class="number">1</span> Jazz song. So he has <span class="number">2</span> favorite genres.</span><br><span class="line">Emma has <span class="number">2</span> Pop and <span class="number">1</span> Dubstep song. Pop is Emma<span class="string">'s favorite genre.</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Map&lt;String, List&lt;String&gt;&gt; favoritegenre(Map&lt;String, List&lt;String&gt;&gt; userMap, Map&lt;String, List&lt;String&gt;&gt; genreMap) &#123;</span><br><span class="line">        Map&lt;String, List&lt;String&gt;&gt; res = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;String, String&gt; songstogenre = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(String genre : genreMap.keySet()) &#123;</span><br><span class="line">            List&lt;String&gt; songs = genreMap.get(genre);</span><br><span class="line">            <span class="keyword">for</span>(String song : songs) &#123;</span><br><span class="line">                songstogenre.put(song, genre);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        Map&lt;String, Integer&gt; count = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(String user : userMap.keySet()) &#123;</span><br><span class="line">            count = <span class="keyword">new</span> HashMap();</span><br><span class="line">            max = <span class="number">0</span>;</span><br><span class="line">            res.put(user, <span class="keyword">new</span> ArrayList());</span><br><span class="line">            List&lt;String&gt; songs = userMap.get(user);</span><br><span class="line">            <span class="keyword">for</span>(String song : songs) &#123;</span><br><span class="line">                String genre = songstogenre.get(song);</span><br><span class="line">                <span class="keyword">int</span> c = count.getOrDefault(genre, <span class="number">0</span>) + <span class="number">1</span>;</span><br><span class="line">                count.put(genre, c);</span><br><span class="line">                max = Math.max(c, max);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (String key : count.keySet()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (count.get(key) == max) &#123;</span><br><span class="line">                    res.get(user).add(key);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Ways-to-split-String-Into-Unique-Primes-Count-String-Prime-Ways-to-Split-String-Into-Prime-Numbers"><a href="#Ways-to-split-String-Into-Unique-Primes-Count-String-Prime-Ways-to-Split-String-Into-Prime-Numbers" class="headerlink" title="Ways to split String Into Unique Primes || Count String Prime || Ways to Split String Into Prime Numbers"></a>Ways to split String Into Unique Primes || Count String Prime || Ways to Split String Into Prime Numbers</h2><p><a href="https://www.geeksforgeeks.org/count-of-ways-to-split-a-given-number-into-prime-segments/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/count-of-ways-to-split-a-given-number-into-prime-segments/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">countPrimeString</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[] isPrime = isValidPrime(<span class="number">1000</span>);</span><br><span class="line">    <span class="comment">//int mod = (int)1e9 + 7;</span></span><br><span class="line">    <span class="keyword">int</span> n = str.length();</span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;  <span class="comment">//i的idx从1开始</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = Math.max(<span class="number">0</span>, i - <span class="number">3</span>); j &lt; i; j++) &#123;  <span class="comment">//j的idx从0开始</span></span><br><span class="line">            String temp = str.substring(j, i);</span><br><span class="line">            <span class="keyword">if</span> (isPrime[Integer.valueOf(temp)] &amp;&amp; !temp.startsWith(<span class="string">"0"</span>)) &#123;  <span class="comment">//no leading zero</span></span><br><span class="line">                dp[i] += dp[j];  <span class="comment">//可以% mod</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span>[] isValidPrime(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">boolean</span>[] isPrime = <span class="keyword">new</span> <span class="keyword">boolean</span>[n + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(isPrime, <span class="keyword">true</span>);</span><br><span class="line">    isPrime[<span class="number">0</span>] = isPrime[<span class="number">1</span>] = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isPrime[i]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; i * j &lt;= n; j++) &#123;</span><br><span class="line">                isPrime[i * j] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> isPrime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="abc-islands"><a href="#abc-islands" class="headerlink" title="abc islands"></a>abc islands</h2><p>解法参考lc200</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=700516&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=700516&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311</a></p>
<h2 id="multiprocessor-system"><a href="#multiprocessor-system" class="headerlink" title="multiprocessor system"></a>multiprocessor system</h2><p><a href="https://leetcode.com/discuss/int" target="_blank" rel="noopener">https://leetcode.com/discuss/int</a> … ltiprocessor-System<br>这题要用priority queue做题，不要用Collections.sort因为会TLE （别问我咋知道 哈哈哈哈</p>
<h2 id="Debt-Records-Smallest-Negative-Balance"><a href="#Debt-Records-Smallest-Negative-Balance" class="headerlink" title="Debt Records || Smallest Negative Balance"></a>Debt Records || Smallest Negative Balance</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">class debtRecord&#123;</span></span><br><span class="line"><span class="comment">    String borrower = ""; // importer</span></span><br><span class="line"><span class="comment">    String lender = ""; //exporter</span></span><br><span class="line"><span class="comment">    int amount = 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;String&gt; <span class="title">minimumDebtMembers</span><span class="params">(List&lt;debtRecord&gt; records)</span></span>&#123;</span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (debtRecord dr : records) &#123;</span><br><span class="line">            String imp = dr.borrower;</span><br><span class="line">            String exp = dr.lender;</span><br><span class="line">            <span class="keyword">int</span> amount = dr.amount;</span><br><span class="line">            map.put(imp, map.getOrDefault(imp, <span class="number">0</span>) - amount);</span><br><span class="line">            map.put(exp, map.getOrDefault(exp, <span class="number">0</span>) + amount);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Map.Entry&lt;String, Integer&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue() &lt; <span class="number">0</span>)</span><br><span class="line">                list.add(entry);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (list.size() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(<span class="string">"Nobody has a negative balance"</span>);</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(list, (a, b) -&gt; a.getValue() - b.getValue());</span><br><span class="line">        <span class="keyword">int</span> diff = list.get(<span class="number">0</span>).getValue();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (entry.getValue() == diff)</span><br><span class="line">                result.add(entry.getKey());</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Count-LRU-Cache-Misses"><a href="#Count-LRU-Cache-Misses" class="headerlink" title="Count LRU Cache Misses"></a>Count LRU Cache Misses</h2><p>pdf</p>
<h2 id="Cut-off-Rank"><a href="#Cut-off-Rank" class="headerlink" title="Cut off Rank"></a>Cut off Rank</h2><p>pdf</p>
<h2 id="Minimum-Total-Container-Size-Minimum-Total-Container-Size"><a href="#Minimum-Total-Container-Size-Minimum-Total-Container-Size" class="headerlink" title="Minimum Total Container Size || Minimum Total Container Size"></a>Minimum Total Container Size || Minimum Total Container Size</h2><p>pdf</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> day, <span class="keyword">int</span> item, List&lt;Integer&gt; itemSizes, HashMap&lt;Entry&lt;Integer, Integer&gt;, Integer&gt; memo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (day == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> item == <span class="number">0</span> ? <span class="number">0</span> : Integer.MAX_VALUE;</span><br><span class="line">        Entry&lt;Integer, Integer&gt; key = Map.entry(day, item);</span><br><span class="line">        <span class="keyword">if</span> (memo.containsKey(key))</span><br><span class="line">            <span class="keyword">return</span> memo.get(key);</span><br><span class="line">        <span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line">        <span class="comment">// number of items moved during the last day</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> last = <span class="number">1</span>; last &lt; item + <span class="number">1</span>; last++) &#123;</span><br><span class="line">            <span class="comment">// max size of items moved during the last day</span></span><br><span class="line">            <span class="keyword">int</span> mx = itemSizes.subList(item - last, item).stream().mapToInt(Integer::intValue).max().getAsInt();</span><br><span class="line">            <span class="keyword">int</span> rec = dfs(day - <span class="number">1</span>, item - last, itemSizes, memo);</span><br><span class="line">            <span class="keyword">if</span> (rec != Integer.MAX_VALUE)</span><br><span class="line">                res = Math.min(res, rec + mx);</span><br><span class="line">        &#125;</span><br><span class="line">        memo.put(key, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minContainerSize</span><span class="params">(List&lt;Integer&gt; itemSizes, <span class="keyword">int</span> days)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// WRITE YOUR BRILLIANT CODE HERE</span></span><br><span class="line">        HashMap&lt;Entry&lt;Integer, Integer&gt;, Integer&gt; memo = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> dfs(days, itemSizes.size(), itemSizes, memo);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        List&lt;Integer&gt; itemSizes = Arrays.stream(scanner.nextLine().split(<span class="string">" "</span>)).map(Integer::parseInt).collect(Collectors.toList());</span><br><span class="line">        <span class="keyword">int</span> days = Integer.parseInt(scanner.nextLine());</span><br><span class="line">        scanner.close();</span><br><span class="line">        <span class="keyword">int</span> res = minContainerSize(itemSizes, days);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Packaging-Automation"><a href="#Packaging-Automation" class="headerlink" title="Packaging Automation"></a>Packaging Automation</h2><p>Greedy, recursive</p>
<p>Given a list of items in groups, perform certain operations in order to satisfy the constaints required by packaging automation.The conditions are as follows:</p>
<ol>
<li>The first group must contain 1 item only.</li>
<li>For all the other groups, the difference between the number of items in adjacent groups must be greater than 1. In other words, for 1 &lt;= i &lt;= n, arr[i] - arr[i - 1] &lt;= 1. To accomplish this, the following operations are available:</li>
</ol>
<p>Write an algorithm to find the maximum items that can be packaged for the final group of the list given the conditions above.</p>
<p>Example - 1 – arr = [3, 1, 3, 4]. Output: 4. Explanation: Subtract 1 from the first group making the list [2, 1, 3, 4]. Rearrange the list into [1, 2, 3, 4]. The final maximum of items that can be packaged in the last group is 4.</p>
<p>Example 2 - arr = [1, 1, 1, 1]. Output is 1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">packagingAutomation</span><span class="params">(<span class="keyword">int</span> numGroups, <span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">         <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numGroups; i++) &#123;</span><br><span class="line">             result += arr;</span><br><span class="line">         &#125;</span><br><span class="line">         </span><br><span class="line">         <span class="keyword">while</span>(result &lt; numGroups*(numGroups+<span class="number">1</span>)/<span class="number">2</span>) &#123;</span><br><span class="line">             result--;</span><br><span class="line">             numGroups--;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> numGroups;</span><br><span class="line">     &#125;</span><br><span class="line">from collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="function">def <span class="title">automation</span><span class="params">(arr)</span>:</span></span><br><span class="line"><span class="function">    n </span>= len(arr)</span><br><span class="line">     </span><br><span class="line">    # o(n)</span><br><span class="line">    freq = Counter()</span><br><span class="line">    <span class="function"><span class="keyword">for</span> i in <span class="title">range</span><span class="params">(n)</span>:</span></span><br><span class="line"><span class="function">        freq[arr[i]] +</span>= <span class="number">1</span></span><br><span class="line">     </span><br><span class="line">    # o(n)</span><br><span class="line">    max_value = <span class="number">1</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">while</span> i &lt; n:</span><br><span class="line">        <span class="keyword">if</span> freq[max_value] == <span class="number">0</span>:</span><br><span class="line">            res.append(max_value)</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        elif freq[max_value] &gt; <span class="number">0</span>:</span><br><span class="line">            res.extend([max_value] * freq[max_value])</span><br><span class="line">            i += freq[max_value]</span><br><span class="line">             </span><br><span class="line">        max_value += <span class="number">1</span></span><br><span class="line">         </span><br><span class="line">    <span class="keyword">return</span> res[n-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>根据我的理解上面这个答案应该是很有问题的，题目中说明可以将&gt;1的降到1，上面解法在不断地加数字而不是减</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">packagingAutomation</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cpA)</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (cpA.<span class="built_in">size</span>() == <span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; m;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> kk : cpA)&#123;</span><br><span class="line">		m[kk]++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> maxRes = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">int</span> borrowed = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (i &lt; cpA.<span class="built_in">size</span>())&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (m[maxRes] != <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> payBack = m[maxRes] - borrowed;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span> (payBack == <span class="number">0</span>)&#123;</span><br><span class="line">				res.push_back(maxRes);</span><br><span class="line">				i++;</span><br><span class="line">				borrowed++;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (payBack &gt; <span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; payBack; i++)&#123;</span><br><span class="line">					res.push_back(maxRes);</span><br><span class="line">				&#125;</span><br><span class="line">				i += payBack;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">return</span> cpA.<span class="built_in">size</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			borrowed -= m[maxRes];</span><br><span class="line">			<span class="keyword">if</span> (borrowed &lt; <span class="number">0</span>)&#123;</span><br><span class="line">				borrowed = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			res.push_back(maxRes);</span><br><span class="line">			i++;</span><br><span class="line">			borrowed++;</span><br><span class="line">		&#125;</span><br><span class="line">		maxRes++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> res[cpA.<span class="built_in">size</span>()<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; candidate&#123;<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">8</span>&#125;;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; packagingAutomation(candidate) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个没有仔细看，不确定对不对，似乎题目不允许上调</p>
<h2 id="Min-Cost-to-Connect-All-Nodes-Min-Cost-to-Connect-All-Servers"><a href="#Min-Cost-to-Connect-All-Nodes-Min-Cost-to-Connect-All-Servers" class="headerlink" title="Min Cost to Connect All Nodes || Min Cost to Connect All Servers"></a>Min Cost to Connect All Nodes || Min Cost to Connect All Servers</h2><p><a href="https://leetcode.com/discuss/interview-question/356981" target="_blank" rel="noopener">https://leetcode.com/discuss/interview-question/356981</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] parent;</span><br><span class="line"><span class="keyword">int</span> component;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(parent[v] == v) <span class="keyword">return</span> v;</span><br><span class="line">    <span class="keyword">return</span> parent[v] = find(parent[v]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(find(v1) == find(v2)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> root = find(v1);</span><br><span class="line">    <span class="keyword">while</span>(v2 != parent[v2])&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = parent[v2];</span><br><span class="line">        parent[v2] = root;</span><br><span class="line">        v2 = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    --component;</span><br><span class="line">    parent[v2] = root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> find(v1) == find(v2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCosttoConnectAllNodes</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> edges[][], <span class="keyword">int</span> newEdges[][])</span></span>&#123;</span><br><span class="line">    parent = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>]; component = n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) parent[i] = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge: edges) connect(edge[<span class="number">0</span>], edge[<span class="number">1</span>]);</span><br><span class="line">    Arrays.sort(newEdges, (a, b) -&gt; (a[<span class="number">2</span>] - b[<span class="number">2</span>]));</span><br><span class="line">    <span class="keyword">int</span> cost = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; newEdges.length; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!isConnected(newEdges[i][<span class="number">0</span>], newEdges[i][<span class="number">1</span>]))&#123;</span><br><span class="line">            connect(newEdges[i][<span class="number">0</span>], newEdges[i][<span class="number">1</span>]);</span><br><span class="line">            cost += newEdges[i][<span class="number">2</span>];</span><br><span class="line">            <span class="keyword">if</span>(component == <span class="number">1</span>) <span class="keyword">return</span> cost;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Min-Distance-Between-Robots-Minimum-Squared-Distance-Squared-Shortest-Distance"><a href="#Min-Distance-Between-Robots-Minimum-Squared-Distance-Squared-Shortest-Distance" class="headerlink" title="Min Distance Between Robots || Minimum Squared Distance || Squared Shortest Distance"></a>Min Distance Between Robots || Minimum Squared Distance || Squared Shortest Distance</h2><p><a href="https://www.geeksforgeeks.org/closest-pair-of-points-using-divide-and-conquer-algorithm/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/closest-pair-of-points-using-divide-and-conquer-algorithm/</a></p>
<p>Divide and conquer, cut it in half and calculate the minDist in two parts, and then calculate the middle part, pick points that has xDist and yDist shorter than current minDist</p>
<p>题目在OA2 materials part里</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dist</span><span class="params">(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p1, pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; p2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (p1.first - p2.first) * (p1.first - p2.first) + (p1.second - p2.second) * (p1.second - p2.second);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, vector&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;pos)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> curMin = INT_MAX;</span><br><span class="line">    <span class="keyword">if</span> (left == right) &#123; <span class="comment">// if only one pos</span></span><br><span class="line">        <span class="keyword">return</span> curMin;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left+<span class="number">1</span> == right) &#123; <span class="comment">// if only two pos</span></span><br><span class="line">        <span class="keyword">return</span> dist(pos[left], pos[right]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> leftMin = divide(left, mid, pos);</span><br><span class="line">    <span class="keyword">int</span> rightMin = divide(mid, right, pos);</span><br><span class="line">    curMin = min(leftMin, rightMin);</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; posInd;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = left; i &lt;= right; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (abs(pos[mid].first - pos[i].first) &lt;= curMin) &#123;</span><br><span class="line">            posInd.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; posInd.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; posInd.size(); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (abs(pos[posInd[i]].second - pos[posInd[j]].second) &gt; curMin) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> tempdis = dist(pos[posInd[i]], pos[posInd[j]]);</span><br><span class="line">            curMin = min(tempdis, curMin);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> curMin;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minDistRobot</span><span class="params">(<span class="keyword">int</span> numRobots, vector&lt;<span class="keyword">int</span>&gt; positionX, vector&lt;<span class="keyword">int</span>&gt; positionY)</span> </span>&#123;</span><br><span class="line">    vector&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; pos; <span class="comment">// &lt;xpos, ypos&gt;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numRobots; i++) &#123;</span><br><span class="line">        auto temp = make_pair(positionX[i], positionY[i]);</span><br><span class="line">        <span class="keyword">if</span> (find(pos.begin(), pos.end(), temp) == pos.end()) &#123;</span><br><span class="line">            pos.push_back(make_pair(positionX[i], positionY[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(pos.begin(), pos.end());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> divide(<span class="number">0</span>, pos.size()-<span class="number">1</span>, pos);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] kClosest(<span class="keyword">int</span>[][] points, <span class="keyword">int</span> K) &#123;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> myComp());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] p : points) &#123;</span><br><span class="line">            heap.add(p);</span><br><span class="line">            <span class="keyword">if</span> (heap.size() &gt; K) &#123;</span><br><span class="line">                heap.poll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!heap.isEmpty()) &#123;</span><br><span class="line">            res.add(heap.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[res.size()][<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class myComp implements Comparator&lt;int[]&gt; &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span>[] b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  b[<span class="number">0</span>]*b[<span class="number">0</span>] + b[<span class="number">1</span>] * b[<span class="number">1</span>] - a[<span class="number">0</span>]*a[<span class="number">0</span>] - a[<span class="number">1</span>]*a[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="⭐Copy-List-with-Random-Pointer-138"><a href="#⭐Copy-List-with-Random-Pointer-138" class="headerlink" title="⭐Copy List with Random Pointer(138)"></a><a href="https://leetcode.com/problems/copy-list-with-random-pointer" target="_blank" rel="noopener">⭐Copy List with Random Pointer(138)</a></h2><p>O(n) T</p>
<p>O(n) S</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;  <span class="comment">//edge case</span></span><br><span class="line"></span><br><span class="line">    Map&lt;Node, Node&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();  <span class="comment">//用hashmap key-原node value-new copy node</span></span><br><span class="line">    Node cur = head;  <span class="comment">//copy all the nodes</span></span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">        map.put(cur, <span class="keyword">new</span> Node(cur.val,<span class="keyword">null</span>,<span class="keyword">null</span>));</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cur = head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123; <span class="comment">//assign next and random pointers复制指针，连接copy生成的新Node</span></span><br><span class="line">        map.get(cur).next = map.get(cur.next);</span><br><span class="line">        map.get(cur).random = map.get(cur.random);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.get(head);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.youtube.com/watch?v=oXABtaRa37U" target="_blank" rel="noopener">video</a></p>
<h2 id="⭐-spades-2-Search-a-2D-Matrix-II-240"><a href="#⭐-spades-2-Search-a-2D-Matrix-II-240" class="headerlink" title="⭐&spades;2.Search a 2D Matrix II(240)"></a><a href="https://leetcode.com/problems/search-a-2d-matrix-ii" target="_blank" rel="noopener">⭐&spades;2.Search a 2D Matrix II(240)</a></h2><p><strong><code>List&lt;List&lt;Integer&gt;&gt; matrix</code></strong></p>
<p>List.get() method</p>
<p><a href="http://www.51gjie.com/java/642.html" target="_blank" rel="noopener">http://www.51gjie.com/java/642.html</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> ||matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;  <span class="comment">//edge case</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;  <span class="comment">//set m,n to represent row and colomn</span></span><br><span class="line">        <span class="keyword">int</span> r = <span class="number">0</span>, c = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (r &lt; m &amp;&amp; c &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (target == matrix[r][c]) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; matrix[r][c]) r++;</span><br><span class="line">            <span class="keyword">else</span> c--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="⭐7-Critical-Routers"><a href="#⭐7-Critical-Routers" class="headerlink" title="⭐7. Critical Routers"></a><a href="https://leetcode.com/discuss/interview-question/436073/" target="_blank" rel="noopener">⭐7. Critical Routers</a></h2><p>You are given an <strong><code>undirected connected graph</code></strong>. </p>
<p>An articulation point (or cut vertex) is defined as a vertex which, when removed along with associated edges, makes the graph disconnected (or more precisely, increases the number of connected components in the graph). </p>
<p>The task is to find all <strong><code>articulation points</code></strong> in the given graph.</p>
<p>articulation points &amp;&amp; bridge</p>
<p><strong>Input:</strong><br>The input to the function/method consists of three arguments:</p>
<ul>
<li><code>numNodes</code>, an integer representing the number of nodes in the graph.</li>
<li><code>numEdges</code>, an integer representing the number of edges in the graph.</li>
<li><code>edges</code>, the list of pair of integers - A, B representing an edge between the nodes A and B.</li>
</ul>
<p><strong>Output:</strong><br>Return a list of integers representing the critical nodes.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Input: numNodes = <span class="number">7</span>, numEdges = <span class="number">7</span>, edges = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">2</span>, <span class="number">5</span>], [<span class="number">5</span>, <span class="number">6</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/kcO9OUI.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Output: [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<p>explanation video</p>
<p><a href="https://www.youtube.com/watch?v=aZXi1unBdJA" target="_blank" rel="noopener">https://www.youtube.com/watch?v=aZXi1unBdJA</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numRouters1 = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">int</span> numLinks1 = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">int</span>[][] links1 = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">2</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">5</span>&#125;, &#123;<span class="number">5</span>, <span class="number">6</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line">    System.out.println(getCriticalNodes(links1, numLinks1, numRouters1));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getCriticalNodes</span><span class="params">(<span class="keyword">int</span>[][] links, <span class="keyword">int</span> numLinks, <span class="keyword">int</span> numRouters)</span> </span>&#123;</span><br><span class="line">    time = <span class="number">0</span>;</span><br><span class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numRouters;i++) &#123;</span><br><span class="line">        map.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] link : links) &#123;</span><br><span class="line">        map.get(link[<span class="number">0</span>]).add(link[<span class="number">1</span>]);</span><br><span class="line">        map.get(link[<span class="number">1</span>]).add(link[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] low = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters];</span><br><span class="line">    <span class="keyword">int</span>[] ids = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters];</span><br><span class="line">    <span class="keyword">int</span> parent[] = <span class="keyword">new</span> <span class="keyword">int</span>[numRouters]; </span><br><span class="line">    Arrays.fill(ids, -<span class="number">1</span>);</span><br><span class="line">    Arrays.fill(parent, -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;numRouters;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(ids[i] == -<span class="number">1</span>)</span><br><span class="line">            dfs(map, low, ids, parent, i, set);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Map&lt;Integer, Set&lt;Integer&gt;&gt; map, <span class="keyword">int</span>[] low, <span class="keyword">int</span>[] ids, <span class="keyword">int</span>[] parent, <span class="keyword">int</span> cur, Set&lt;Integer&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> children = <span class="number">0</span>; </span><br><span class="line">    ids[cur] = low[cur]= ++time;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> nei : map.get(cur)) &#123;</span><br><span class="line">        <span class="keyword">if</span>(ids[nei] == -<span class="number">1</span>) &#123;</span><br><span class="line">            children++;</span><br><span class="line">            parent[nei] = cur;</span><br><span class="line">            dfs(map, low, ids, parent,nei, res);</span><br><span class="line">            low[cur] = Math.min(low[cur], low[nei]);</span><br><span class="line">            <span class="keyword">if</span>((parent[cur] == -<span class="number">1</span> &amp;&amp; children &gt; <span class="number">1</span>) || (parent[cur] != -<span class="number">1</span> &amp;&amp; low[nei] &gt;= ids[cur]))</span><br><span class="line">                res.add(cur);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(nei != parent[cur])</span><br><span class="line">            low[cur] = Math.min(low[cur], ids[nei]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Maximal-Square"><a href="#Maximal-Square" class="headerlink" title="Maximal Square"></a>Maximal Square</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalSquare</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//error check</span></span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> m = matrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; m + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n + <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (matrix[i - <span class="number">1</span>][j - <span class="number">1</span>] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> temp = Math.min(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]);</span><br><span class="line">                    dp[i][j] = Math.min(temp, dp[i - <span class="number">1</span>][j - <span class="number">1</span>]) + <span class="number">1</span>;</span><br><span class="line">                    max = Math.max(max, dp[i][j]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max * max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2021/02/21/OA1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/02/21/OA1/" class="post-title-link" itemprop="url">OA1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-02-21 00:43:55 / 修改时间：16:23:10" itemprop="dateCreated datePublished" datetime="2021-02-21T00:43:55+09:00">2021-02-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Amazon/" itemprop="url" rel="index"><span itemprop="name">Amazon</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OA1"><a href="#OA1" class="headerlink" title="OA1"></a>OA1</h1><p>新题</p>
<ol>
<li>没做过的题，是一个二分法的题——答案是把mid+1变成mid</li>
</ol>
<p>OA1图片</p>
<p><a href="https://www.evernote.com/shard/s683/client/snv?noteGuid=d0047552-4cff-4c29-b305-b8aa2d33f364&amp;noteKey=636f07d57c2eb3ea&amp;sn=https://www.evernote.com/shard/s683/sh/d0047552-4cff-4c29-b305-b8aa2d33f364/636f07d57c2eb3ea&amp;title=Amazon+OA1+Debugging" target="_blank" rel="noopener">https://www.evernote.com/shard/s683/client/snv?noteGuid=d0047552-4cff-4c29-b305-b8aa2d33f364&amp;noteKey=636f07d57c2eb3ea&amp;sn=https://www.evernote.com/shard/s683/sh/d0047552-4cff-4c29-b305-b8aa2d33f364/636f07d57c2eb3ea&amp;title=Amazon+OA1+Debugging</a></p>
<p>旧题目17道：</p>
<p>evenodd</p>
<p>reversearray</p>
<p>sortarray</p>
<p>replacevalues</p>
<p>countocc</p>
<p>countdigit</p>
<p>printpattern</p>
<ol>
<li><p>replace Values: 把for循环条件里i&lt;= len 和 j&lt;=len 改成 i&lt; len 和 j&lt;len</p>
</li>
<li><p>check Grade: || 改 &amp;&amp;, 根据分数return ABCD，其中两个判断条件有||，比如x&gt;=60|| x &lt; 75都改成&amp;&amp;</p>
</li>
<li><p>print Pattern : for循环少了大括号, for-loop里一共两句话但是没有用大括号，所以第二句没有被包含进去</p>
</li>
<li><p>count occurrence:  while loop里加i++</p>
</li>
<li><p>sortArray: line 13 if (max &gt; arr[j]) 改成 max &lt; arr[j] ，compile一下就能看出来排完的顺序反了</p>
</li>
<li><p>manchester: 这个有两处错误，是要判断array里每位数字和前面一位是不是相等，index0的数字单独和0判断一下，所以0那句不能直接res[0]= 0要res[0] = (arr[0] != 0) ? 1:0，后面for循环里判断是要把arr == arr[i-1]改成arr != arr[i-1]。曼切斯特如果arr[i-1],arr相等为0，否则为1，要注意不但==要改成!=，ret[0]也要加一下，不然有一个case过不了。</p>
</li>
<li><p>print Character Pattern : print的时候题目里是ch++要改成print++，不然ch一直变就没法从a开始print了</p>
</li>
<li><p>odd Even Number: for循环少了大括号{}</p>
</li>
<li><p>reverse Array: len += 1改成len -=1, arr[len-1]<code>改成</code>arr[len-i-1]<code>, 循环结束前去掉</code>len+=1;</p>
</li>
<li><p>remove Element: arr =arr[i++]改成arr =arr[i+1]</p>
</li>
<li><p>array奇数偶数: for循环里i+=2改成i++</p>
</li>
<li><p>selection Sort: arr[index_of_min]&gt; arr[x] 改成 &gt; arr[y]</p>
</li>
<li><p>count Digit: while前面加int temp =num, while里面的num改成temp, 最后不能是num%count 在最前面加一个input = num; 最后改成input%count;1111111111111111111111111</p>
</li>
<li><p>remove Duplicates: for循环里k &lt;length改成k &lt; length-1</p>
</li>
<li><p>sum Array: sum =arr改成sum += arr</p>
</li>
<li><p>array Operation: &lt;和&gt;写反了111111111111111111 《=，去=， arr[j] -&gt; 缩进</p>
</li>
<li><p>print1111 : 外层加个括号，外层的for少大括号</p>
<p>新题目14道：</p>
</li>
<li><p>appear K Times: loop结束后要查一下count和k是否相等，相等的话res = curNum</p>
</li>
<li><p>check Valid Palindrome: return里面num改为temp，num已经被update了 (result == num) → (result == temp)</p>
</li>
<li><p>distinct Element Count: 判断是否重复的flag把0/1写反了if (flag == 1) → if (flag == 0)</p>
</li>
<li><p>count Element: for循环里i &lt; k改成i &lt;size， for (int i = 0; i &lt; len; i++) { if (arr[i] &gt; doubleN) count++; }</p>
</li>
<li><p>sum Distinct: 先sort再初始化sum， 初始化sum数组写在sort之后</p>
</li>
<li><p>remove Vowel: Switch里面default condition移除i++</p>
</li>
<li><p>count Element: 给一个range[low,high]，||改成&amp;&amp;</p>
</li>
<li><p>count Days in leap year: nestedfor loop, ||改成&amp;&amp;</p>
</li>
<li><p>get Digits Sum Parity: num = num/10挪到后面</p>
</li>
<li><p>arm strong: math.pow(result,digitCount)改成pow(remainder,digitCount)</p>
</li>
<li><p>reverse a number: 计算num那里改成reverseNum= reverseNum * 10 + remainder</p>
</li>
<li><p>median Value: arr =arr2 改成arr =arr2[i- size]</p>
</li>
<li><p>count A: &amp;&amp;改成|| if (c == ‘A’ || c == ‘a’)</p>
</li>
<li><p>label Product: str加入的顺序反了 答案：加⼊入字符串串的⽅方向反了了 while 循环中</p>
</li>
<li><p>countDays: (year % 4 == 0) &amp;&amp; (year %100 != 0) || (year % 400 == 0)</p>
</li>
<li><p>matrixSum: while(j &lt; n) sum += matrix[i][j++]; put i++ out of the while(j &lt; n) loop</p>
</li>
<li><p>countProduct: for (j = 0; j &lt; size; j++)</p>
</li>
</ol>
<p>oa1练习网站</p>
<p><a href="https://aonecode.com/amazon-online-assessment-debugging-questions#cts" target="_blank" rel="noopener">https://aonecode.com/amazon-online-assessment-debugging-questions#cts</a></p>
<p><a href="https://aonecode.com/amazon-online-assessment" target="_blank" rel="noopener">https://aonecode.com/amazon-online-assessment</a></p>
<p>Debugging<br>7 questions in 21 mins</p>
<p>2021.1.21号做完，本来以为新年题目会变，不过仍然是广为流传的那7个题目，</p>
<p>Count Rotations: line21 mid - 1 =&gt; mid.</p>
<p>Calculate Sum Of Numbers In String : line 13-14    temp = “0” 放进else里面加个大括号.</p>
<p>Check Pair Sum Exists : line19 localSet.add( arr[i] [j]), sum =&gt; arr[i] [j]</p>
<p>Remove Consecutive Vowels : line20 &amp;&amp; =&gt; ||.</p>
<p>Reverse Alphabet Chars Only : line20&amp;21 left++; right–; 放进15-19 的大括号里.</p>
<p>Compare Product : line11&amp;16 digit = num / 10 =&gt; digit = num % 10.</p>
<p>Count Triplet Sum Permutations :  line10 =&gt; for (int j = i + 1….)</p>
<p>Possible bugs:</p>
<p>Count Occurrences ： Missing i++ at the end of while loop<br>Print Pattern ：Missing { } to wrap up the two lines of code in a for-loop, causing the second line to be excluded from the for-loop.<br>Insert Sort Descending Order : change ‘&gt;’ (greater than) to ‘&lt;‘ (less than)<br>Select Sort : change arr[min] &gt; arr[x] to arr[min] &gt; arr[y]<br>Reverse Array : change arr[len - 1] to arr[len - i - 1] ， remove len += 1 at the end of the loop<br>Manchester Array : change result=(a[i]==a[i-1]) to result=(a[i]!=a[i-1])，same for ret[0]<br>Check Grade : change both of || to &amp;&amp;<br>Replace Even/Odd Values：i &lt;= len and j &lt;= len change into &lt; 6</p>
<p>vowels String: while循环i++放外⾯，最后的返回判断len % 2改成len / 2 ，vcount &gt; (len / 2)</p>
<p>appears K Time: while loop之后return之前加上if (count == k) {res = element;} </p>
<ol>
<li>add follow code after while loop: if (count == k) res = element; </li>
<li>switch contents in if and else, judge if(element != inputArray[i]) first</li>
</ol>
<p>check Armstrong: Math.pow()⾥的result改成remainder </p>
<p>count A: c==’A’ &amp;&amp; c==’a’中的 &amp;&amp; 改成 || </p>
<p>sum Distinct: 把sort提前 </p>
<p>label Product: while循环中加⼊的顺序反了，str = productID.charAt(i) + str 或者 int i = productID.length()-1, while i &gt;=0, i- - </p>
<p>median Value: else后⾯arr[i] = arr2[i-size]  else arr[i] = arr2[i] → else arr[i] = arr2[i - size];</p>
<p>count Element Range: || 改成 &amp;&amp;  (inputArray[i] &gt;= low &amp;&amp; inputArray[i] &lt;= high)</p>
<p>get Digit Sum Parity: 1. 返回的判断条件写的都不对 0/1颠倒；2. getSum⾥⾯temp = 的顺序提前</p>
<p>(1)主函数 if (result % 2 ==0) (2)主函数 if (result == 0) return 1 (3)sum digit函数把 int temp = num %10 和 num = num/10 换一下顺序</p>
<p>Tips for Debugging<br>Sorting functions: most likely give the wrong order.<br>Fix: Find the key if statement and reverse the condition for comparison.<br>TLE (Time Limit Exceeded): dead loop WHILE<br>Fix: check for i++ at the end<br>FOR loop: missing { }<br>check whether { } is there for the FOR loops</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Finished</span><br><span class="line"></span><br><span class="line">Amazon New Grad OA1 (2021-02)</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;www.1point3acres.com&#x2F;bbs&#x2F;thread-713546-1-1.html</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;www.1point3acres.com&#x2F;bbs&#x2F;interview&#x2F;amazon-software-engineer-701874.html</span><br><span class="line"></span><br><span class="line">https:&#x2F;&#x2F;www.1point3acres.com&#x2F;bbs&#x2F;thread-660085-1-1.html</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/12/14/Design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/14/Design/" class="post-title-link" itemprop="url">Design</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-14 03:10:42" itemprop="dateCreated datePublished" datetime="2020-12-14T03:10:42+09:00">2020-12-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-23 17:14:10" itemprop="dateModified" datetime="2021-02-23T17:14:10+09:00">2021-02-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OOD"><a href="#OOD" class="headerlink" title="OOD"></a>OOD</h1><p>以亚麻面试官的角度说说如何准备OOD题目</p>
<p>OOD是亚麻SDE1 onsite的必考题目，自己以前准备的时侯网上资料并不多，不像算法可以轻松找到正确答案，OOD基本上只有题目和大家比较简单的讨论，所以自己当时是摸着石头过河，只能反复推敲自己的回答，并没有什么参考标准。好在自己当时onsite的OOD表现还不错。现在开始面试别人的OOD，跟着资深的面试官（当时面我OOD的人😓）学习如何面试OOD。算是有了一些经验，在这分享下自己的心得。</p>
<p><a href="https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717638&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=717638&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311</a></p>
<p>Design File search with Name and Extension API</p>
<p>Design CD rental system</p>
<p><a href="https://wdxtub.com/interview/14520596997643.html" target="_blank" rel="noopener">https://wdxtub.com/interview/14520596997643.html</a></p>
<p><a href="https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md" target="_blank" rel="noopener">https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md</a></p>
<p><a href="https://www.1point3acres.com/bbs/thread-526497-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-526497-1-1.html</a></p>
<h2 id="380-Insert-Delete-GetRandom-O-1-⭐"><a href="#380-Insert-Delete-GetRandom-O-1-⭐" class="headerlink" title="380. Insert Delete GetRandom O(1)⭐"></a><a href="https://leetcode.com/problems/insert-delete-getrandom-o1/" target="_blank" rel="noopener">380. Insert Delete GetRandom O(1)⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[<span class="string">"RandomizedSet"</span>, <span class="string">"insert"</span>, <span class="string">"remove"</span>, <span class="string">"insert"</span>, <span class="string">"getRandom"</span>, <span class="string">"remove"</span>, <span class="string">"insert"</span>, <span class="string">"getRandom"</span>]</span><br><span class="line">[[], [<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">2</span>], [], [<span class="number">1</span>], [<span class="number">2</span>], []]</span><br><span class="line">Output</span><br><span class="line">[<span class="keyword">null</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="number">2</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">RandomizedSet randomizedSet = <span class="keyword">new</span> RandomizedSet();</span><br><span class="line">randomizedSet.insert(<span class="number">1</span>); <span class="comment">// Inserts 1 to the set. Returns true as 1 was inserted successfully.</span></span><br><span class="line">randomizedSet.remove(<span class="number">2</span>); <span class="comment">// Returns false as 2 does not exist in the set.</span></span><br><span class="line">randomizedSet.insert(<span class="number">2</span>); <span class="comment">// Inserts 2 to the set, returns true. Set now contains [1,2].</span></span><br><span class="line">randomizedSet.getRandom(); <span class="comment">// getRandom() should return either 1 or 2 randomly.</span></span><br><span class="line">randomizedSet.remove(<span class="number">1</span>); <span class="comment">// Removes 1 from the set, returns true. Set now contains [2].</span></span><br><span class="line">randomizedSet.insert(<span class="number">2</span>); <span class="comment">// 2 was already in the set, so return false.</span></span><br><span class="line">randomizedSet.getRandom(); <span class="comment">// Since 2 is the only number in the set, getRandom() will always return 2.</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>HashMap + ArrayList <a href="https://leetcode.com/problems/insert-delete-getrandom-o1/solution/" target="_blank" rel="noopener">Expalanation</a></p>
</li>
<li><p>implement the structure which provides the following operations in <em>average</em> \mathcal{O}(1)O(1) time:</p>
<ul>
<li>Insert</li>
<li>Delete</li>
<li>GetRandom</li>
</ul>
</li>
<li><p>Hashmap provides Insert and Delete in average constant time, although has problems with GetRandom.</p>
</li>
<li><p>Array List has indexes and could provide Insert and GetRandom in average constant time, though has problems with Delete.</p>
</li>
<li><p>To delete a value at arbitrary index takes linear time. The solution here is to always delete the last value:</p>
<ul>
<li>Swap the element to delete with the last one.</li>
<li>Pop the last element out.</li>
</ul>
<p>For that, one has to compute an index of each element in constant time, and hence needs a hashmap which stores <code>element -&gt; its index</code> dictionary.</p>
<p>Both ways converge into the same combination of data structures:</p>
<ul>
<li>Hashmap <code>element -&gt; its index</code>.</li>
<li>Array List of elements.</li>
</ul>
</li>
</ol>
<p><img src="https://leetcode.com/problems/insert-delete-getrandom-o1/Figures/380/structure2.png" alt=""></p>
<p><img src="https://leetcode.com/problems/insert-delete-getrandom-o1/Figures/380/delete.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map;</span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Random rand;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        rand = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        map.put(val, list.size());</span><br><span class="line">        list.add(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> last = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> idx = map.get(val);</span><br><span class="line">        list.set(idx, last);</span><br><span class="line">        map.put(last, idx);</span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">        map.remove(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Randomlization"><a href="#Randomlization" class="headerlink" title="Randomlization"></a>Randomlization</h3><h3 id="Unsolved-519-Random-Flip-Matrix🎂"><a href="#Unsolved-519-Random-Flip-Matrix🎂" class="headerlink" title="Unsolved 519. Random Flip Matrix🎂"></a><a href="https://leetcode.com/problems/random-flip-matrix/" target="_blank" rel="noopener">Unsolved 519. Random Flip Matrix🎂</a></h3><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;</span><br><span class="line"><span class="keyword">int</span> m, n, total;</span><br><span class="line">Random rand;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> n_rows, <span class="keyword">int</span> n_cols)</span> </span>&#123;</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    rand = <span class="keyword">new</span> Random();</span><br><span class="line">    m = n_rows;</span><br><span class="line">    n = n_cols;</span><br><span class="line">    reset();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] flip() &#123;</span><br><span class="line">    <span class="keyword">int</span> i = rand.nextInt(total--);</span><br><span class="line">    <span class="keyword">int</span> x = map.getOrDefault(i, i);</span><br><span class="line">    map.put(i, map.getOrDefault(total, total));</span><br><span class="line">    map.put(total, x);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x / n, x % n&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    total = m * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="382-Linked-List-Random-Node✨"><a href="#382-Linked-List-Random-Node✨" class="headerlink" title="382. Linked List Random Node✨"></a><a href="https://leetcode.com/problems/linked-list-random-node/" target="_blank" rel="noopener">382. Linked List Random Node✨</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两种生成对象方式：带种子和不带种子(两种方式的区别见注解)</span></span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line">Integer res = random.nextInt(n);</span><br><span class="line"></span><br><span class="line">Integer res = (<span class="keyword">int</span>)(Math.random() * n);</span><br><span class="line"></span><br><span class="line">random.nextInt() 为 java.util.Random类中的方法；</span><br><span class="line">Math.random() 为 java.lang.Math 类中的静态方法。</span><br><span class="line">Math.random() 方法生成[<span class="number">0</span>, <span class="number">1</span>)范围内的<span class="keyword">double</span>类型随机数；Random类中的nextXxxx系列方法生成<span class="number">0</span>－n的随机数；</span><br><span class="line">Math.random() 线程安全，多线程环境能被调用；</span><br><span class="line">如无特殊需求，则使用(<span class="keyword">int</span>)(Math.random()*n)的方式生成随机数即可。</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ArrayList&lt;Integer&gt; range = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@param</span> head The linked list's head.</span></span><br><span class="line"><span class="comment">        Note that the head is guaranteed to be not null, so it contains at least one node. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.range.add(head.val);</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Returns a random node's value. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pick = (<span class="keyword">int</span>) (Math.random() * range.size());</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.range.get(pick);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>思路：蓄水池。可以证明，第 i 个数，如果随机数&lt;1/i，则为解。这里我们用&lt;=1/(1+i)。</li>
<li><a href="https://leetcode.com/problems/linked-list-random-node/discuss/85659/Brief-explanation-for-Reservoir-Sampling" target="_blank" rel="noopener">详解</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ListNode head = <span class="keyword">null</span>;</span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="keyword">this</span>.head.val;</span><br><span class="line">    ListNode node = <span class="keyword">this</span>.head.next;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (node != <span class="keyword">null</span>) &#123;</span><br><span class="line">        dou ble x = r.nextDouble();</span><br><span class="line">        <span class="keyword">double</span> y = k / (k + i * <span class="number">1.0</span>);</span><br><span class="line">        <span class="keyword">if</span> (x &lt;= y)</span><br><span class="line">            result = node.val;</span><br><span class="line">        i++;</span><br><span class="line">        node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="353-Design-Snake-Game✨"><a href="#353-Design-Snake-Game✨" class="headerlink" title="353. Design Snake Game✨"></a><a href="https://leetcode.com/problems/design-snake-game" target="_blank" rel="noopener">353. Design Snake Game✨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Given width = <span class="number">3</span>, height = <span class="number">2</span>, and food = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">1</span>]].</span><br><span class="line">Snake snake = <span class="keyword">new</span> Snake(width, height, food);</span><br><span class="line"><span class="function">Initially the snake appears at <span class="title">position</span> <span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span> and the food <span class="title">at</span> <span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span>.</span></span><br><span class="line"><span class="function">|S| | |</span></span><br><span class="line"><span class="function">| | |F|</span></span><br><span class="line"><span class="function">snake.<span class="title">move</span><span class="params">(<span class="string">"R"</span>)</span></span>; -&gt; Returns <span class="number">0</span></span><br><span class="line">| |S| |</span><br><span class="line">| | |F|</span><br><span class="line">snake.move(<span class="string">"D"</span>); -&gt; Returns <span class="number">0</span></span><br><span class="line">| | | |</span><br><span class="line">| |S|F|</span><br><span class="line">snake.move(<span class="string">"R"</span>); -&gt; Returns <span class="number">1</span> (Snake eats the first food and right after that, <span class="function">the second food appears <span class="title">at</span> <span class="params">(<span class="number">0</span>,<span class="number">1</span>)</span> )</span></span><br><span class="line"><span class="function">| |F| |</span></span><br><span class="line"><span class="function">| |S|S|</span></span><br><span class="line"><span class="function">snake.<span class="title">move</span><span class="params">(<span class="string">"U"</span>)</span></span>; -&gt; Returns <span class="number">1</span></span><br><span class="line">| |F|S|</span><br><span class="line">| | |S|</span><br><span class="line">snake.move(<span class="string">"L"</span>); -&gt; Returns <span class="number">2</span> (Snake eats the second food)</span><br><span class="line">| |S|S|</span><br><span class="line">| | |S|</span><br><span class="line">snake.move(<span class="string">"U"</span>); -&gt; Returns -<span class="number">1</span> (Game over because snake collides with border)</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：先搞清楚场景：初始状态；死亡状态；移动状态。然后设计主要动作（move）。二维图可以转为一维数组表示，用 Deque 保存蛇体，并用 Set 做索引，因为总是先进后出，且不会有重复数字（注意吃东西时会有 暂时的重复，些时需要先从 Set 中移除尾巴，如果没有问题且吃了东西，再把尾巴加回来。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SnakeGame</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> width;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line">    <span class="keyword">int</span>[][] food;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">    Point cur;</span><br><span class="line">    LinkedList&lt;Point&gt; shake;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SnakeGame</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">int</span>[][] food)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.width=width;</span><br><span class="line">        <span class="keyword">this</span>.height=height;</span><br><span class="line">        <span class="keyword">this</span>.food=food;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.k=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.shake=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        shake.addFirst(<span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(String direction)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// the new head is based on the current head</span></span><br><span class="line">        <span class="comment">// the tail is removed, but can be returned back if food is found</span></span><br><span class="line">        Point head = shake.getFirst();</span><br><span class="line">        Point newHead = <span class="keyword">new</span> Point(head.i, head.j);        </span><br><span class="line">        Point tail = shake.removeLast(); </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(direction.equals(<span class="string">"U"</span>))&#123;</span><br><span class="line">            newHead.i--;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(direction.equals(<span class="string">"D"</span>))&#123;</span><br><span class="line">            newHead.i++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(direction.equals(<span class="string">"L"</span>))&#123;</span><br><span class="line">            newHead.j--;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            newHead.j++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(newHead.i&lt;<span class="number">0</span> || newHead.i==height || newHead.j&lt;<span class="number">0</span> || newHead.j==width || shake.contains(newHead)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        shake.addFirst(newHead);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(k&lt;food.length &amp;&amp; food[k][<span class="number">0</span>]==newHead.i &amp;&amp; food[k][<span class="number">1</span>]==newHead.j)&#123;            </span><br><span class="line">            shake.addLast(tail); <span class="comment">// return tail back</span></span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> k;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        Point(<span class="keyword">int</span> i, <span class="keyword">int</span> j)&#123;</span><br><span class="line">            <span class="keyword">this</span>.i=i;</span><br><span class="line">            <span class="keyword">this</span>.j=j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;&#125; <span class="comment">// todo: implement</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// todo: implement</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SnakeGame</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2D position info is encoded to 1D and stored as two copies </span></span><br><span class="line">    Set&lt;Integer&gt; set; <span class="comment">// this copy is good for fast loop-up for eating body case</span></span><br><span class="line">    Deque&lt;Integer&gt; body; <span class="comment">// this copy is good for updating tail</span></span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">int</span>[][] food;</span><br><span class="line">    <span class="keyword">int</span> foodIndex;</span><br><span class="line">    <span class="keyword">int</span> width;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SnakeGame</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">int</span>[][] food)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.width = width;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">        <span class="keyword">this</span>.food = food;</span><br><span class="line">        set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        set.add(<span class="number">0</span>); <span class="comment">//intially at [0][0]</span></span><br><span class="line">        body = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        body.offerLast(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(String direction)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//case 0: game already over: do nothing</span></span><br><span class="line">        <span class="keyword">if</span> (score == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// compute new head</span></span><br><span class="line">        <span class="keyword">int</span> rowHead = body.peekFirst() / width;</span><br><span class="line">        <span class="keyword">int</span> colHead = body.peekFirst() % width;</span><br><span class="line">        <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"U"</span> : rowHead--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"D"</span> : rowHead++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"L"</span> : colHead--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span> :  colHead++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> head = rowHead * width + colHead;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case 1: out of boundary or eating body</span></span><br><span class="line">        set.remove(body.peekLast()); <span class="comment">// new head is legal to be in old tail's position, remove from set temporarily </span></span><br><span class="line">        <span class="keyword">if</span> (rowHead &lt; <span class="number">0</span> || rowHead == height || colHead &lt; <span class="number">0</span> || colHead == width || set.contains(head)) &#123;</span><br><span class="line">            <span class="keyword">return</span> score = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add head for case2 and case3</span></span><br><span class="line">        set.add(head); </span><br><span class="line">        body.offerFirst(head);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case2: eating food, keep tail, add head</span></span><br><span class="line">        <span class="keyword">if</span> (foodIndex &lt; food.length &amp;&amp; rowHead == food[foodIndex][<span class="number">0</span>] &amp;&amp; colHead == food[foodIndex][<span class="number">1</span>]) &#123;</span><br><span class="line">            set.add(body.peekLast()); <span class="comment">// old tail does not change, so add it back to set</span></span><br><span class="line">            foodIndex++;</span><br><span class="line">            <span class="keyword">return</span> ++score;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case3: normal move, remove tail, add head</span></span><br><span class="line">        body.pollLast();</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-348-Design-Tic-Tac-Toe⭐"><a href="#Unsolved-348-Design-Tic-Tac-Toe⭐" class="headerlink" title="Unsolved 348. Design Tic-Tac-Toe⭐"></a><a href="https://leetcode.com/problems/design-tic-tac-toe/" target="_blank" rel="noopener">Unsolved 348. Design Tic-Tac-Toe⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[<span class="string">"TicTacToe"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>]</span><br><span class="line">[[<span class="number">3</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>]]</span><br><span class="line">Output</span><br><span class="line">[<span class="keyword">null</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">TicTacToe ticTacToe = <span class="keyword">new</span> TicTacToe(<span class="number">3</span>);</span><br><span class="line">Assume that player <span class="number">1</span> is <span class="string">"X"</span> and player <span class="number">2</span> is <span class="string">"O"</span> in the board.</span><br><span class="line">ticTacToe.move(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| | |</span><br><span class="line">| | | |    <span class="comment">// Player 1 makes a move at (0, 0).</span></span><br><span class="line">| | | |</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| | | |    <span class="comment">// Player 2 makes a move at (0, 2).</span></span><br><span class="line">| | | |</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| | | |    <span class="comment">// Player 1 makes a move at (2, 2).</span></span><br><span class="line">| | |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| |O| |    <span class="comment">// Player 2 makes a move at (1, 1).</span></span><br><span class="line">| | |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| |O| |    <span class="comment">// Player 1 makes a move at (2, 0).</span></span><br><span class="line">|X| |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">|O|O| |    <span class="comment">// Player 2 makes a move at (1, 0).</span></span><br><span class="line">|X| |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// return 1 (player 1 wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">|O|O| |    <span class="comment">// Player 1 makes a move at (2, 1).</span></span><br><span class="line">|X|X|X|</span><br></pre></td></tr></table></figure>

<h3 id="Solution0"><a href="#Solution0" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li>brute force</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// O(n) solution</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TicTacToe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] grid;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicTacToe</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        grid = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Player &#123;player&#125; makes a move at (&#123;row&#125;, &#123;col&#125;).</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> row The row of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> col The column of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> player The player, can be either 1 or 2.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@return</span> The current winning condition, can be either:</span></span><br><span class="line"><span class="comment">                0: No one wins.</span></span><br><span class="line"><span class="comment">                1: Player 1 wins.</span></span><br><span class="line"><span class="comment">                2: Player 2 wins. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// validation TODO</span></span><br><span class="line">        <span class="keyword">if</span> (row &gt;= grid.length || col &gt;= grid.length) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// out of the grid</span></span><br><span class="line">        <span class="keyword">if</span> (grid[row][col] != <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// cell is used</span></span><br><span class="line">        </span><br><span class="line">        grid[row][col] = player == <span class="number">1</span> ? <span class="number">1</span> : <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (checkVerticallyWin(col, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">if</span> (checkHorizontallyWin(row, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">if</span> (checkDiagonallyWin(row, col, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkVerticallyWin</span><span class="params">(<span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][col] != player) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkHorizontallyWin</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[row][j] != player) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkDiagonallyWin</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (row != col &amp;&amp; row+col != grid.length-<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> topLeftToBottomRight = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> topRightToBottomLeft = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][i] != player) topLeftToBottomRight = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][grid.length-<span class="number">1</span>-i] != player) topRightToBottomLeft = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> topRightToBottomLeft || topLeftToBottomRight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// TC: O(n)</span></span><br><span class="line"><span class="comment">// AS: O(n^2)</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>与 n 后问题思路一致，重点在判断横、竖、斜四个方向上是否已经达到指定数量的相应棋子。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TicTacToe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] rows;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] cols;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> diagonal;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> antiDiagonal;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicTacToe</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        rows = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        cols = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Player &#123;player&#125; makes a move at (&#123;row&#125;, &#123;col&#125;).</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> row The row of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> col The column of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> player The player, can be either 1 or 2.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@return</span> The current winning condition, can be either:</span></span><br><span class="line"><span class="comment">                0: No one wins.</span></span><br><span class="line"><span class="comment">                1: Player 1 wins.</span></span><br><span class="line"><span class="comment">                2: Player 2 wins. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">         <span class="comment">/* player 1 is 1, player 2 is -1 */</span></span><br><span class="line">        <span class="keyword">int</span> toAdd = player == <span class="number">1</span>? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">/* update the current move onto the corresponding row and column */</span></span><br><span class="line">        rows[row] += toAdd;</span><br><span class="line">        cols[col] += toAdd;</span><br><span class="line">        <span class="keyword">if</span> (row == col) &#123;</span><br><span class="line">            diagonal += toAdd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (col == (cols.length - row - <span class="number">1</span>)) &#123;</span><br><span class="line">            antiDiagonal += toAdd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* when sum of the current certain row or column is n or -n</span></span><br><span class="line"><span class="comment">            we know a player has won */</span></span><br><span class="line">        <span class="keyword">int</span> size = rows.length;</span><br><span class="line">        <span class="keyword">if</span> (Math.abs(rows[row]) == size </span><br><span class="line">            || Math.abs(cols[col]) == size </span><br><span class="line">            || Math.abs(diagonal) == size</span><br><span class="line">            || Math.abs(antiDiagonal) == size) &#123;</span><br><span class="line">            <span class="keyword">return</span> player;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-LRU-Cache-AE-⭐"><a href="#Unsolved-LRU-Cache-AE-⭐" class="headerlink" title="Unsolved LRU Cache(AE)⭐"></a>Unsolved LRU Cache(AE)⭐</h2><p><img src="https://zxi.mytechroad.com/blog/wp-content/uploads/2017/09/146-ep50.png" alt=""></p>
<p>DoublyLinkedList (track sequence) + Hashtable (access value)</p>
<h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    Map&lt;String, DoublyLinkedlistNode&gt; cache = <span class="keyword">new</span> HashMap&lt;String, DoublyLinkedListNode&gt;;</span><br><span class="line">    <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">int</span> currentSize;</span><br><span class="line">    DoublyLinkedlistNode listOfMostRecent = <span class="keyword">new</span> DoublyLinkedlistNode;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.maxSize = maxSize &gt; <span class="number">1</span> ? maxSize : <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertKeyValuePair</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (!cache.contasinsKey(key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentSize == maxSize) &#123;</span><br><span class="line">    	evictLeastRecent();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    currentSize++;</span><br><span class="line">    &#125;</span><br><span class="line">    cache.put(key, <span class="keyword">new</span> DoublyLinkedListNode(key, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    replaceKey(key, value);</span><br><span class="line">    &#125;</span><br><span class="line">    undateMostRecent(cache.get(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> LRUResult <span class="title">getValueFromKey</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (!cache.containsKey(key)) &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> LRUResult(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    updateMostRecent(cache.get(key));</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LRUResult(<span class="keyword">true</span>, cache.get(key).value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMostRecentKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (listOfMostRecent.head == <span class="keyword">null</span>) &#123;</span><br><span class="line">	    <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> listOfMostRecent.head.key;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">evictLeastRecent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String keyToRemove = listOfMostRecent.tail.key;</span><br><span class="line">    listOfMostRecent.removeTail();</span><br><span class="line">    cache.remove(keyToMove);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateMostRecent</span><span class="params">(DoublyLinkedListNode node)</span> </span>&#123;</span><br><span class="line">	listOfMostRecent.setHeadTo(node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">replaceKey</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.cache.containsKey(key)) &#123;</span><br><span class="line">	    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache.get(key).value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DoublyLinkedList</span> </span>&#123;</span><br><span class="line">    DoublyLinkedListNode head = <span class="keyword">null</span>;</span><br><span class="line">    DoublyLinkedListNode tail = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHeadTo</span><span class="params">(DoublyLinkedListNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == node) &#123;</span><br><span class="line">	        <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            head = node;</span><br><span class="line">            tail = node;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (head == tail) &#123;</span><br><span class="line">            tail.prev = node;</span><br><span class="line">            head = node;</span><br><span class="line">            head.next = tail;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (tail == node) &#123;</span><br><span class="line">            removeTail();</span><br><span class="line">        &#125;</span><br><span class="line">        node.removeBindings();</span><br><span class="line">        head.prev = node;</span><br><span class="line">        node.next = head;</span><br><span class="line">        head = node;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tail == <span class="keyword">null</span>) &#123;</span><br><span class="line">	        <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tail == head) &#123;</span><br><span class="line">            head = <span class="keyword">null</span>;</span><br><span class="line">            tail = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.prev;</span><br><span class="line">        tail.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> calss <span class="title">DoublyLinkedListNode</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        String key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        DoublyLinkedListNode prev = <span class="keyword">null</span>;</span><br><span class="line">        DoublyLinkedListNode next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DoublyLinkedListNode</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeBindings</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (prev != <span class="keyword">null</span>) &#123;</span><br><span class="line">            	prev.next = next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (next != <span class="keyword">null</span>) &#123;</span><br><span class="line">	            next.prev = prev;</span><br><span class="line">            &#125;</span><br><span class="line">            prev = <span class="keyword">null</span>;</span><br><span class="line">            next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUResult</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> found;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUResult</span><span class="params">(<span class="keyword">boolean</span> found, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">this</span>.found = found;</span><br><span class="line">	    <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="146-LRU-Cache✨"><a href="#146-LRU-Cache✨" class="headerlink" title="146. LRU Cache✨"></a><a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">146. LRU Cache✨</a></h3><p>Design and implement a data structure for <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU" target="_blank" rel="noopener">Least Recently Used (LRU) cache</a>. It should support the following operations: get and put</p>
<h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>思路：利用LinkedHashMap的移除最老元素。</p>
</li>
<li><p>如果不能用该数据结构，可使用双链表+HashMap(key-&gt;node)相结 合的方式。</p>
</li>
<li><p>每次put中get时，同时把相应词移动（或添加）到队尾，并且把原来位置的前后两元素相联。</p>
</li>
<li><p>The problem can be solved with a hashtable that keeps track of the keys and its values in the double linked list. One interesting property about double linked list is that the node can remove itself without other reference. In addition, it takes constant time to add and remove nodes from the head or tail.</p>
</li>
<li><p>One particularity about the double linked list that I implemented is that I create a pseudo head and tail to mark the boundary, so that we don’t need to check the NULL node during the update. This makes the code more concise and clean, and also it is good for the performance.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    Node prev;</span><br><span class="line">    Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoublyLinkedList</span> </span>&#123;</span><br><span class="line">    Node head;</span><br><span class="line">    Node tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DoublyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node();</span><br><span class="line">        tail = <span class="keyword">new</span> Node();</span><br><span class="line">        <span class="keyword">this</span>.head.next = <span class="keyword">this</span>.tail;</span><br><span class="line">        <span class="keyword">this</span>.tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertHead</span><span class="params">(Node n)</span> </span>&#123;</span><br><span class="line">        n.prev = head;</span><br><span class="line">        n.next = head.next;</span><br><span class="line">        head.next.prev = n;</span><br><span class="line">        head.next = n;    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node n)</span> </span>&#123;</span><br><span class="line">        n.prev.next = n.next;</span><br><span class="line">        n.next.prev = n.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node n = tail.prev;</span><br><span class="line">        <span class="keyword">int</span> key = n.key;</span><br><span class="line">        remove(n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Node&gt; cache;</span><br><span class="line">    DoublyLinkedList list;</span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        <span class="keyword">this</span>.cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.list = <span class="keyword">new</span> DoublyLinkedList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!cache.containsKey(key)) </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">        update(key, cache.get(key));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cache.get(key).value;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> key, Node n)</span> </span>&#123;    </span><br><span class="line">        list.remove(n);</span><br><span class="line">        list.insertHead(n);</span><br><span class="line">        cache.put(key, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node n = <span class="keyword">new</span> Node(key, value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cache.containsKey(key))</span><br><span class="line">            list.remove(cache.get(key));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cache.size() &gt;= capacity) &#123;</span><br><span class="line">            <span class="keyword">int</span> k = list.removeTail();</span><br><span class="line">            cache.remove(k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        list.insertHead(n);</span><br><span class="line">        cache.put(key, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        Node prev;</span><br><span class="line">        Node next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addNode</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = head.next;</span><br><span class="line">        head.next.prev = node;</span><br><span class="line">        head.next = node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        Node p = node.prev;</span><br><span class="line">        Node n = node.next;</span><br><span class="line">        p.next = n;</span><br><span class="line">        n.prev = p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        remove(node);</span><br><span class="line">        addNode(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">popTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node p = tail.prev;</span><br><span class="line">        remove(p);</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Node&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">private</span> Node tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.size = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line"></span><br><span class="line">        head = <span class="keyword">new</span> Node();</span><br><span class="line">        tail = <span class="keyword">new</span> Node();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        Node node = cache.get(key);</span><br><span class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        moveToHead(node);</span><br><span class="line">        <span class="keyword">return</span> node.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node node = cache.get(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node newNode = <span class="keyword">new</span> Node();</span><br><span class="line">            newNode.key = key;</span><br><span class="line">            newNode.value = value;</span><br><span class="line"></span><br><span class="line">            cache.put(key, newNode);</span><br><span class="line">            addNode(newNode);</span><br><span class="line"></span><br><span class="line">            size++;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; capacity) &#123;</span><br><span class="line">                Node tail = popTail();</span><br><span class="line">                cache.remove(tail.key);</span><br><span class="line">                size--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node.value = value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-460-LFU-Cache⭐"><a href="#Unsolved-460-LFU-Cache⭐" class="headerlink" title="Unsolved 460. LFU Cache⭐"></a><a href="https://leetcode.com/problems/lfu-cache/" target="_blank" rel="noopener">Unsolved 460. LFU Cache⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key,value,freq;</span><br><span class="line">        Node prev,next;</span><br><span class="line">        Node(<span class="keyword">int</span> key,<span class="keyword">int</span> value)&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">            <span class="keyword">this</span>.freq = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DLinkedList</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> freq;</span><br><span class="line">        Node head,tail;</span><br><span class="line">        DLinkedList(<span class="keyword">int</span> freq)&#123;</span><br><span class="line">            <span class="keyword">this</span>.freq =  freq;</span><br><span class="line">            head = <span class="keyword">new</span> Node(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            tail = <span class="keyword">new</span> Node(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            head.next = tail;</span><br><span class="line">            tail.prev = head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">            Node t = head.next;</span><br><span class="line">            head.next = node;</span><br><span class="line">            node.prev = head;</span><br><span class="line">            node.next = t;</span><br><span class="line">            t.prev = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> head.next==tail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">            node.next.prev = node.prev;</span><br><span class="line">            node.prev.next = node.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function">Node <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            Node node = tail.prev;</span><br><span class="line">            delete(node);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> capacity,size,minFreq;</span><br><span class="line">    HashMap&lt;Integer,Node&gt; keyMap;</span><br><span class="line">    HashMap&lt;Integer,DLinkedList&gt; freqMap;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LFUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        <span class="keyword">this</span>.size = minFreq = <span class="number">0</span>;</span><br><span class="line">        keyMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        freqMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        freqMap.put(<span class="number">0</span>,<span class="keyword">new</span> DLinkedList(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">_update</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> freq = node.freq;</span><br><span class="line">        freqMap.get(freq).delete(node);</span><br><span class="line">        node.freq ++;</span><br><span class="line">        freqMap.computeIfAbsent(node.freq,k-&gt;<span class="keyword">new</span> DLinkedList(node.freq)).add(node);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (freqMap.get(minFreq).isEmpty()) minFreq++;</span><br><span class="line">        <span class="keyword">return</span> node.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!keyMap.containsKey(key)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        Node node = keyMap.get(key);</span><br><span class="line">        <span class="keyword">return</span>  _update(node);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(capacity==<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (keyMap.containsKey(key))&#123;</span><br><span class="line">            Node node = keyMap.get(key);</span><br><span class="line">            node.value = value;</span><br><span class="line">            _update(node);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(size&gt;=capacity)&#123;</span><br><span class="line">            Node old = freqMap.get(minFreq).pop();</span><br><span class="line">            keyMap.remove(old.key);</span><br><span class="line">            size --;</span><br><span class="line">        &#125;</span><br><span class="line">        Node node = <span class="keyword">new</span> Node(key,value);</span><br><span class="line">        freqMap.get(<span class="number">0</span>).add(node);</span><br><span class="line">        keyMap.put(key,node);</span><br><span class="line">        minFreq = <span class="number">0</span>;</span><br><span class="line">        size ++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-706-Design-HashMap✨"><a href="#Unsolved-706-Design-HashMap✨" class="headerlink" title="Unsolved 706. Design HashMap✨"></a><a href="https://leetcode.com/problems/design-hashmap/" target="_blank" rel="noopener">Unsolved 706. Design HashMap✨</a></h2><h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Some of the questions which can be asked to the interviewer before implementing the solution</p>
<p>For simplicity, are the keys integers only?<br>For collision resolution, can we use chaining?<br>Do we have to worry about load factors?<br>Can we assume inputs are valid or do we have to validate them?<br>Can we assume this fits memory?</p>
</li>
<li><p>Collisions are resolved using linked list</p>
</li>
</ol>
<p><a href="https://leetcode.com/problems/design-hashmap/solution/" target="_blank" rel="noopener">https://leetcode.com/problems/design-hashmap/solution/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashMap</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ListNode[] nodes = <span class="keyword">new</span> ListNode[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>)</span><br><span class="line">            nodes[i] = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, -<span class="number">1</span>);</span><br><span class="line">        ListNode prev = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">if</span> (prev.next == <span class="keyword">null</span>)</span><br><span class="line">            prev.next = <span class="keyword">new</span> ListNode(key, value);</span><br><span class="line">        <span class="keyword">else</span> prev.next.val = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        ListNode node = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">return</span> node.next == <span class="keyword">null</span> ? -<span class="number">1</span> : node.next.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        ListNode prev = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">if</span> (prev.next == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        prev.next = prev.next.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">idx</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123; <span class="keyword">return</span> Integer.hashCode(key) % nodes.length;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode <span class="title">find</span><span class="params">(ListNode bucket, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        ListNode node = bucket, prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span> &amp;&amp; node.key != key) &#123;</span><br><span class="line">            prev = node;</span><br><span class="line">            node = node.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key, val;</span><br><span class="line">        ListNode next;</span><br><span class="line"></span><br><span class="line">        ListNode(<span class="keyword">int</span> key, <span class="keyword">int</span> val) &#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-588-Design-In-Memory-File-System⭐"><a href="#Unsolved-588-Design-In-Memory-File-System⭐" class="headerlink" title="Unsolved 588. Design In-Memory File System⭐"></a><a href="https://leetcode.com/problems/design-in-memory-file-system/" target="_blank" rel="noopener">Unsolved 588. Design In-Memory File System⭐</a></h2><h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileSystem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> FileNode root;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FileSystem</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> FileNode(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">ls</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findNode(path).getList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mkdir</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">        findNode(path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addContentToFile</span><span class="params">(String filePath, String content)</span> </span>&#123;</span><br><span class="line">        findNode(filePath).addContent(content);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">readContentFromFile</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findNode(filePath).getContent();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//-- private method section --//</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> FileNode <span class="title">findNode</span><span class="params">(String path)</span></span>&#123;</span><br><span class="line">        String[] files = path.split(<span class="string">"/"</span>);</span><br><span class="line"></span><br><span class="line">        FileNode cur = root;</span><br><span class="line">        <span class="keyword">for</span>(String file : files)&#123;</span><br><span class="line">            <span class="keyword">if</span>(file.length() == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            cur.children.putIfAbsent(file, <span class="keyword">new</span> FileNode(file));</span><br><span class="line">            cur = cur.children.get(file);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cur.isFile()) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Private class</span></span><br><span class="line">   <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">FileNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> TreeMap&lt;String, FileNode&gt; children;</span><br><span class="line">        <span class="keyword">private</span> StringBuilder file;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">FileNode</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">            file = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> file.toString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addContent</span><span class="params">(String content)</span></span>&#123;</span><br><span class="line">            file.append(content);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> file.length() &gt; <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getList</span><span class="params">()</span></span>&#123;</span><br><span class="line">            List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">if</span>(isFile())&#123;</span><br><span class="line">                list.add(getName());</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                list.addAll(children.keySet());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="OOP-Object-Oriented-Programming"><a href="#OOP-Object-Oriented-Programming" class="headerlink" title="OOP : Object-Oriented Programming"></a>OOP : Object-Oriented Programming</h1><p>什么是对象Object? 万物皆对象</p>
<p>对象的属性和行为</p>
<p>什么是类Class？类是对象的蓝图</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在Java中，类是对现实对象的抽象</span></span><br><span class="line">Class Student &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用类创建对象</span></span><br><span class="line"><span class="comment">//什么是实例instance</span></span><br><span class="line"><span class="comment">//实例就是对象, s1是Student类的一个对象/实例</span></span><br><span class="line">Student s1 = <span class="keyword">new</span> Student();</span><br></pre></td></tr></table></figure>

<p>什么是OOP?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//用对象构建程序</span></span><br><span class="line">Class Dog &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out,println(<span class="string">"Brak!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Class Cat &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out,println(<span class="string">"Meow~"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> CLass Main &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog d1 = <span class="keyword">new</span> Dog();</span><br><span class="line">        d1.speak();</span><br><span class="line">        Cat c1 = <span class="keyword">new</span> Cat();</span><br><span class="line">        c1.speak();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Class的命名</p>
<ol>
<li><strong>首字母大写UpperCamelCase</strong> </li>
<li>eg.MyClass</li>
</ol>
<p>成员变量</p>
<ol>
<li>又叫域field</li>
<li>表示对象的属性</li>
<li>命名规则和变量名相同</li>
</ol>
<p>成员函数member function</p>
<ol>
<li>又叫方法method</li>
<li>表示对象的行为</li>
<li>命名时，第一个但从必须是动词</li>
</ol>
<p>构造函数Constructor</p>
<ol>
<li>default constructor</li>
<li>parameterized constructor</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//default constructor</span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//equal to   </span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//parameterized constructor</span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>-可以在对象外部被访问</span><br><span class="line"><span class="keyword">private</span>-只能在对象内部被访问</span><br><span class="line"><span class="keyword">static</span>-静态，表示field或method不属于对象， 所有这个类的对象共享这个对象或方法</span><br><span class="line">    </span><br><span class="line">Class Student &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> score;  <span class="comment">//this is allowed</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(score);  <span class="comment">//this is not allowed</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果一个方法或属性static， 那么它不再属于所在的对象。所以在static方法中， 访问对象的属性是不允许的</span></span><br></pre></td></tr></table></figure>

<h1 id="OOD-1"><a href="#OOD-1" class="headerlink" title="OOD"></a>OOD</h1><p>封装：public private</p>
<p>继承：子类父类</p>
<p>抽象：接口interface，类实现接口，重载接口里的method</p>
<p>多态：运算符的重载overload,基于input parameter调整</p>
<h2 id="OOA-vs-OOD-vs-OOP"><a href="#OOA-vs-OOD-vs-OOP" class="headerlink" title="OOA vs. OOD vs. OOP"></a>OOA vs. OOD vs. OOP</h2><p>基本代表了面试的三个流程步骤：</p>
<ol>
<li>OOA (Analyze) : 面向对象分析</li>
<li>OOD(Design) : 面向对象设计</li>
<li>OOP(Programming) : 面向对象编程</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 问问题Handle Ambiguity -&gt; 6个w，who when where what how why</span><br><span class="line">2. 定义类Define the Core Objects</span><br><span class="line">3. 关系分析Analyze Relationship -&gt; 继承关系，一对多，多对多</span><br><span class="line">4. 寻找方法Investigate Actions</span><br></pre></td></tr></table></figure>

<p>出题问法</p>
<ul>
<li>Can you design an elevator system? (设计一个完整的系统) • Little amount of coding </li>
<li>Can you design scheduler for elevator system? (设计系统中的一个部分) • Need implementation</li>
</ul>
<p>OOD在面试当中很重要 - 尤其对于Intern和Entry level </p>
<p>题目没有标准答案 - Everything is an object</p>
<h2 id="OOD面试中的陷阱"><a href="#OOD面试中的陷阱" class="headerlink" title="OOD面试中的陷阱"></a>OOD面试中的陷阱</h2><h3 id="起手式的陷阱"><a href="#起手式的陷阱" class="headerlink" title="起手式的陷阱"></a>起手式的陷阱</h3><h4 id="先下手为强"><a href="#先下手为强" class="headerlink" title="先下手为强"></a>先下手为强</h4><p>例子: Okay, for a parking lot, we need multiple levels. Also let’s make it able to park bicycles. </p>
<p>忌：自说自话，侃侃而谈 </p>
<p>宜：先通过和面试官的交流获得有效信息，留下一个好的feedback，有一个好的交流</p>
<p>面试官是甲方，不要Assume太多自顾自谈，一万个面试官心中想的是一万个电梯系统，要根据对方的需求确定有效信息进而设计</p>
<h4 id="指鹿为马"><a href="#指鹿为马" class="headerlink" title="指鹿为马"></a>指鹿为马</h4><p>例子: Let’s say you need to support 5000 people to park in this parking lot, morning and night will be your peak hour… I can try to use this algorithm/data structure to find the closest spot. </p>
<p>忌：Algorithm, OOD, System design 傻傻分不清楚是哪类题，是算法还是OOD还是System Design </p>
<p>宜：询问清楚题目要求</p>
<p>可以直接问你希望我implement一个算法来支持parking lot里的某一个feature？/设计一个parking lot？/还是一个System可以handle不同时期的traffic？</p>
<h3 id="解题中的陷阱"><a href="#解题中的陷阱" class="headerlink" title="解题中的陷阱"></a>解题中的陷阱</h3><h4 id="朝出夕改"><a href="#朝出夕改" class="headerlink" title="朝出夕改"></a>朝出夕改</h4><p>例子: Oh, wait a second, I think I can optimize the process by modifying/removing this class </p>
<p>忌：思路混乱，反复修改 </p>
<p>宜：先给面试官呈现一个Viable的成果</p>
<p>建议先把解法写好，即便是brute force不是很巧妙也没问题，先完整写出一个解法再去慢慢修改。</p>
<h3 id="收手式的陷阱"><a href="#收手式的陷阱" class="headerlink" title="收手式的陷阱"></a>收手式的陷阱</h3><h4 id="虎头蛇尾"><a href="#虎头蛇尾" class="headerlink" title="虎头蛇尾"></a>虎头蛇尾</h4><p>忌：虎头蛇尾，功亏一篑 </p>
<p>宜：检查你的设计，是否能够支持所需的功能，考虑test case</p>
<h2 id="如何评判一轮OOD面试"><a href="#如何评判一轮OOD面试" class="headerlink" title="如何评判一轮OOD面试"></a>如何评判一轮OOD面试</h2><h3 id="S-O-L-I-D原则"><a href="#S-O-L-I-D原则" class="headerlink" title="S.O.L.I.D原则"></a>S.O.L.I.D原则</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">• S – Single responsibility principle</span><br><span class="line">• O – Open close principle</span><br><span class="line">• L – Liskov substitution principle</span><br><span class="line">• I – Interface segregation principle</span><br><span class="line">• D – Dependency inversion principle</span><br></pre></td></tr></table></figure>

<h3 id="S"><a href="#S" class="headerlink" title="S."></a>S.</h3><p>Single responsibility principle 单一责任原则 </p>
<p>一个类应该有且只有一个去改变他的理由，这意味着一个类应该只有一项工作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//违反了S原则，只应该负责计算Area，而不用另外print出来</span></span><br><span class="line"><span class="comment">//因为未来如果需要基于不同精度print Area的时候(不同的print需求的时候)，会需要反复修改code</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String printAreaAccruateToOneDecimalPlace &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt; 好的做法,不同功能拆分成两个类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Printer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">print</span><span class="params">(AreaCalculator ac)</span> </span>&#123;</span><br><span class="line">        System.out.println(ac.getResult());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="O"><a href="#O" class="headerlink" title="O."></a>O.</h3><p>Open close principle 开放封闭原则</p>
<p>对象或实体应该对扩展开放，对修改封闭 (Open to extension, close to modification)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//违反了O原则，未来扩展有圆形五边形的时候需要不断修改code</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Triangle t)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Rectangle r)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt; 好的做法,abstract, 将来有扩展的时候，AreaCalculator不需要修改</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="L"><a href="#L" class="headerlink" title="L."></a>L.</h3><p>Liskov substitution principle 里氏替换原则</p>
<p>任何一个子类或派生类应该可以替换它们的基类或父类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateVolumn</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//矩形子类 -&gt; 违反了L原则， 矩形不能够计算体积，不能替换父类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//正方体子类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cube</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="I"><a href="#I" class="headerlink" title="I."></a>I.</h3><p>Interface segregation principle 接口分离原则</p>
<p>不应该强迫一个类实现它用不上的接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateVolumn</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//矩形子类 -&gt; 违反了I原则，我们强迫Rectangle去实现了calculateVolumn接口，违反了但是code还是work的，编译不会出问题，但是面试的时候这样会违反设计原则，面试扣分</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//正方体子类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cube</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="D"><a href="#D" class="headerlink" title="D"></a>D</h3><p>Dependency inversion principle 依赖反转原则 </p>
<p>抽象不应该依赖于具体实现，具体实现应该依赖于抽象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;  <span class="comment">//input是一个shape</span></span><br><span class="line">        <span class="keyword">if</span> (s == Triangle) &#123;  <span class="comment">//依赖于具体的code进行计算if Triangle else Rectangle</span></span><br><span class="line">            <span class="keyword">this</span>.result = b * h / <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s == Rectangle) &#123;</span><br><span class="line">            <span class="keyword">this</span>.result = l * w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果出现了圆形需要重复修改</span></span><br><span class="line"><span class="comment">//上面虽然满足了Open close但是基于D原则</span></span><br><span class="line"><span class="comment">//-&gt; 好的做法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Interface,具有计算Area的功能， interface并不能直接使用， 下面的class才是真正调用解决问题的部分</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Shape</span> </span>&#123;  <span class="comment">//接口是一个抽象的class</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Triangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b * h / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;  <span class="comment">//依赖于抽象接口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.result = s.getArea();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果我们未来有新的形状如圆形，可以写一个Circle implements Shape这个interface</span></span><br></pre></td></tr></table></figure>

<p>Abstract Class-Interface的区别(java的概念)</p>
<p>可以当成一个父类Abstract Class，对以一个子类只能拥有一个父类，extends一个之后不能重复extends</p>
<p>如果是interface可以同时implements很多接口</p>
<h2 id="面试中应该怎么做？"><a href="#面试中应该怎么做？" class="headerlink" title="面试中应该怎么做？"></a>面试中应该怎么做？</h2><p>Can you design an elevator system for this building?</p>
<h3 id="奔雷手-5C解题法"><a href="#奔雷手-5C解题法" class="headerlink" title="奔雷手 - 5C解题法"></a>奔雷手 - 5C解题法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">• Clarify</span><br><span class="line">• Core objects</span><br><span class="line">• Cases</span><br><span class="line">• Classes</span><br><span class="line">• Correctness</span><br></pre></td></tr></table></figure>

<h3 id="Clarify"><a href="#Clarify" class="headerlink" title="Clarify"></a>Clarify</h3><p>说人话：通过和面试官交流，去除题目中的歧义，确定答题范围 </p>
<p>Example: Glass of water ?</p>
<p>清楚歧义，确定对方意图与需求。</p>
<ul>
<li>What</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 针对题目中的关键字来提问，帮助自己更好的确定答题范围。 大多数的关键字为名词，通过名词的属性来考虑</span><br><span class="line"><span class="number">2</span>. Evaluator， Building？</span><br><span class="line"><span class="number">3</span>. 关键字<span class="number">1</span>：Elevator</span><br><span class="line">属性？</span><br><span class="line">可能需要考虑获取每辆电梯的目前承载重量，size?关门的时候检查有没有超重</span><br><span class="line">是否需要设计两种类，如果需要它们之间是什么关系？</span><br><span class="line">- 客梯和货梯有什么区别？一个类客梯Atrstairs 货梯GoodsElevator</span><br><span class="line">针对本题：所有电梯厢均为相同规格</span><br><span class="line"></span><br><span class="line">关键字<span class="number">2</span>：Building</span><br><span class="line">属性？</span><br><span class="line">楼有多大/楼有多高/楼内能容纳多少人？</span><br><span class="line">- 通用属性，对于题目帮助不大</span><br><span class="line"></span><br><span class="line">是否有多处能搭乘的电梯口？</span><br><span class="line">- 当收到一个搭乘电梯的请求时，有多少电梯能够响应？</span><br><span class="line">- 左边<span class="number">5</span>台响应request 右边<span class="number">5</span>台响应request</span><br><span class="line">针对本题：每层仅一处能搭乘，所有电梯均可响应</span><br></pre></td></tr></table></figure>

<ul>
<li>How</li>
</ul>
<p>针对问题主题的规则来提问，帮助自己明确解题方向。 </p>
<p>*此类问题没有标准答案，你可以描出一些解决方法，通过面试官的反应， 选择一个你比较有信心（简单）的方案</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">电梯有哪些规则？</span><br><span class="line">当按下按钮时，哪一台电梯会相应？</span><br><span class="line">可以先提几个方案，选一个自己觉得做起来最简单的方法跟面试官讨论</span><br><span class="line">- 优先级：同方向 &gt; 静止 &gt; 反向</span><br><span class="line">- 一半负责奇数楼层，一半负责偶数楼层</span><br><span class="line">- …</span><br><span class="line"></span><br><span class="line">当电梯在运行时，哪些按键可以响应？</span><br><span class="line">- 是否能按下反向的楼层</span><br><span class="line"></span><br><span class="line">规则：</span><br><span class="line">对于本题：同向 &gt; 静止 &gt; 反向，当运行时不能按下反向的楼层</span><br><span class="line">信息：电梯至少需要三种状态，并且要知道当前在哪一层</span><br></pre></td></tr></table></figure>

<ul>
<li>Who</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">设计由人主导 VS. 设计由系统主导？</span><br><span class="line">Optional, 通过思考题目当中是否有人的出现，来帮助确定解题范围</span><br><span class="line">*一般可以考虑人的角色以及人的属性，看是否题目需要</span><br><span class="line">最主要问清楚what和how里的问题，who可以视情况忽略，我们尽量希望淡化人在系统里的影响</span><br><span class="line"></span><br><span class="line">电梯系统如何获取每位乘客的</span><br><span class="line">重量？</span><br><span class="line">- Passenger class包含重量</span><br><span class="line">- 电梯能够自动感应当前重量</span><br><span class="line">对于本题：电梯能够自动获取当前重量，增加一个function获取重量</span><br></pre></td></tr></table></figure>

<h3 id="Core-objects"><a href="#Core-objects" class="headerlink" title="Core objects"></a>Core objects</h3><p>说人话：确定题目所涉及的类，以及类之间的映射关系 </p>
<p>什么是Core Object 为了完成设计，需要哪些类？</p>
<p>为什么要定义Core Object ? </p>
<ul>
<li>这是和面试官初步的纸面contract </li>
<li>承上启下，来自于Clarify的结果，成为Use case的依据 </li>
<li>为画类图打下基础</li>
</ul>
<p>如何定义Core Object ? </p>
<ul>
<li>以一个Object作为基础，线性思考 ,ElevatorSystem</li>
<li>确定Objects之间的映射关系</li>
<li>考虑input，output </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Request-&gt;ElevatorSystem(- List&lt;Elevator&gt; elevators)-&gt;Elevator-&gt;ElevatorButton</span><br></pre></td></tr></table></figure>

<h3 id="Good-Practice1-Access-modifier"><a href="#Good-Practice1-Access-modifier" class="headerlink" title="Good Practice1 - Access modifier"></a>Good Practice1 - Access modifier</h3><p>Access modifier </p>
<ul>
<li>package </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span></span><br><span class="line">如果什么都不声明，变量和函数都是<span class="keyword">package</span> level visible的，在同一个<span class="keyword">package</span>内的其他类都可以访问</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">String input = <span class="string">"test"</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printInput</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	System.out.println(input);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在类图中，避免使用default的package level access</span></span><br><span class="line"><span class="comment">//建议不要再ood里使用package access modifier</span></span><br></pre></td></tr></table></figure>

<ul>
<li>public </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span></span><br><span class="line">如果声明为<span class="keyword">public</span>，变量和函数都是<span class="keyword">public</span> level visible的，任何其他的类都可以访问</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在类图中，用”+”表示一个变量或者函数为public</span></span><br></pre></td></tr></table></figure>

<ul>
<li>private </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span></span><br><span class="line">如果声明为<span class="keyword">private</span>，变量和函数都是<span class="class"><span class="keyword">class</span> <span class="title">level</span> <span class="title">visible</span>的，这是所有<span class="title">access</span> <span class="title">modifier</span>中限制最</span></span><br><span class="line"><span class="class">多的一个。仅有定义这些变量和函数的类自己可以访问。</span></span><br><span class="line"><span class="class"><span class="title">private</span>也是<span class="title">OOD</span>当中实现封装的重要手段</span></span><br><span class="line"><span class="class"></span></span><br><span class="line">Example:</span><br><span class="line"><span class="function"><span class="keyword">private</span> class <span class="title">AreaCalculator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Logger log;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在类图中，用”-”表示一个变量或者函数为private</span></span><br></pre></td></tr></table></figure>

<ul>
<li>protected</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span></span><br><span class="line">如果声明为<span class="keyword">protected</span>，变量和函数在能被定义他们的类访问的基础上，还能够被该类的子类</span><br><span class="line">所访问。</span><br><span class="line"><span class="keyword">protected</span>也是OOD当中实现继承的重要手段。</span><br><span class="line">Example:</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AudioPlayer</span> </span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> Speaker speaker;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamingAudioPlayer</span> <span class="keyword">extends</span> <span class="title">AudioPlayer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openSperker</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		speaker.open();  <span class="comment">//可以使用父类的.open()</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在类图中，用”#”表示一个变量或者函数为protected</span></span><br></pre></td></tr></table></figure>

<h3 id="Cases"><a href="#Cases" class="headerlink" title="Cases"></a>Cases</h3><p>说人话：确定题目中所需要实现的场景和功能 </p>
<p>为什么要写Use cases ? </p>
<p>这是你和面试官白纸黑字达成的第二份共识，把你将要实现的功能列在白板上 </p>
<p>帮助你在解题过程中，理清条例，一个一个Case实现 </p>
<p>作为检查的标准</p>
<p>怎么写Use cases ? </p>
<p>利用定义的Core Object, 列举出每个Object对应产生的use case. </p>
<p>每个use case只需要先用一句简单的话来描述即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//use cases</span></span><br><span class="line"><span class="comment">//分成一个个core Object来找use case</span></span><br><span class="line"><span class="comment">//可以写完问问面试官，有没有哪些我没想到的</span></span><br><span class="line"><span class="comment">//把类图画出来设计基本上就完成了</span></span><br><span class="line"><span class="comment">//如果45min面试，你30min就把类图画完了，那么面试官可能胡让你实现里面某个feature</span></span><br><span class="line">Elevator</span><br><span class="line">- Take external request</span><br><span class="line">- Take internal request</span><br><span class="line">- Open gate</span><br><span class="line">- Close gate</span><br><span class="line">- Check weight</span><br><span class="line"></span><br><span class="line">ElevatorButton</span><br><span class="line">- Press button</span><br></pre></td></tr></table></figure>

<h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><p>说人话：通过类图的方式，具体填充题目中涉及的类 </p>
<p>Class diagram (类图)</p>
<table>
<thead>
<tr>
<th>Class Name</th>
</tr>
</thead>
<tbody><tr>
<td>Attributes</td>
</tr>
<tr>
<td>Functions</td>
</tr>
</tbody></table>
<p>为什么要画类图？ </p>
<p>可交付，Minimal Viable Product, 可以上交给別的考官看</p>
<p>节省时间，不容易在Coding上挣扎 </p>
<p>建立在Use case上，和之前的步骤层层递进，条例清晰，便于交流和修改</p>
<p>如果时间允许/面试官要求，便于转化成Code</p>
<p>怎么画类图？ </p>
<p>遍历你所列出的use cases - 对于每一个use case，更加详细的描述这个use case在做什么事情,填充到Object里 （例如：take external request -&gt; ElevatorSystem takes an external request, and decide to push this request to an appropriate elevator）</p>
<p>针对这个描述，在已有的Core objects里填充进所需要的信息</p>
<p>Use case: Handle request </p>
<p><strong>ElevatorSystem</strong> takes an <strong>external request</strong>, and decide to push this request to an appropriate <strong>elevator</strong></p>
<h3 id="Good-practice2-Exception"><a href="#Good-practice2-Exception" class="headerlink" title="Good practice2  - Exception"></a>Good practice2  - Exception</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Good practice</span><br><span class="line">如何知道一个函数，是否成功完成任务？</span><br><span class="line">-  Use <span class="keyword">boolean</span> instead of <span class="keyword">void</span> 成功的话返回<span class="keyword">true</span>, 否则返回<span class="keyword">false</span></span><br><span class="line"></span><br><span class="line">如何知道是什么地方出错？</span><br><span class="line">- Use exceptions  eg. InvalidExternalRequestException</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Challenge</span><br><span class="line"></span><br><span class="line">如果电梯目前在1L，有人按下了5L向上，之后又有人按下了3L向上， 电梯会怎样行动？ </span><br><span class="line"></span><br><span class="line">stops will be &#123;5,3&#125; Expected is: &#123;3,5&#125; </span><br><span class="line"></span><br><span class="line">Solution1: sort stops every time we add to it.</span><br><span class="line"></span><br><span class="line">Solution2: use priority queue instead of list</span><br><span class="line"></span><br><span class="line">如果电梯目前在1L，有人按下了5L向上，之后又有人按下了3L向上，</span><br><span class="line">紧接着这台电梯又被分配了一个2L向下的request。这台电梯会如何行</span><br><span class="line">动？</span><br><span class="line">stops will be &#123;2，3，5&#125;</span><br><span class="line">Expected is: &#123;3，5，2&#125;</span><br><span class="line">Solution: keep 2 lists for different direction</span><br><span class="line"></span><br><span class="line">如何判断一个Internal request 是否为Valid?</span><br><span class="line">Solution:</span><br><span class="line">If elevator going up</span><br><span class="line">requested level lower than current level</span><br><span class="line">invalid</span><br><span class="line">If elevator going down</span><br><span class="line">requested level higher than current level</span><br><span class="line">invalid</span><br></pre></td></tr></table></figure>

<p>Use case: Take external request </p>
<p>An elevator takes an external request, inserts in its stop list.</p>
<p>Use case: Open gate </p>
<p>An elevator reaches the destination level, open gate</p>
<p>Use case: Close gate </p>
<p>An elevator checks if overweight; close the door; then check stops corresponds to current status; if no stops left, check the reserve direction stops; change status to reserve direction or idle.</p>
<p>Use case: check weight </p>
<p>An elevator checks its current weight and compare with limit to see if overweight</p>
<p>Use case: press button </p>
<p>A button inside elevator is pressed, will generate an internal request and send to the elevator.</p>
<p>类图，先写出Core Object，列出Use cases</p>
<p>然后按照，Use cases根据自己的节奏完善类图，class 里的各种function</p>
<h3 id="Correctness"><a href="#Correctness" class="headerlink" title="Correctness"></a>Correctness</h3><p>说人话：检查自己的设计，是否满足关键点</p>
<p>从以下几方面检查： </p>
<ol>
<li><p>Validate use cases (检查是否支持所有的use case) </p>
</li>
<li><p>Follow good practice (面试当中的加分项，展现一个程序员的经验)  </p>
</li>
<li><p>S.O.L.I.D </p>
</li>
<li><p>Design pattern</p>
</li>
</ol>
<h3 id="Good-Practice-继承"><a href="#Good-Practice-继承" class="headerlink" title="Good Practice  - 继承"></a>Good Practice  - 继承</h3><p>继承 检查你的设计中，是否有重复的类，可以采用继承的方式来表现</p>
<p>Challenge</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">How <span class="keyword">do</span> you handle an external request?</span><br><span class="line">• What <span class="keyword">if</span> I want to apply different ways to handle external requests</span><br><span class="line">during different time of a day?</span><br><span class="line">• Can you implement it in code?</span><br><span class="line"></span><br><span class="line">How <span class="keyword">do</span> you handle an external request?</span><br><span class="line">如我们最早和面试官讨论的结果：</span><br><span class="line">同方向 &gt; 静止 &gt; 反向</span><br><span class="line"></span><br><span class="line">What <span class="keyword">if</span> I want to apply different ways to handle external requests</span><br><span class="line">during different time of a day?</span><br><span class="line">• Solution <span class="number">1</span>: <span class="keyword">if</span> - <span class="keyword">else</span> -&gt; 违反了O原则</span><br><span class="line">更好的做法：Solution <span class="number">2</span>: Strategy design pattern</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/11/15/AlgoTogether/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/15/AlgoTogether/" class="post-title-link" itemprop="url">AlgoTogether & Interview.io</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-15 13:14:09" itemprop="dateCreated datePublished" datetime="2020-11-15T13:14:09+09:00">2020-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-20 16:13:03" itemprop="dateModified" datetime="2021-01-20T16:13:03+09:00">2021-01-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Algotogether"><a href="#Algotogether" class="headerlink" title="Algotogether"></a>Algotogether</h1><h2 id="Week-1-Theme-Complex-Coding"><a href="#Week-1-Theme-Complex-Coding" class="headerlink" title="Week 1 Theme: Complex Coding"></a>Week 1 Theme: Complex Coding</h2><p>You should aim for these goals when working through these problems:</p>
<ol>
<li>Some languages could solve some problems with internal libraries/packages, do NOT use them.</li>
<li>The problems don’t require advance algorithm/data structure, but they either have lots of corner cases or require good coding skills, please try to pass them with 1st attempt.</li>
</ol>
<h3 id="Technique"><a href="#Technique" class="headerlink" title="Technique"></a>Technique</h3><p>Asking <strong>clarifying questions</strong></p>
<ol>
<li>Are they integers?</li>
<li>Is the solution guaranteed?</li>
<li>What if multiple solutions?</li>
<li>Can I assume xxx?</li>
</ol>
<p>Communication with <strong>logical thinking</strong></p>
<ol>
<li>If it’s okay to return any random solution when there are multiple solutions.</li>
<li>Don’t let your interviewer in the dark.</li>
<li>You can talk a naive solution if you can not come up with advanced approach.</li>
</ol>
<p>Briefly analyze the <strong>time/space complexity</strong></p>
<ol>
<li>I think time will be O(n) since xxx</li>
</ol>
<p>Do some <strong>error check</strong> before code</p>
<ol>
<li>Empty input, duplicate nums, special cases</li>
</ol>
<h3 id="Valid-palindrome-presentation"><a href="#Valid-palindrome-presentation" class="headerlink" title="Valid palindrome presentation:"></a>Valid palindrome presentation:</h3><ol>
<li><p><strong><code>Use example</code></strong>,  pseudocode to explain you idea. </p>
<p>Step1, Step2, Step3 make it your language more organized</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"a b;. ab a"</span></span><br><span class="line">-         -</span><br><span class="line">left     right</span><br></pre></td></tr></table></figure>
</li>
<li><p>Initial each <strong><code>variable in a different line</code></strong>;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> right = s.length() - <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<strong><code>注释//xx</code></strong>让code更清楚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (left &lt;= right) <span class="comment">//traverse the string both from start and end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>If else branch, pay attention</p>
</li>
<li><p><strong><code>Ask interviewer.</code></strong> </p>
<p>Am I clear, Are you following? Is that make sense to you? Should I make more explanation about it?</p>
</li>
</ol>
<h3 id="Decode-String-presentation"><a href="#Decode-String-presentation" class="headerlink" title="Decode String presentation:"></a>Decode String presentation:</h3><ol>
<li><strong><code>Write branch first, then implement</code></strong></li>
<li>Use demo make your way more Can you teach your grandmother to write this code?</li>
<li>Show the two stack work.</li>
<li>Don’t be nervous.</li>
<li>I know StringBuilder is more efficient. Do you want me to make this improvement?</li>
</ol>
<h3 id="Rotate-Image-presentation"><a href="#Rotate-Image-presentation" class="headerlink" title="Rotate Image presentation:"></a>Rotate Image presentation:</h3><ol>
<li>Explain transpose.</li>
<li>Utilize demo.</li>
</ol>
<h3 id="Tic-Tac-Toe-presentation"><a href="#Tic-Tac-Toe-presentation" class="headerlink" title="Tic-Tac-Toe presentation:"></a>Tic-Tac-Toe presentation:</h3><ol>
<li>Remind X is always first.</li>
<li>Explain in each code block.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validTicTacToe</span><span class="params">(String[] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Convert string board into matrix</span></span><br><span class="line">    <span class="keyword">int</span> turns = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] rows = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span>[] cols = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span> diag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> antidiag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span> xwin = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">boolean</span> owin = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//compute the eight lines</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i].charAt(j) == <span class="string">'X'</span>) &#123;</span><br><span class="line">                turns++;</span><br><span class="line">                rows[i]++;</span><br><span class="line">                cols[j]++;</span><br><span class="line">                <span class="keyword">if</span> (i == j) diag++;</span><br><span class="line">                <span class="keyword">if</span> (i + j == <span class="number">2</span>) antidiag++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (board[i].charAt(j) == <span class="string">'O'</span>) &#123;</span><br><span class="line">                turns--;</span><br><span class="line">                rows[i]--;</span><br><span class="line">                cols[j]--;</span><br><span class="line">                <span class="keyword">if</span> (i == j) diag--;</span><br><span class="line">                <span class="keyword">if</span> (i + j == <span class="number">2</span>) antidiag--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//determine who win</span></span><br><span class="line">    xwin = rows[<span class="number">0</span>] == <span class="number">3</span> || rows[<span class="number">1</span>] == <span class="number">3</span> || rows[<span class="number">2</span>] == <span class="number">3</span> || cols[<span class="number">0</span>] == <span class="number">3</span> || cols[<span class="number">1</span>] == <span class="number">3</span> || cols[<span class="number">2</span>] == <span class="number">3</span> || diag == <span class="number">3</span> || antidiag == <span class="number">3</span>;</span><br><span class="line">    owin = rows[<span class="number">0</span>] == -<span class="number">3</span> || rows[<span class="number">1</span>] == -<span class="number">3</span> || rows[<span class="number">2</span>] == -<span class="number">3</span> || cols[<span class="number">0</span>] == -<span class="number">3</span> || cols[<span class="number">1</span>] == -<span class="number">3</span> || cols[<span class="number">2</span>] == -<span class="number">3</span> || diag == -<span class="number">3</span> || antidiag == -<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//X always move first</span></span><br><span class="line">    <span class="keyword">if</span> (xwin &amp;&amp; turns == <span class="number">0</span> || owin &amp;&amp; turns == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> (turns == <span class="number">0</span> || turns == <span class="number">1</span>) &amp;&amp; (!xwin || !owin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Invert-Binary-Tree-Mock-Interview"><a href="#Invert-Binary-Tree-Mock-Interview" class="headerlink" title="Invert Binary Tree Mock Interview"></a>Invert Binary Tree Mock Interview</h3><ol>
<li>Never say you are not familar with DFS/BFS(or xxx)</li>
</ol>
<h3 id="Binary-Tree-Maximum-Path-Sum-Mock-Interview"><a href="#Binary-Tree-Maximum-Path-Sum-Mock-Interview" class="headerlink" title="Binary Tree Maximum Path Sum Mock Interview"></a>Binary Tree Maximum Path Sum Mock Interview</h3><ol>
<li>先沟通思路，Interviewer said direction is right, then start code.</li>
<li>Tell me what is whole path and single path? Don’t have gap in communication.</li>
</ol>
<h2 id="Week-2-Theme-Binary-Search⭐"><a href="#Week-2-Theme-Binary-Search⭐" class="headerlink" title="Week 2 Theme: Binary Search⭐"></a>Week 2 Theme: Binary Search⭐</h2><p>For most algorithms you have learned from school/programming bootcamp, they probably won’t be used in real-world projects until you touch really low-level infra. Binary Search is considered a basic algorithm that might be required in a real-world project, so it’s frequently asked in interviews.</p>
<p>Some of the problems here can be solved without binary search (explicitly mentioned in the problem statement), but it’s recommended to solve them with binary search which could significantly improve your programming skill.</p>
<h3 id="Technique-for-interview"><a href="#Technique-for-interview" class="headerlink" title="Technique  for interview"></a>Technique  for interview</h3><p>Problem solving</p>
<ol>
<li>Every company have their own scoring system.</li>
<li>Don’t need to get fulll score to apss interview.</li>
<li>Clean non optimal solution &gt; Mess/Half down optimal solution</li>
<li>Coding style is not major factor, but it helps</li>
<li>Go through approach before coding</li>
</ol>
<p>Communication</p>
<ol>
<li><p>English is important, but not critical</p>
</li>
<li><p>Use all tools to help interviewers understand</p>
<ul>
<li>Whiteboard</li>
<li>Pseudo Code</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line"><span class="keyword">do</span> xx</span><br><span class="line">retrun xx</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Walk Through some examples, test case</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>When present your solution<ul>
<li>Talk about high level idea before dive into details implementations</li>
<li>Focus on most complicate part</li>
<li>For DP, how demo status transition works before into code</li>
</ul>
</li>
</ol>
<p>Follow up</p>
<ol>
<li>Fine tuning code (want you thinking corner cases, minor mistakes, typo)</li>
<li>Bonus(if you answer correct, hire -&gt; strong hire)</li>
<li>More challenge</li>
<li>Push for better solution</li>
<li>Redirection the interview to non coding area</li>
</ol>
<h3 id="Presentation"><a href="#Presentation" class="headerlink" title="Presentation"></a>Presentation</h3><p><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">Search in Rotated Sorted Array</a></p>
<p><a href="https://leetcode.com/problems/koko-eating-bananas/" target="_blank" rel="noopener">Koko Eating Bananas</a></p>
<h2 id="Week-3-Theme-BFS-amp-DFS⭐"><a href="#Week-3-Theme-BFS-amp-DFS⭐" class="headerlink" title="Week 3 Theme: BFS &amp; DFS⭐"></a>Week 3 Theme: BFS &amp; DFS⭐</h2><p>BFS and DFS are considered fundamental in programming skills. Even they are almost not being used in real-world problems, many companies still using them in most of their interviews.</p>
<p>According to the interview results, when interviewers ask BFS / DFS problems, more than 60% of candidates fail with two main reasons:</p>
<ol>
<li>Not able to figure out BFS / DFS solution</li>
<li>Not able to code up the solution</li>
</ol>
<p>Many candidates tend to use DFS over BFS, especially for new grads, but sometimes choosing the correct searching algorithm will significantly improve the performance.</p>
<p>In general, it should be obvious to tell if a particular problem could be solved by BFS or DFS. However, it’s possible that one problem could be solved by both algorithms. In this case, it’s better to evaluate the pros and cons of them first.</p>
<h3 id="Technique-1"><a href="#Technique-1" class="headerlink" title="Technique"></a>Technique</h3><p>The traverse order matter</p>
<ol>
<li>A node depends on all shallower nodes:<ul>
<li>BFS</li>
</ul>
</li>
<li>A node depends on all descendant nodes:<ul>
<li>DFS</li>
</ul>
</li>
<li>More complex dependency<ul>
<li>BFS and DFS that dependency tree/graph</li>
</ul>
</li>
</ol>
<p>Quiz</p>
<ol>
<li>Shortest path from one leaf to another leaf<ul>
<li>DFS</li>
<li>The shortest path goes up from leaf X through a node Y and then down to leaf Z</li>
<li>Path Y to X and path Y to Z must be the two shorest leaf path from Y</li>
<li>The shorest leaf path from Y can be calculated fromthe shorest leaf from Y’s child nodes.</li>
</ul>
</li>
</ol>
<p>DFS</p>
<p>Its recursion form is easy to remember and write. 3 steps in a  recursive DFS function:</p>
<ol>
<li>Take the necessary informations from child nodes.</li>
<li>Compute current node based on current node’s information and those from the child nodes.</li>
<li>Return the computation result in the same data stucture.</li>
</ol>
<p>Example:</p>
<ol>
<li>Sum of all node values</li>
<li>Longest path to leaf</li>
</ol>
<p>DFS Review</p>
<ol>
<li>Determine how we are going to compute the result for the current node.</li>
<li>Identify what information we ned from child nodes for computation.</li>
<li>Return the similar information after computing the current node.</li>
<li>Chect if leaf node returns the correct information.</li>
</ol>
<p>BFS</p>
<p>It’s a little bit harder to remoember and write than DFS. However, it only requires 3 steps just like DFS.</p>
<ol>
<li>Enqueue the root node</li>
<li>Dequeue a node and enqueue all its child nodes.</li>
<li>Repeat indefinitely until the queue is empty.</li>
</ol>
<p>Example:</p>
<ol>
<li><p>Leaf closest to root</p>
<ul>
<li>check it it’s a leaf node</li>
<li>stop if it’s a leaf node</li>
</ul>
</li>
<li><p>Shortest path from point A to point B, can be map in matrix or graph</p>
<ul>
<li>start at point A  as step 1, consider it as root</li>
<li>identify all adjacent points as step 2 candidates, like child node</li>
<li>repeat that for step 3, 4</li>
<li>show when point B is identified as candidate of step X</li>
</ul>
</li>
<li><p>Shortest path from state A to state B</p>
<p>​    More variations:</p>
<ul>
<li>A game started with state A. Can it get state B? how to get state B in least amount of steps?</li>
<li>A game started with state A. Player X and player Y play against each other. Can it get to state B(eg.X winning or Y winning)?</li>
</ul>
</li>
</ol>
<p>BFS Review</p>
<ol>
<li>BFS needs a queue.</li>
<li>The problem might not mention tree or graph.</li>
<li>The problem might involve state transitions.</li>
<li>Memorize visited nodes if it’s a graph.</li>
</ol>
<h3 id="Sliding-Puzzle-presentation"><a href="#Sliding-Puzzle-presentation" class="headerlink" title="Sliding Puzzle presentation"></a>Sliding Puzzle presentation</h3><ol>
<li>Bad : Too many typos. Time complexity, space complexity analyze.</li>
<li>Flow of code is good. Framework first and then implement detail code.  </li>
<li>Explain why you choose this data structure, why not other array, etc. Motavitation. </li>
<li>Use examples.</li>
<li>Line 30 : Comment visualize the current data is great //123450 -&gt; x,y</li>
<li>Explain how you achieve BFS’s level search.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//initial varaible</span></span><br><span class="line">    <span class="keyword">int</span> row = board.length;</span><br><span class="line">    <span class="keyword">int</span> col = board[<span class="number">0</span>].length;</span><br><span class="line">    String start = <span class="string">""</span>;</span><br><span class="line">    String goal = <span class="string">"123450"</span>;</span><br><span class="line">    <span class="comment">//initial start = xxxxx</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            start += board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[][] directiosn = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(start);</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//bfs</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i  =<span class="number">0</span>; i &lt; size; i++) &#123;  <span class="comment">//++</span></span><br><span class="line">            String curState = queue.poll(); <span class="comment">//++</span></span><br><span class="line">            <span class="keyword">if</span> (s == goal) &#123;</span><br><span class="line">                <span class="keyword">return</span> cnt;  <span class="comment">//++</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//123450 -&gt; x,y</span></span><br><span class="line">            <span class="keyword">int</span> pos = s.indexOf(<span class="string">"0"</span>);</span><br><span class="line">            <span class="keyword">int</span> x = pos % col;</span><br><span class="line">            <span class="keyword">int</span> y = pos / col;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = x + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = y + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> nextPos = nextX * col + nextY;</span><br><span class="line">                <span class="comment">// 0 -&gt; xxxxx</span></span><br><span class="line">                String newString = swap(s, pos, nextPos);</span><br><span class="line">                <span class="keyword">if</span> (visited.contains(newString)) <span class="keyword">continue</span>;</span><br><span class="line">                visited.add(newString);</span><br><span class="line">                queue.add(newString);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">swap</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">char</span> temp = chars[i];</span><br><span class="line">    chars[i] = chars[j];</span><br><span class="line">    chars[j] = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Stirng(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Week-4-amp-5-Theme-Data-Structure-I-Basic-Data-Structure-II-advanced"><a href="#Week-4-amp-5-Theme-Data-Structure-I-Basic-Data-Structure-II-advanced" class="headerlink" title="Week 4&amp;5 Theme: Data Structure I (Basic) Data Structure II (advanced)"></a>Week 4&amp;5 Theme: Data Structure I (Basic) Data Structure II (advanced)</h2><h3 id="Technique-2"><a href="#Technique-2" class="headerlink" title="Technique"></a>Technique</h3><p>There are lots of Data Structures we have learned from school. Some of them are considered as basic since</p>
<ol>
<li>They are easier to understand, and</li>
<li>They are used more often in real-world projects.</li>
</ol>
<p>For example, Array, Queue, Stack, Heap, Tree, and Hash.</p>
<p>Some others are considered as advance, for example, Interval Tree, Trie, BST, Graph, etc.</p>
<p>For this week, we will focus on the basic data structures, and talk about advanced data structure next week.</p>
<p>For most of the interview questions, they can be solved by basic data structures. However, sometimes we can’t solve the problem by applying a single data structures, optimization is required. For example:</p>
<ol>
<li>Combine two different data structures together, or</li>
<li>Apply other algorithms on top of it, e.g. Greedy, Sorting, etc.</li>
</ol>
<p>Advanced Data Structure includes a lot of things, but only a few of them are asked frequently in the interview, they are</p>
<ol>
<li>Binary Search Tree</li>
<li>Graph (Shortest Path, Minimal Spanning Tree, Topological Sorting)</li>
<li>Trie</li>
<li>Disjoint Set (aka Union Find Set)</li>
<li>Binary Indexed Tree</li>
<li>Interval Tree (aka Segment Tree, together with Line Sweeping)</li>
</ol>
<p>The above order reflects how often these problems are being asked in the actual interview. Some of these data structures require a <em>template</em>, otherwise, most candidates won’t able to code it up within 45 minutes, which makes it less likely to be asked in interviews.</p>
<p>However, we still have some records that some companies ask candidates these data structures, e.g</p>
<ol>
<li>Uber, ask Line Sweeping</li>
<li>Google, ask Binary Indexed Tree and Disjoint Set</li>
<li>Facebook and Airbnb, ask Interval Tree</li>
</ol>
<p>Usually, when the interviewer asks these kinds of problems, the actual data structure might not be the one they are expecting. Try to start with a simple data structure before going into the complicate ones.</p>
<p>For example, Binary Indexed Tree is considered as a simple version of Interval Tree; some features of Trie/Disjoint Set could be achieved by using a regular tree/graph, with higher time complexity.</p>
<p>When the interviewer asks you these questions, I would recommend:</p>
<ol>
<li>Explicitly ask the interview what are they looking for. You could provide two solutions, a) complicate data structure but lower time/space complexity, and b) simple data structure with better readability but higher time/space complexity. Talk to the interviewer to see what they are looking for.</li>
<li>If you decide to go with the complicate ones, clarify with the interviewer if they want you to implement the actual data structure. Facebook is allowing you to assume the existence of data structure, but Google / Airbnb won’t allow that.</li>
<li>If you have to go with the complicate ones, make sure you think through the problem before start coding. If your original solution doesn’t work, you might not have enough to rewrite your code.</li>
</ol>
<p>Data structures</p>
<ol>
<li>Data operations<ul>
<li>store</li>
<li>query</li>
<li>update</li>
</ul>
</li>
<li>Core metrics<ul>
<li>Functionality</li>
<li>Time/Space complexity</li>
<li>Coding complexity</li>
</ul>
</li>
<li>Basic data structures<ul>
<li>Array</li>
<li>Stack &amp; Queue<ul>
<li>PriorityQueue(Heap)</li>
</ul>
</li>
<li>Hash</li>
</ul>
</li>
<li>Advanced data structures<ul>
<li>Tree<ul>
<li>Binary search tree<ul>
<li>Balance tree</li>
</ul>
</li>
<li>Trie</li>
<li>Disjoint Set</li>
<li>Binary Indexed Tree/Interval Tree</li>
</ul>
</li>
<li>Graph<ul>
<li>Directional Graph<ul>
<li>Graph DP</li>
<li>Topological Sorting</li>
<li>Shortest Path</li>
</ul>
</li>
<li>Bidirectional Graph<ul>
<li>Minimal Spanning Tree</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Interview<ul>
<li>Mostly require basic data structures</li>
<li>Might require combing data structures/algorithms<ul>
<li>Stack/Queue</li>
<li>Sorting</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="Basic-data-structures"><a href="#Basic-data-structures" class="headerlink" title="Basic data structures"></a>Basic data structures</h3><h4 id="Stack-and-Queue"><a href="#Stack-and-Queue" class="headerlink" title="Stack and Queue"></a>Stack and Queue</h4><ul>
<li>Tracking order</li>
<li>Stack, FILO</li>
<li>Queue, FIFO</li>
</ul>
<ol>
<li>Implement Stack with Queues</li>
<li>Implement Queue with Stacks</li>
<li>Reverse Polish Notation</li>
</ol>
<h4 id="Priority-Queue-Heap"><a href="#Priority-Queue-Heap" class="headerlink" title="Priority Queue(Heap)"></a>Priority Queue(Heap)</h4><ul>
<li>Tree strcture</li>
<li>Parent node is minimal(or maximal) of its subtree</li>
<li>Tracking running minimal or maximal </li>
</ul>
<ol>
<li>Medium in Array</li>
<li>Shorest Path</li>
</ol>
<h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h4><ul>
<li>Converting input objects into keys</li>
<li>Tracking info of keys<ul>
<li>Memorize Recursion(DP)</li>
<li>Visited array in BFS</li>
</ul>
</li>
<li>HashMap(Java/Cpp) or dict(python)</li>
</ul>
<ol>
<li>Implement hash function(start up company)<ul>
<li>Rabin-Karp Algorithm</li>
</ul>
</li>
<li>Comparing strings</li>
</ol>
<h3 id="Advanced-data-structures"><a href="#Advanced-data-structures" class="headerlink" title="Advanced data structures"></a>Advanced data structures</h3><ol>
<li>Many Advanced data structures</li>
<li>only handfulof them are asked</li>
<li>Choose data structure wisely<ul>
<li>Clarity requirment(implement? or assume them exist)</li>
<li>Explain idea</li>
<li>Set exception</li>
</ul>
</li>
<li>Use well-known naming<ul>
<li>Interval Tree -&gt; Segment Tree</li>
<li>Disjoint Set -&gt; Union Find Set</li>
</ul>
</li>
</ol>
<h4 id="Binary-search-tree"><a href="#Binary-search-tree" class="headerlink" title="Binary search tree"></a>Binary search tree</h4><ol>
<li>Preorder/Inorder/Postorder Search<ul>
<li>Given two of the orders, figure out the rest</li>
</ul>
</li>
<li>Balance Tree<ul>
<li>Handle BST degeneration</li>
<li>More complicated</li>
<li>Recommend to use Map/Set/dict</li>
</ul>
</li>
</ol>
<h4 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h4><ol>
<li>Prefix tree</li>
<li>Store multiple strings in O(nm) space<ul>
<li>n is size of alphabet</li>
<li>m is lengh of strings</li>
</ul>
</li>
<li>Query string in O(m) sapce</li>
</ol>
<h4 id="Disjoint-Set"><a href="#Disjoint-Set" class="headerlink" title="Disjoint Set"></a>Disjoint Set</h4><ol>
<li>Given multiples sets<ul>
<li>Query ID of set(find)</li>
<li>Merge multiple sets(union)</li>
</ul>
</li>
<li>Query Equations</li>
</ol>
<h4 id="Binary-Indexed-Tree"><a href="#Binary-Indexed-Tree" class="headerlink" title="Binary Indexed Tree"></a>Binary Indexed Tree</h4><ol>
<li>Add value into array[index]</li>
<li>Replace array[index] with value</li>
<li>Sum array[index1 : idnex2]</li>
</ol>
<h4 id="Interval-Tree"><a href="#Interval-Tree" class="headerlink" title="Interval Tree"></a>Interval Tree</h4><ol>
<li>Replace array[idnex1 : idnex2] with value</li>
<li>Query sum(array[index1 : index2])</li>
</ol>
<h4 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h4><ol>
<li>Topological sorting(Run BFS in directional graph)<ul>
<li>Alien Dictionary</li>
</ul>
</li>
<li>Shorest Path<ul>
<li>Dijkstra</li>
</ul>
</li>
<li>Minimal Spanning Tree<ul>
<li>Prim</li>
<li>Kruskal</li>
</ul>
</li>
</ol>
<h3 id="Presentation-1"><a href="#Presentation-1" class="headerlink" title="Presentation"></a>Presentation</h3><h2 id="Week-6-Theme-Math"><a href="#Week-6-Theme-Math" class="headerlink" title="Week 6 Theme: Math"></a>Week 6 Theme: Math</h2><p>Math actually has many different kinds of problems, they are widely used in interviews, especially for startups.</p>
<p>Some typical topics being asked are:</p>
<ol>
<li>GCD / LCM</li>
<li>Prime numbers</li>
<li>Pigeonhole principle</li>
<li>Geometry</li>
<li>Bit Manipulation</li>
<li>Randomization</li>
<li>Brainteaser</li>
</ol>
<p>On top of basic mathematical theories, some other algorithms might be required to solve the problems, e.g</p>
<ol>
<li>Dynamic Programming</li>
<li>DFS / Recursion</li>
<li>Sorting</li>
</ol>
<h3 id="Technique-3"><a href="#Technique-3" class="headerlink" title="Technique"></a>Technique</h3><ol>
<li>Prime<ul>
<li>Find prime numbers in O(n) space/time</li>
<li>Find prime factors in average O(log n) time</li>
</ul>
</li>
<li>GCD/LCM<ul>
<li>Find GCD /LCM in O(log n) time, O(1) space</li>
</ul>
</li>
<li>Geometry<ul>
<li>Check if two segments intersect into each other</li>
<li>Convex Hull</li>
</ul>
</li>
<li>Bit<ul>
<li>Calculate +-*/ with bitwise operation</li>
<li>Zipping bits into integer</li>
</ul>
</li>
<li>Random<ul>
<li>Shuffle Array</li>
<li>Given a particular randomizer, build a new one on top of<ul>
<li>Given randomizer from [0, 1], build one from [0, 100]</li>
</ul>
</li>
</ul>
</li>
<li>Brain Teasers<ul>
<li>Nim</li>
<li>Triangle<ul>
<li>Given a list of integers, find out how many trios could form a triangle</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="Week-7-Theme-Dynamic-Programming⭐"><a href="#Week-7-Theme-Dynamic-Programming⭐" class="headerlink" title="Week 7 Theme: Dynamic Programming⭐"></a>Week 7 Theme: Dynamic Programming⭐</h2><h1 id="Mock"><a href="#Mock" class="headerlink" title="Mock"></a>Mock</h1><h2 id="628-Maximum-Product-of-Three-Numbers💜"><a href="#628-Maximum-Product-of-Three-Numbers💜" class="headerlink" title="628. Maximum Product of Three Numbers💜"></a><a href="https://leetcode.com/problems/maximum-product-of-three-numbers/description/" target="_blank" rel="noopener">628. Maximum Product of Three Numbers</a>💜</h2><h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">Output: <span class="number">24</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumProduct</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max1 = Integer.MIN_VALUE, max2 = Integer.MIN_VALUE, max3 = Integer.MIN_VALUE, min1 = Integer.MAX_VALUE, min2 = Integer.MAX_VALUE;</span><br><span class="line">    <span class="comment">//Find the largest 3 numbers &amp;&amp; 2 minimum number(because input can be negetive -9 * -8= 72)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num &gt; max1) &#123;</span><br><span class="line">            max3 = max2;</span><br><span class="line">            max2 = max1;</span><br><span class="line">            max1 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; max2) &#123;</span><br><span class="line">            max3 = max2;</span><br><span class="line">            max2 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; max3) &#123;</span><br><span class="line">            max3 = num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (num &lt; min1) &#123;</span><br><span class="line">            min2 = min1;</span><br><span class="line">            min1 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &lt; min2) &#123;</span><br><span class="line">            min2 = num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(max1*max2*max3, max1*min1*min2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Follow-up"><a href="#Follow-up" class="headerlink" title="Follow up"></a>Follow up</h3><p>what if input is billion and k is thousand? Can you optimize the complexity to log k?</p>
<p>Use heap.</p>
<h3 id="FeedBack"><a href="#FeedBack" class="headerlink" title="FeedBack"></a>FeedBack</h3><ol>
<li>Advice: never jump to the code before clarify your solution to interview and they said yes. </li>
<li>For any question make sure to ask input type input range, in this case you can ask is stream contain 0, negetive number? And when you deal with lots of number may out of bounds, keep in mind this thing.</li>
<li>Ask clarifying question, ex, in this question, stream is actually a generator, you assuming it’s an array make sure to ask if there are any implicit assumption.</li>
<li>When specifying your approach you can use some pseudo code or English explaition your method. And use some simple examples to walk through.</li>
<li>Edge case. 0 / negetive number. Stream size is less than k, size is larger than bound cause over flow errors when you deal with varaibles. Show you are pay attention to details.</li>
<li>Time Space complexity. Show you are confident with these things.</li>
</ol>
<h2 id="Binary-Tree-Anti-clockwise-traverse"><a href="#Binary-Tree-Anti-clockwise-traverse" class="headerlink" title="Binary Tree Anti-clockwise traverse"></a>Binary Tree Anti-clockwise traverse</h2><h3 id="545-Boundary-of-Binary-Tree"><a href="#545-Boundary-of-Binary-Tree" class="headerlink" title="545. Boundary of Binary Tree"></a><a href="https://leetcode.com/problems/boundary-of-binary-tree/" target="_blank" rel="noopener">545. Boundary of Binary Tree</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">       a</span><br><span class="line">    b    c</span><br><span class="line"> d   e   f   g </span><br><span class="line">h i g k l m n o</span><br><span class="line">output: [a, b, c, h, i, k, l, m, n, o, g, c] boundry value list</span><br></pre></td></tr></table></figure>

<h3 id="FeedBack-1"><a href="#FeedBack-1" class="headerlink" title="FeedBack"></a>FeedBack</h3><ol>
<li>Clarifying question, is binary tree, BST, is there special rules, balanced tree, duplicate value node?</li>
<li>Clarify your approach before coding, talk about time space, think about edge cases.</li>
<li>Eyeball the code. Comment if possible, visilize the data.</li>
<li>If you have multiple approach1,2. You can specify that and make a compare, trade off why you want to do this way.</li>
</ol>
<h2 id="Cutting-a-Rod-DP-13"><a href="#Cutting-a-Rod-DP-13" class="headerlink" title="Cutting a Rod | DP-13"></a><a href="https://www.geeksforgeeks.org/cutting-a-rod-dp-13/" target="_blank" rel="noopener">Cutting a Rod | DP-13</a></h2><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><p>Given a rod of length n inches and an array of prices that contains prices of all pieces of size smaller than n. Determine the maximum value obtainable by cutting up the rod and selling the pieces. For example, if length of the rod is 8 and the values of different pieces are given as following, then the maximum obtainable value is 22 (by cutting in two pieces of lengths 2 and 6) </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">length   | <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>  </span><br><span class="line">--------------------------------------------</span><br><span class="line">price    | <span class="number">1</span>   <span class="number">5</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">17</span>  <span class="number">17</span>  <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>And if the prices are as following, then the maximum obtainable value is 24 (by cutting in eight pieces of length 1) </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">length   | <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>  </span><br><span class="line">--------------------------------------------</span><br><span class="line">price    | <span class="number">3</span>   <span class="number">5</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">17</span>  <span class="number">17</span>  <span class="number">20</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// // A Naive recursive solution for Rod cutting problem </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RodCutting</span> </span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">	<span class="comment">/* Returns the best obtainable price for a rod of length </span></span><br><span class="line"><span class="comment">	n and price[] as prices of different pieces */</span></span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cutRod</span><span class="params">(<span class="keyword">int</span> price[], <span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>) </span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">		<span class="keyword">int</span> max_val = Integer.MIN_VALUE; </span><br><span class="line"></span><br><span class="line">		<span class="comment">// Recursively cut the rod in different pieces and </span></span><br><span class="line">		<span class="comment">// compare different configurations </span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;n; i++) </span><br><span class="line">			max_val = Math.max(max_val, </span><br><span class="line">							price[i] + cutRod(price, n-i-<span class="number">1</span>)); </span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> max_val; </span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/* Driver program to test above functions */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">17</span>, <span class="number">20</span>&#125;; </span><br><span class="line">		<span class="keyword">int</span> size = arr.length; </span><br><span class="line">		System.out.println(<span class="string">"Maximum Obtainable Value is "</span>+ </span><br><span class="line">							cutRod(arr, size)); </span><br><span class="line"></span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">/* This code is contributed by Rajat Mishra */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A Dynamic Programming solution for Rod cutting problem </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RodCutting</span> </span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">	<span class="comment">/* Returns the best obtainable price for a rod of </span></span><br><span class="line"><span class="comment">	length n and price[] as prices of different pieces */</span></span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cutRod</span><span class="params">(<span class="keyword">int</span> price[],<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> val[] = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>]; </span><br><span class="line">		val[<span class="number">0</span>] = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line">		<span class="comment">// Build the table val[] in bottom up manner and return </span></span><br><span class="line">		<span class="comment">// the last entry from the table </span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;=n; i++) </span><br><span class="line">		&#123; </span><br><span class="line">			<span class="keyword">int</span> max_val = Integer.MIN_VALUE; </span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) </span><br><span class="line">				max_val = Math.max(max_val, </span><br><span class="line">								price[j] + val[i-j-<span class="number">1</span>]); </span><br><span class="line">			val[i] = max_val; </span><br><span class="line">		&#125; </span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> val[n]; </span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/* Driver program to test above functions */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">17</span>, <span class="number">20</span>&#125;; </span><br><span class="line">		<span class="keyword">int</span> size = arr.length; </span><br><span class="line">		System.out.println(<span class="string">"Maximum Obtainable Value is "</span> + </span><br><span class="line">							cutRod(arr, size)); </span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">/* This code is contributed by Rajat Mishra */</span></span><br></pre></td></tr></table></figure>

<h2 id="Mock1-Top-K-Frequent-Elements⭐"><a href="#Mock1-Top-K-Frequent-Elements⭐" class="headerlink" title="Mock1 Top K Frequent Elements⭐"></a><a href="https://leetcode.com/problems/top-k-frequent-elements/description/" target="_blank" rel="noopener">Mock1 Top K Frequent Elements⭐</a></h2><p>Question(s) asked : Given a non-empty array of integers, return the k most frequent elements</p>
<h3 id="Before-coding"><a href="#Before-coding" class="headerlink" title="Before coding:"></a>Before coding:</h3><ol>
<li>Reading question.</li>
<li><strong>First consider a brute force</strong> or a naive way to solve it. And briefly analyze the time/space complexity.</li>
<li>Then talk about the approach. But, choose a data structure and why, make a improvement. Heap. N log k</li>
<li>Ask the feedback, that’s best we can get? I just want to make sure that is the correct direction before start coding.</li>
</ol>
<h3 id="While-coding"><a href="#While-coding" class="headerlink" title="While coding:"></a>While coding:</h3><ol>
<li><strong>Coding with speaking. And organized.</strong></li>
<li>Write function header, based on input, output</li>
<li>First thing create a dictionary, and then I am gonna look through everything here. Then coding..</li>
<li>And now I need a pq, inside of pq, what do I want? I am gonna need xxx. Then coding..</li>
<li>Next thing I am gonna do is xxx. Then coding..</li>
<li>And I have an array for my result</li>
</ol>
<h3 id="After-Coding"><a href="#After-Coding" class="headerlink" title="After Coding:"></a>After Coding:</h3><ol>
<li><strong>Analyze : time complexity/ Space complexity.</strong></li>
<li>Each loop part analyze the time complexity, and finally totally overall time complexity will be xx.</li>
</ol>
<h3 id="Follow-up-can-we-do-this-O-n-time"><a href="#Follow-up-can-we-do-this-O-n-time" class="headerlink" title="Follow up:  can we do this O(n) time?"></a>Follow up:  can we do this O(n) time?</h3><ol>
<li>The only thing I can think on top of my head is if input xxx, maybe we can use a bucket sort.</li>
<li>If interviewer saying some hint, thank you for pointing me.</li>
<li>Make a examples, use a bucket to represent the frequency of element</li>
<li>Let use an example in line xx, allocate an array with space of n at most</li>
<li>Shall we try some code?</li>
</ol>
<h2 id="Mock2-Next-largest-in-BST"><a href="#Mock2-Next-largest-in-BST" class="headerlink" title="Mock2 Next largest in BST"></a>Mock2 Next largest in BST</h2><h3 id="Inorder-Successor-in-BST⭐"><a href="#Inorder-Successor-in-BST⭐" class="headerlink" title="Inorder Successor in BST⭐"></a><a href="https://leetcode.com/problems/inorder-successor-in-bst/" target="_blank" rel="noopener">Inorder Successor in BST⭐</a></h3><h3 id="Before-coding-1"><a href="#Before-coding-1" class="headerlink" title="Before coding:"></a>Before coding:</h3><ol>
<li><p>I am just doing an example make sure I understand the problem.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">      <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    /   \</span><br><span class="line">   <span class="number">3</span>     <span class="number">7</span></span><br><span class="line">  / \   / \</span><br><span class="line"> /   \ /   \</span><br><span class="line"><span class="number">2</span>    <span class="number">4</span> <span class="number">6</span>    <span class="number">8</span></span><br><span class="line">Given <span class="number">5</span> -&gt; <span class="number">6</span></span><br><span class="line">Gived <span class="number">6</span> -&gt; <span class="number">7</span></span><br><span class="line">Gived <span class="number">8</span> -&gt; none</span><br><span class="line"><span class="comment">//think about the edge case</span></span><br><span class="line">          </span><br><span class="line">Continue to write pseudo-code before coding it out, it still seems to help a lot by being a bridge between translating thoughts into implementation.</span><br></pre></td></tr></table></figure>
</li>
<li><p>Assume BST well formed</p>
</li>
<li><p>So if I think any other edge case I will keep track here.</p>
</li>
<li><p>So I think there is couple of cases here.</p>
</li>
<li><p>First a brute force solution: traverse in-order, store each node in output list. Traverse list &amp; return node after given node. Time :O(n) Space: O(n) we need to traverse and also need to store</p>
</li>
<li><p>BCR(best conceivable runtime) for a time perspective is to hit, we should able to do some binary search, we shouldn’t have to traverse every single node. So I think it’s feasible to shoot for somethink like O(log n). Depend on what we implement if recursively space will be O(log n), iterative approach will be O(1) space.</p>
</li>
<li><p>Walking through the example</p>
</li>
<li><p>Cases: </p>
<ol>
<li>search node has right child -&gt; get smallest element in right subtree</li>
<li>node has no children -&gt; return parent, because it will be next larger element</li>
<li>Search node has no children -&gt; return None</li>
</ol>
</li>
</ol>
<h3 id="Object-oriented-interview"><a href="#Object-oriented-interview" class="headerlink" title="Object-oriented interview"></a>Object-oriented interview</h3><p>Behavioral and OOD concepts</p>
<p>System grokking the system design interview online course</p>
<p>github online  repo</p>
<p><a href="https://github.com/RickSayd/navigating-system-design" target="_blank" rel="noopener">https://github.com/RickSayd/navigating-system-design</a></p>
<p><a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener">https://github.com/donnemartin/system-design-primer</a></p>
<p>Youtube channel success in tech</p>
<p><a href="https://www.youtube.com/channel/UC-vYrOAmtrx9sBzJAf3x_xw" target="_blank" rel="noopener">https://www.youtube.com/channel/UC-vYrOAmtrx9sBzJAf3x_xw</a></p>
<p>Behavioral</p>
<p>practicing with mock interviews and really working with your stories make sure fit the start format in behavior and impactor action and result</p>
<h3 id="While-coding-1"><a href="#While-coding-1" class="headerlink" title="While coding:"></a>While coding:</h3><h3 id="After-Coding-1"><a href="#After-Coding-1" class="headerlink" title="After Coding:"></a>After Coding:</h3><h3 id="Follow-up-1"><a href="#Follow-up-1" class="headerlink" title="Follow up:"></a>Follow up:</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>requirement</p>
<p>phototype, small </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/11/15/leetcode%20125/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/15/leetcode%20125/" class="post-title-link" itemprop="url">leetcode 125</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-11-15 11:54:49 / 修改时间：12:22:42" itemprop="dateCreated datePublished" datetime="2020-11-15T11:54:49+09:00">2020-11-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/28/Princeton%20Algorithms%20week4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/Princeton%20Algorithms%20week4/" class="post-title-link" itemprop="url">Princeton Algorithms week4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-28 22:20:53" itemprop="dateCreated datePublished" datetime="2020-10-28T22:20:53+09:00">2020-10-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week4"><a href="#Princeton-Algorithms-week4" class="headerlink" title="Princeton Algorithms week4"></a>Princeton Algorithms week4</h1><p>Programming Assignment: <a href="https://coursera.cs.princeton.edu/algs4/assignments/8puzzle/specification.php" target="_blank" rel="noopener"><strong><code>8-Puzzle</code></strong></a></p>
<p>Your programming assignment is to implement the famous A* search algorithm to solve a combinatorial problem, and to substantially speed it up with an efficient priority queue implementation.</p>
<p><strong>Job Interview Questions.</strong> Algorithmic interview questions based on the lecture material.</p>
<p><strong>Suggested Readings.</strong> <strong><code>Section 2.4, 3.1</code></strong>, and <strong><code>3.2</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><strong>Suggested Readings.</strong> <strong><code>Section 2.2</code></strong> and <strong><code>2.3</code></strong> in <em>Algorithms, 4th edition</em>.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/28/Princeton%20Algorithms%20week4/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/21/Princeton%20Algorithms%20week3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/21/Princeton%20Algorithms%20week3/" class="post-title-link" itemprop="url">Princeton Algorithms week3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-21 20:01:06" itemprop="dateCreated datePublished" datetime="2020-10-21T20:01:06+09:00">2020-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-27 15:31:47" itemprop="dateModified" datetime="2020-10-27T15:31:47+09:00">2020-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week3"><a href="#Princeton-Algorithms-week3" class="headerlink" title="Princeton Algorithms week3"></a>Princeton Algorithms week3</h1><p><strong>Suggested Readings.</strong> <strong><code>Section 2.2</code></strong> and <strong><code>2.3</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/specification.php" target="_blank" rel="noopener">assignment</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/21/Princeton%20Algorithms%20week3/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/14/Searching/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/14/Searching/" class="post-title-link" itemprop="url">Searching</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-14 19:01:23" itemprop="dateCreated datePublished" datetime="2020-10-14T19:01:23+09:00">2020-10-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-02-20 13:16:13" itemprop="dateModified" datetime="2021-02-20T13:16:13+09:00">2021-02-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h1><h1 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h1><p><img src="https://camo.githubusercontent.com/17135f6479126d3322eb4c81746c7b7693f8f34b/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f39353930333837382d373235622d346564392d626465642d6263346161653037393261392e6a7067" alt=""></p>
<p>广度优先搜索一层一层地进行遍历，每层遍历都是以上一层遍历的结果作为起点，遍历一个距离能访问到的所有节点。</p>
<p>需要注意的是，遍历过的节点不能再次被遍历。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">第一层：</span><br><span class="line">- <span class="number">0</span> -&gt; &#123;<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line">第二层：</span><br><span class="line">- <span class="number">6</span> -&gt; &#123;<span class="number">4</span>&#125;</span><br><span class="line">- <span class="number">2</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">1</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">5</span> -&gt; &#123;<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">第三层：</span><br><span class="line">- <span class="number">4</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">3</span> -&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>每一层遍历的节点都与根节点距离相同。设 di 表示第 i 个节点与根节点的距离，推导出一个结论：对于先遍历的节点 i 与后遍历的节点 j，有 di &lt;= dj。</p>
<p>利用这个结论，可以求解最短路径等 <strong>最优解</strong> 问题：第一次遍历到目的节点，其所经过的路径为最短路径。</p>
<p>应该注意的是，使用 BFS 只能求解无权图的最短路径，无权图是指从一个节点到另一个节点的代价都记为 1。</p>
<p>在程序实现 BFS 时需要考虑以下问题：</p>
<ul>
<li>队列：用来存储每一轮遍历得到的节点；</li>
<li>标记：对于遍历过的节点，应该将它标记，防止重复遍历。</li>
</ul>
<h2 id="547-Number-of-Provinces⭐"><a href="#547-Number-of-Provinces⭐" class="headerlink" title="547. Number of Provinces⭐"></a><a href="https://leetcode.com/problems/number-of-provinces/" target="_blank" rel="noopener">547. Number of Provinces⭐</a></h2><p>There are <code>n</code> cities. Some of them are connected, while some are not. If city <code>a</code> is connected directly with city <code>b</code>, and city <code>b</code> is connected directly with city <code>c</code>, then city <code>a</code> is connected indirectly with city <code>c</code>.</p>
<p>A <strong>province</strong> is a group of directly or indirectly connected cities and no other cities outside of the group.</p>
<p>You are given an <code>n x n</code> matrix <code>isConnected</code> where <code>isConnected[i][j] = 1</code> if the <code>ith</code> city and the <code>jth</code> city are directly connected, and <code>isConnected[i][j] = 0</code> otherwise.</p>
<p>Return <em>the total number of *</em>provinces***.</p>
<p><img src="https://assets.leetcode.com/uploads/2020/12/24/graph1.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: isConnected = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">Output: <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = isConnected.length;</span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span>[] visited, <span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//find all connection and mark it has been visited(include itselt)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; isConnected.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isConnected[i][j] == <span class="number">1</span> &amp;&amp; visited[j] == <span class="number">0</span>) &#123;</span><br><span class="line">            visited[j] = -<span class="number">1</span>;</span><br><span class="line">            dfs(j, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[isConnected.length];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            ans++;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> city, <span class="keyword">int</span>[] visited, <span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    visited[city] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="number">0</span> &amp;&amp; isConnected[i][city] == <span class="number">1</span>) &#123;</span><br><span class="line">            visited[i] = <span class="number">1</span>;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Union Find</li>
<li>This is a typical <code>Union Find</code> problem - a similar problem is <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="noopener">Graph Valid Tree</a><br>A bit advanced Union Find problems are <a href="https://leetcode.com/problems/number-of-islands-ii/#/description" target="_blank" rel="noopener">Number of Islands II</a> and <a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/#/description" target="_blank" rel="noopener">Number of Connected Components</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = M.length, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] root = <span class="keyword">new</span> <span class="keyword">int</span>[m]; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) root[i] = i; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; m; j++)</span><br><span class="line">            <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) unionFind(root, i, j);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        <span class="keyword">if</span> (i == root[i]) cnt++;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unionFind</span> <span class="params">(<span class="keyword">int</span>[] root, <span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (root[v1] != v1) v1 = root[v1]; <span class="comment">//find v1's root</span></span><br><span class="line">    <span class="keyword">while</span> (root[v2] != v2) v2 = root[v2]; <span class="comment">//find v2's root</span></span><br><span class="line">    <span class="keyword">if</span> (root[v1] != root[v2]) root[v2] = v1; <span class="comment">//unite the 2 subtrees </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent, rank;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        count = n;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != parent[p]) &#123;</span><br><span class="line">            parent[p] = parent[parent[p]];    <span class="comment">// path compression by halving</span></span><br><span class="line">            p = parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootP = find(p);</span><br><span class="line">        <span class="keyword">int</span> rootQ = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rank[rootQ] &gt; rank[rootP]) &#123;</span><br><span class="line">            parent[rootP] = rootQ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[rootQ] = rootP;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootP] == rank[rootQ]) &#123;</span><br><span class="line">                rank[rootP]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = M.length;</span><br><span class="line">    UnionFind uf = <span class="keyword">new</span> UnionFind(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) uf.union(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> uf.count();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Old-version-547-Friend-Circles"><a href="#Old-version-547-Friend-Circles" class="headerlink" title="Old version 547. Friend Circles"></a>Old version 547. Friend Circles</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">Explanation:The <span class="number">0</span>th and <span class="number">1</span>st students are direct friends, so they are in a friend circle.</span><br><span class="line">The <span class="number">2</span>nd student himself is in a friend circle. So <span class="keyword">return</span> <span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>题目描述：好友关系可以看成是一个无向图，例如第 0 个人与第 1 个人是好友，那么 M[0] [1] 和 M[1] [0] 的值都为 1。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    n = M.length;</span><br><span class="line">    <span class="keyword">int</span> circleNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] hasVisited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasVisited[i]) &#123;</span><br><span class="line">            dfs(M, i, hasVisited);</span><br><span class="line">            circleNum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> circleNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] M, <span class="keyword">int</span> i, <span class="keyword">boolean</span>[] hasVisited)</span> </span>&#123;</span><br><span class="line">    hasVisited[i] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (M[i][k] == <span class="number">1</span> &amp;&amp; !hasVisited[k]) &#123;</span><br><span class="line">            dfs(M, k, hasVisited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Rotting-Oranges⭐"><a href="#Rotting-Oranges⭐" class="headerlink" title="Rotting Oranges⭐"></a><a href="https://leetcode.com/problems/rotting-oranges/" target="_blank" rel="noopener">Rotting Oranges⭐</a></h2><p><img src="https://assets.leetcode.com/uploads/2019/02/16/oranges.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">Output: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>One of the most distinguished code patterns in BFS algorithms is that often we use a <strong><em>queue</em></strong> data structure to keep track of the candidates that we need to visit during the process.</p>
<p>The main algorithm is built around a loop iterating through the queue. At each iteration, we <em>pop</em> out an element from the head of the queue. Then we do some particular process with the popped element. More importantly, we then <em>append</em> neighbors of the popped element into the queue, to keep the BFS process running.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">orangesRotting</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> minutes = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fresh = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> r = grid.length;</span><br><span class="line">    <span class="keyword">int</span> c = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">//Put the position of all rotten oranges in queue, count the number of fresh oranges</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) fresh++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] == <span class="number">2</span>) queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//edge case, if count of fresh oranges is zero --&gt; return 0 </span></span><br><span class="line">    <span class="keyword">if</span> (fresh == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//bfs starting from initially rotten oranges</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextR = cur[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextC = cur[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextR &lt; <span class="number">0</span> || nextR &gt;= r || nextC &lt; <span class="number">0</span> || nextC &gt;= c || grid[nextR][nextC] != <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//mark the orange at (x , y) as rotten</span></span><br><span class="line">                grid[nextR][nextC] = <span class="number">2</span>;</span><br><span class="line">                <span class="comment">//decrease the count of fresh oranges by 1</span></span><br><span class="line">                fresh--;</span><br><span class="line">                <span class="comment">//put the new rotten orange at (x , y) in queue</span></span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nextR, nextC&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        minutes++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//node result is minute - 1</span></span><br><span class="line">    <span class="keyword">return</span> fresh == <span class="number">0</span> ? minutes - <span class="number">1</span> : -<span class="number">1</span>;  <span class="comment">//last step do not increase minutes so -1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="127-Word-Ladder⭐💜"><a href="#127-Word-Ladder⭐💜" class="headerlink" title="127. Word Ladder⭐💜"></a><a href="https://leetcode.com/problems/word-ladder/description/" target="_blank" rel="noopener">127. Word Ladder⭐💜</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span>,</span><br><span class="line">endWord = <span class="string">"cog"</span>,</span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>,<span class="string">"cog"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is <span class="string">"hit"</span> -&gt; <span class="string">"hot"</span> -&gt; <span class="string">"dot"</span> -&gt; <span class="string">"dog"</span> -&gt; <span class="string">"cog"</span>,</span><br><span class="line"><span class="keyword">return</span> its length <span class="number">5</span>.</span><br><span class="line">    </span><br><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span></span><br><span class="line">endWord = <span class="string">"cog"</span></span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Explanation: The endWord <span class="string">"cog"</span> is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/word-ladder/Figures/127/Word_Ladder_1.png" alt=""></p>
<p>题目描述：找出一条从 beginWord 到 endWord 的最短路径，每次移动规定为改变一个字符，并且改变之后的字符串必须在 wordList 中。</p>
<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>思路：BFS（广度优先搜索）因为只要找最短的可能，所以每次只找下一层的所有可能，再一层层递进，直到 找到。和广度优先遍历类似，使用一个 Set 缓存下一层可能的词，然后到下一层逐一试。</p>
</li>
<li><p>Time Complexity: O<em>(</em>M^2×N), where Mis the length of each word and N is the total number of words in the input word list.</p>
<p>pace Complexity: O<em>(</em>M^2×N).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (beginWord.equals(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">1</span>;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(beginWord);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span>[] current = queue.poll().toCharArray();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; current.length; j++) &#123;</span><br><span class="line">                <span class="keyword">char</span> pre = current[j];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; c++) &#123;</span><br><span class="line">                    current[j] = c;</span><br><span class="line">                    <span class="comment">//char[] -&gt; Stirng : use new String(chars) | String.valueOf(chars)</span></span><br><span class="line">                    String next = <span class="keyword">new</span> String(current);</span><br><span class="line">                    <span class="comment">//when the changed word contained in the wordlist</span></span><br><span class="line">                    <span class="keyword">if</span> (set.contains(next)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (next.equals(endWord)) &#123;</span><br><span class="line">                            <span class="keyword">return</span> steps + <span class="number">1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        set.remove(next);</span><br><span class="line">                        queue.add(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//undo the change for next position character</span></span><br><span class="line">                current[j] = pre;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-126-Word-Ladder-II⭐"><a href="#Unsolved-126-Word-Ladder-II⭐" class="headerlink" title="Unsolved 126. Word Ladder II⭐"></a><a href="https://leetcode.com/problems/word-ladder-ii/" target="_blank" rel="noopener">Unsolved 126. Word Ladder II⭐</a></h3><h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>The basic idea is:</p>
<p>1). Use BFS to find the shortest distance between start and end, tracing the distance of crossing nodes from start node to end node, and store node’s next level neighbors to HashMap;</p>
<p>2). Use DFS to output paths with the same distance as the shortest distance from distance HashMap: compare if the distance of the next level node equals the distance of the current node + 1.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String start, String end, List&lt;String&gt; wordList) &#123;</span><br><span class="line">    HashSet&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;String&gt;(wordList);</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();         </span><br><span class="line">    HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors = <span class="keyword">new</span> HashMap&lt;String, ArrayList&lt;String&gt;&gt;();<span class="comment">// Neighbors for every node</span></span><br><span class="line">    HashMap&lt;String, Integer&gt; distance = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();<span class="comment">// Distance of every node from the start node</span></span><br><span class="line">    ArrayList&lt;String&gt; solution = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    dict.add(start);          </span><br><span class="line">    bfs(start, end, dict, nodeNeighbors, distance);                 </span><br><span class="line">    dfs(start, end, dict, nodeNeighbors, distance, solution, res);   </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BFS: Trace every node's distance from the start node (level by level).</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String start, </span></span></span><br><span class="line"><span class="function"><span class="params">                 String end, </span></span></span><br><span class="line"><span class="function"><span class="params">                 Set&lt;String&gt; dict, </span></span></span><br><span class="line"><span class="function"><span class="params">                 HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors, </span></span></span><br><span class="line"><span class="function"><span class="params">                 HashMap&lt;String, Integer&gt; distance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String str : dict)</span><br><span class="line">        nodeNeighbors.put(str, <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line"></span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">    queue.offer(start);</span><br><span class="line">    distance.put(start, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> count = queue.size();</span><br><span class="line">        <span class="keyword">boolean</span> foundEnd = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            String cur = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> curDistance = distance.get(cur);                </span><br><span class="line">            ArrayList&lt;String&gt; neighbors = getNeighbors(cur, dict);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String neighbor : neighbors) &#123;</span><br><span class="line">                nodeNeighbors.get(cur).add(neighbor);</span><br><span class="line">                <span class="keyword">if</span> (!distance.containsKey(neighbor)) &#123;<span class="comment">// Check if visited</span></span><br><span class="line">                    distance.put(neighbor, curDistance + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (end.equals(neighbor))<span class="comment">// Found the shortest path</span></span><br><span class="line">                        foundEnd = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        queue.offer(neighbor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (foundEnd)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Find all next level nodes.    </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">getNeighbors</span><span class="params">(String node, Set&lt;String&gt; dict)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    <span class="keyword">char</span> chs[] = node.toCharArray();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> ch =<span class="string">'a'</span>; ch &lt;= <span class="string">'z'</span>; ch++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chs.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (chs[i] == ch) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">char</span> old_ch = chs[i];</span><br><span class="line">            chs[i] = ch;</span><br><span class="line">            <span class="keyword">if</span> (dict.contains(String.valueOf(chs))) &#123;</span><br><span class="line">                res.add(String.valueOf(chs));</span><br><span class="line">            &#125;</span><br><span class="line">            chs[i] = old_ch;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DFS: output all paths with the shortest distance.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String cur, String end, Set&lt;String&gt; dict, HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors, HashMap&lt;String, Integer&gt; distance, ArrayList&lt;String&gt; solution, List&lt;List&lt;String&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">    solution.add(cur);</span><br><span class="line">    <span class="keyword">if</span> (end.equals(cur)) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> ArrayList&lt;String&gt;(solution));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String next : nodeNeighbors.get(cur)) &#123;            </span><br><span class="line">            <span class="keyword">if</span> (distance.get(next) == distance.get(cur) + <span class="number">1</span>) &#123;</span><br><span class="line">                dfs(next, end, dict, nodeNeighbors, distance, solution, res);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;           </span><br><span class="line">    solution.remove(solution.size() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * High level design: BFS + DFS</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Step 1: use BFS to build graph (adjacency list of each word), as well as calculating distance from beginWord to </span></span><br><span class="line"><span class="comment"> * each node in the graph (should store minimum distance)</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Step 2: use DFS to traverse and record path from beginWord to endWord with shortest path. We can use distance map</span></span><br><span class="line"><span class="comment"> * to control every next word. </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</span><br><span class="line">    <span class="keyword">if</span> (wordList.size() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> result: result list to store final return list</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph: adjacency list of key - store all neighbors of each word (neighbor means all words in dictionary </span></span><br><span class="line"><span class="comment">     *             that only has one character difference with key)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> distance: distance between beginWord and current key word, used for tracing path when we do DFS</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dict: word dictionary, efficient for searching purpose</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;String, Set&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;String, Integer&gt; distance = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line"></span><br><span class="line">    bfs(beginWord, endWord, dict, graph, distance);</span><br><span class="line">    dfs(result, graph, distance, endWord, beginWord, <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(beginWord)));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step 1</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord, String endWord, Set&lt;String&gt; dict, Map&lt;String, Set&lt;String&gt;&gt; graph, Map&lt;String, Integer&gt; distance)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(beginWord);</span><br><span class="line">    distance.put(beginWord, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">boolean</span> reachEnd = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String curWord = queue.poll();</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* try all possible substitution (26 characters) in every position of current word, if newWord exists in dictionary, </span></span><br><span class="line"><span class="comment">               we add it to the adjacency list of curWord */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; curWord.length(); j++) &#123;</span><br><span class="line">                <span class="keyword">char</span>[] curWordArr = curWord.toCharArray();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; c++) &#123;</span><br><span class="line">                    curWordArr[j] = c;</span><br><span class="line">                    String newWord = <span class="keyword">new</span> String(curWordArr);</span><br><span class="line">                    <span class="keyword">if</span> (dict.contains(newWord)) &#123;</span><br><span class="line">                        graph.putIfAbsent(curWord, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">                        graph.get(curWord).add(newWord);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// traverse all neighbors of current word, update distance map and queue for next ladder (level)</span></span><br><span class="line">            <span class="comment">// WARNING: DO NOT USE visited set, since it is hard to deal with end word if endWord is visited</span></span><br><span class="line">            <span class="keyword">for</span> (String neighbor : graph.get(curWord)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!distance.containsKey(neighbor)) &#123;</span><br><span class="line">                    distance.put(neighbor, distance.get(curWord) + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (neighbor.equals(endWord)) &#123;</span><br><span class="line">                        reachEnd = <span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        queue.offer(neighbor);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (reachEnd) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step 2</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;String&gt;&gt; result, Map&lt;String, Set&lt;String&gt;&gt; graph, Map&lt;String, Integer&gt; distance,</span></span></span><br><span class="line"><span class="function"><span class="params">                String endWord, String curWord, List&lt;String&gt; tempList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (curWord.equals(endWord)) &#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tempList));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (String nextWord : graph.get(curWord)) &#123;</span><br><span class="line">        <span class="comment">// only if next node is on the minimum path to the endWord, we can traverse it</span></span><br><span class="line">        <span class="keyword">if</span> (distance.get(nextWord) == distance.get(curWord) + <span class="number">1</span>) &#123;</span><br><span class="line">            tempList.add(nextWord);</span><br><span class="line">            dfs(result, graph, distance, endWord, nextWord, tempList);</span><br><span class="line">            tempList.remove(tempList.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="675-Cut-Off-Trees-for-Golf-Event⭐"><a href="#675-Cut-Off-Trees-for-Golf-Event⭐" class="headerlink" title="675. Cut Off Trees for Golf Event⭐"></a><a href="https://leetcode.com/problems/cut-off-trees-for-golf-event/" target="_blank" rel="noopener">675. Cut Off Trees for Golf Event⭐</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/11/26/trees1.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: forest = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>],[<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]]</span><br><span class="line">Output: <span class="number">6</span></span><br><span class="line">Explanation: Following the path above allows you to cut off the trees from shortest to tallest in <span class="number">6</span> steps.</span><br></pre></td></tr></table></figure>

<p><img src="https://assets.leetcode.com/uploads/2020/11/26/trees2.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: forest = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]]</span><br><span class="line">Output: -<span class="number">1</span></span><br><span class="line">Explanation: The trees in the bottom row cannot be accessed as the middle row is blocked.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Since we have to cut trees in order of their height, we first put trees (int[] {row, col, height}) into a priority queue and sort by height.</li>
<li>Poll each tree from the queue and use BFS to find out steps needed.</li>
<li>The worst case time complexity could be O(m^2 * n^2) (m = number of rows, n = number of columns) since there are m * n trees and for each BFS worst case time complexity is O(m * n) too.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span>[][] dir = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">cutOffTree</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (forest == <span class="keyword">null</span> || forest.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = forest.size(), n = forest.get(<span class="number">0</span>).size();</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; a[<span class="number">2</span>] - b[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (forest.get(i).get(j) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                pq.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j, forest.get(i).get(j)&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] start = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] tree = pq.poll();</span><br><span class="line">        <span class="keyword">int</span> step = minStep(forest, start, tree, m, n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (step &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        sum += step;</span><br><span class="line"></span><br><span class="line">        start[<span class="number">0</span>] = tree[<span class="number">0</span>];</span><br><span class="line">        start[<span class="number">1</span>] = tree[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">minStep</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] tree, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visited[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] curr = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (curr[<span class="number">0</span>] == tree[<span class="number">0</span>] &amp;&amp; curr[<span class="number">1</span>] == tree[<span class="number">1</span>]) <span class="keyword">return</span> step;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : dir) &#123;</span><br><span class="line">                <span class="keyword">int</span> nr = curr[<span class="number">0</span>] + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nc = curr[<span class="number">1</span>] + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nr &lt; <span class="number">0</span> || nr &gt;= m || nc &lt; <span class="number">0</span> || nc &gt;= n </span><br><span class="line">                    || forest.get(nr).get(nc) == <span class="number">0</span> || visited[nr][nc]) <span class="keyword">continue</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;nr, nc&#125;);</span><br><span class="line">                visited[nr][nc] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> tr, <span class="keyword">int</span> tc)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> R = forest.size(), C = forest.get(<span class="number">0</span>).size();</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;sr, sc, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">boolean</span>[][] seen = <span class="keyword">new</span> <span class="keyword">boolean</span>[R][C];</span><br><span class="line">    seen[sr][sc] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (cur[<span class="number">0</span>] == tr &amp;&amp; cur[<span class="number">1</span>] == tc) <span class="keyword">return</span> cur[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> di = <span class="number">0</span>; di &lt; <span class="number">4</span>; ++di) &#123;</span><br><span class="line">            <span class="keyword">int</span> r = cur[<span class="number">0</span>] + dr[di];</span><br><span class="line">            <span class="keyword">int</span> c = cur[<span class="number">1</span>] + dc[di];</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span> &lt;= r &amp;&amp; r &lt; R &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; C &amp;&amp;</span><br><span class="line">                    !seen[r][c] &amp;&amp; forest.get(r).get(c) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                seen[r][c] = <span class="keyword">true</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c, cur[<span class="number">2</span>]+<span class="number">1</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1091-Shortest-Path-in-Binary-Matrix🎂⭐"><a href="#1091-Shortest-Path-in-Binary-Matrix🎂⭐" class="headerlink" title="1091. Shortest Path in Binary Matrix🎂⭐"></a><a href="https://leetcode.com/problems/shortest-path-in-binary-matrix/" target="_blank" rel="noopener">1091. Shortest Path in Binary Matrix🎂⭐</a></h2><p><img src="https://assets.leetcode.com/uploads/2019/08/04/example2_2.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>

<p>In an N by N square grid, each cell is either empty (0) or blocked (1).</p>
<p>A <em>clear path from top-left to bottom-right</em> has length <code>k</code> if and only if it is composed of cells <code>C_1, C_2, ..., C_k</code> such that:</p>
<ul>
<li>Adjacent cells <code>C_i</code> and <code>C_{i+1}</code> are connected 8-directionally (ie., they are different and share an edge or corner)</li>
<li><code>C_1</code> is at location <code>(0, 0)</code> (ie. has value <code>grid[0][0]</code>)</li>
<li><code>C_k</code> is at location <code>(N-1, N-1)</code> (ie. has value <code>grid[N-1][N-1]</code>)</li>
<li>If <code>C_i</code> is located at <code>(r, c)</code>, then <code>grid[r][c]</code> is empty (ie. <code>grid[r][c] == 0</code>).</li>
</ul>
<p>Return the length of the shortest such clear path from top-left to bottom-right. If such a path does not exist, return -1.</p>
<h3 id="Solition1"><a href="#Solition1" class="headerlink" title="Solition1:"></a>Solition1:</h3><ol>
<li>题目描述：0 表示可以经过某个位置，求解从左上角到右下角的最短路径长度。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] direction = &#123;&#123;<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestPathBinaryMatrix</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length;</span><br><span class="line">    <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//edge case</span></span><br><span class="line">    <span class="keyword">if</span> (grid[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">1</span> || grid[m-<span class="number">1</span>][n-<span class="number">1</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    visited[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] pop = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (pop[<span class="number">0</span>] == m-<span class="number">1</span> &amp;&amp; pop[<span class="number">1</span>] == n-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : direction) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = d[<span class="number">0</span>] + pop[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = d[<span class="number">1</span>] + pop[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (nextX &gt;= <span class="number">0</span> &amp;&amp; nextX &lt; m &amp;&amp; nextY &gt;= <span class="number">0</span> &amp;&amp; nextY &lt; n &amp;&amp; !visited[nextX][nextY] &amp;&amp; grid[nextX][nextY] == <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nextX,nextY&#125;);</span><br><span class="line">                    visited[nextX][nextY] = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="279-Perfect-Squares✨"><a href="#279-Perfect-Squares✨" class="headerlink" title="279.Perfect Squares✨"></a><a href="https://leetcode.com/problems/perfect-squares/description/" target="_blank" rel="noopener">279.Perfect Squares✨</a></h2><p>For example, given n = 12, return 3 because 12 = 4 + 4 + 4; given n = 13, return 2 because 13 = 4 + 9.</p>
<p><a href="https://leetcode.com/problems/perfect-squares/discuss/71488/Summary-of-4-different-solutions-(BFS-DP-static-DP-and-mathematics)" target="_blank" rel="noopener">Summary of 4 different solutions (BFS, DP, static DP and mathematics)</a></p>
<h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>可以将每个整数看成图中的一个节点，如果两个整数之差为一个平方数，那么这两个整数所在的节点就有一条边。</p>
<p>要求解最小的平方数数量，就是求解从节点 n 到节点 0 的最短路径。</p>
<p>本题也可以用动态规划求解，在之后动态规划部分中会再次出现。</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    q.offer(<span class="number">0</span>);</span><br><span class="line">    visited.add(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> depth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        depth++;</span><br><span class="line">        <span class="keyword">while</span>(size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> u = q.poll();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i*i &lt;= n; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = u+i*i;</span><br><span class="line">                <span class="keyword">if</span>(v == n) &#123;</span><br><span class="line">                    <span class="keyword">return</span> depth;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(v &gt; n) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(v)) &#123;</span><br><span class="line">                    q.offer(v);</span><br><span class="line">                    visited.add(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> depth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>思路：动态规划。寻找 dp[i]最小的可能性，只要寻找 i 减去平方为 j 及以下的所有可能平方数（i-j*j）的可能性+1 中最小的值。O(n2 )</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j*j &lt;= i; ++j)</span><br><span class="line">            dp[i] = Math.min(dp[i], dp[i-j*j] + <span class="number">1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="909-Snakes-and-Ladders🎂✨"><a href="#909-Snakes-and-Ladders🎂✨" class="headerlink" title="909. Snakes and Ladders🎂✨"></a><a href="https://leetcode.com/problems/snakes-and-ladders/" target="_blank" rel="noopener">909. Snakes and Ladders🎂✨</a></h2><p><img src="https://assets.leetcode.com/users/lee215/image_1537671763.png" alt=""></p>
<h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">snakesAndLadders</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="comment">// convert 2D array to 1D to make processing more easier</span></span><br><span class="line">    <span class="keyword">int</span>[] flatten = convert2DTo1D(board);</span><br><span class="line">    <span class="keyword">int</span> targetIdx = n * n - <span class="number">1</span>; <span class="comment">// target index to try to reach</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> ArrayDeque&lt;&gt;();  <span class="comment">// queue for BFS</span></span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * n]; <span class="comment">// keep track of which node has been visited</span></span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>; <span class="comment">// keep track of number of steps (levels) we have gone in BFS</span></span><br><span class="line">    <span class="comment">// add starting node (number 1, index 0) to the queue and start BFS</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = flatten[<span class="number">0</span>] == -<span class="number">1</span> ? <span class="number">0</span> : flatten[<span class="number">0</span>] - <span class="number">1</span>;</span><br><span class="line">    queue.offer(start);</span><br><span class="line">    visited[start] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// BFS:</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> currIdx = queue.poll();</span><br><span class="line">            <span class="comment">// in case the current index is the index we are looking for</span></span><br><span class="line">            <span class="comment">// return the number of moves used to get there</span></span><br><span class="line">            <span class="keyword">if</span> (currIdx == targetIdx) <span class="keyword">return</span> steps;</span><br><span class="line">            <span class="comment">// consider all numbers from +1 to +6, note that don't go out of bound</span></span><br><span class="line">            <span class="keyword">int</span> upper = Math.min(targetIdx, currIdx + <span class="number">6</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> nextIdx = currIdx + <span class="number">1</span>; nextIdx &lt;= upper; nextIdx++) &#123;</span><br><span class="line">                <span class="comment">// check if the nextIdx is a snake/ladder</span></span><br><span class="line">                <span class="keyword">int</span> dest = flatten[nextIdx] == -<span class="number">1</span> ? nextIdx : flatten[nextIdx] - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// in case the next index is already explored, skip it</span></span><br><span class="line">                <span class="keyword">if</span> (visited[dest]) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">// add next index into the queue and mark it as visited</span></span><br><span class="line">                queue.offer(dest);</span><br><span class="line">                visited[dest] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] convert2DTo1D(<span class="keyword">int</span>[][] board) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="comment">// 1D array whose size is n^2</span></span><br><span class="line">    <span class="keyword">int</span>[] rst = <span class="keyword">new</span> <span class="keyword">int</span>[n * n];</span><br><span class="line">    <span class="keyword">boolean</span> leftToRight = <span class="keyword">true</span>; <span class="comment">// order to traverse columns in each row</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// start from the bottom row of 2D array, initially going from left to right</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="comment">// if we need to read columns from left to right</span></span><br><span class="line">            <span class="keyword">if</span> (leftToRight) &#123;</span><br><span class="line">                rst[idx++] = board[i][j];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// if we need to read columns from right to left</span></span><br><span class="line">                rst[idx++] = board[i][n - <span class="number">1</span> - j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// after processing each row, switch the order</span></span><br><span class="line">        leftToRight = !leftToRight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-2"><a href="#Solution2-2" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">snakesAndLadders</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = board.length;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; dist = <span class="keyword">new</span> HashMap();</span><br><span class="line">    dist.put(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    queue.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> s = queue.remove();</span><br><span class="line">        <span class="keyword">if</span> (s == N*N) <span class="keyword">return</span> dist.get(s);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> s2 = s+<span class="number">1</span>; s2 &lt;= Math.min(s+<span class="number">6</span>, N*N); ++s2) &#123;</span><br><span class="line">            <span class="keyword">int</span> rc = get(s2, N);</span><br><span class="line">            <span class="keyword">int</span> r = rc / N, c = rc % N;</span><br><span class="line">            <span class="keyword">int</span> s2Final = board[r][c] == -<span class="number">1</span> ? s2 : board[r][c];</span><br><span class="line">            <span class="keyword">if</span> (!dist.containsKey(s2Final)) &#123;</span><br><span class="line">                dist.put(s2Final, dist.get(s) + <span class="number">1</span>);</span><br><span class="line">                queue.add(s2Final);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Given a square num s, return board coordinates (r, c) as r*N + c</span></span><br><span class="line">    <span class="keyword">int</span> quot = (s-<span class="number">1</span>) / N;</span><br><span class="line">    <span class="keyword">int</span> rem = (s-<span class="number">1</span>) % N;</span><br><span class="line">    <span class="keyword">int</span> row = N - <span class="number">1</span> - quot;</span><br><span class="line">    <span class="keyword">int</span> col = row % <span class="number">2</span> != N % <span class="number">2</span> ? rem : N - <span class="number">1</span> - rem;</span><br><span class="line">    <span class="keyword">return</span> row * N + col;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="752-Open-the-Lock✨"><a href="#752-Open-the-Lock✨" class="headerlink" title="752. Open the Lock✨"></a><a href="https://leetcode.com/problems/open-the-lock/" target="_blank" rel="noopener">752. Open the Lock✨</a></h2><h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Breadth-First Search</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; deads = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(deadends));</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    q.offer(<span class="string">"0000"</span>);</span><br><span class="line">    visited.add(<span class="string">"0000"</span>);</span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; size; k++) &#123;</span><br><span class="line">            String s = q.poll();</span><br><span class="line">            <span class="keyword">if</span>(deads.contains(s)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.equals(target)) <span class="keyword">return</span> level;</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> c = sb.charAt(i);</span><br><span class="line">                String s1 = sb.substring(<span class="number">0</span>, i) + (c == <span class="string">'9'</span> ? <span class="number">0</span> : c - <span class="string">'0'</span> + <span class="number">1</span>) + sb.substring(i + <span class="number">1</span>);</span><br><span class="line">                String s2 = sb.substring(<span class="number">0</span>, i) + (c == <span class="string">'0'</span> ? <span class="number">9</span> : c - <span class="string">'0'</span> - <span class="number">1</span>) + sb.substring(i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(s1) &amp;&amp; !deads.contains(s1)) &#123;</span><br><span class="line">                    q.offer(s1);</span><br><span class="line">                    visited.add(s1);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(s2) &amp;&amp; !deads.contains(s2)) &#123;</span><br><span class="line">                    q.offer(s2);</span><br><span class="line">                    visited.add(s2);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        level ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-3"><a href="#Solution2-3" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>BFS</li>
<li>优化：把dead加到visited里</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">plusOne</span><span class="params">(String s, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">    <span class="keyword">if</span> (ch[j] == <span class="string">'9'</span>)</span><br><span class="line">        ch[j] = <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ch[j] += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minusOne</span><span class="params">(String s, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">    <span class="keyword">if</span> (ch[j] == <span class="string">'0'</span>)</span><br><span class="line">        ch[j] = <span class="string">'9'</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ch[j] -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; dead = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String deadend : deadends) &#123;</span><br><span class="line">        dead.add(deadend);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">    queue.offer(<span class="string">"0000"</span>);</span><br><span class="line">    visited.add(<span class="string">"0000"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String cur = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (dead.contains(cur))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (cur.equals(target))</span><br><span class="line">                <span class="keyword">return</span> steps;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                String up = plusOne(cur, j);</span><br><span class="line">                <span class="keyword">if</span> (!visited.contains(up)) &#123;</span><br><span class="line">                    queue.offer(up);</span><br><span class="line">                    visited.add(up);</span><br><span class="line">                &#125;</span><br><span class="line">                String down = minusOne(cur, j);</span><br><span class="line">                <span class="keyword">if</span> (!visited.contains(down)) &#123;</span><br><span class="line">                    queue.offer(down);</span><br><span class="line">                    visited.add(down);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="490-The-Maze✨"><a href="#490-The-Maze✨" class="headerlink" title="490. The Maze✨"></a><a href="https://leetcode.com/problems/the-maze/" target="_blank" rel="noopener">490. The Maze✨</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/09/01/maze1.png" alt=""></p>
<h3 id="Solution1-9"><a href="#Solution1-9" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPath</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] destination)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    Queue &lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList &lt; &gt; ();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visited[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] s = queue.remove();</span><br><span class="line">        <span class="keyword">if</span> (s[<span class="number">0</span>] == destination[<span class="number">0</span>] &amp;&amp; s[<span class="number">1</span>] == destination[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir: dirs) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = s[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = s[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; maze.length &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">                x += dir[<span class="number">0</span>];</span><br><span class="line">                y += dir[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!visited[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;x - dir[<span class="number">0</span>], y - dir[<span class="number">1</span>]&#125;);</span><br><span class="line">                visited[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-4"><a href="#Solution2-4" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dir = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPath</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] destination)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">return</span> dfs(maze, visited, start, destination);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">boolean</span>[][] visited, <span class="keyword">int</span>[] c, <span class="keyword">int</span>[] des)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (visited[c[<span class="number">0</span>]][c[<span class="number">1</span>]]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (c[<span class="number">0</span>] == des[<span class="number">0</span>] &amp;&amp; c[<span class="number">1</span>] == des[<span class="number">1</span>]) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    visited[c[<span class="number">0</span>]][c[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> result = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] d : dir) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = c[<span class="number">0</span>] + d[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> y = c[<span class="number">1</span>] + d[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">while</span> ( <span class="number">0</span> &lt;= x &amp;&amp; x &lt; maze.length &amp;&amp; <span class="number">0</span> &lt;= y &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">            x += d[<span class="number">0</span>];</span><br><span class="line">            y += d[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        result = result || dfs(maze, visited, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123; x - d[<span class="number">0</span>], y - d[<span class="number">1</span>]&#125;, des);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="773-Sliding-Puzzle🎂"><a href="#773-Sliding-Puzzle🎂" class="headerlink" title="773. Sliding Puzzle🎂"></a><a href="https://leetcode.com/problems/sliding-puzzle/" target="_blank" rel="noopener">773. Sliding Puzzle🎂</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to index of &#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">0</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">0</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">0</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">2</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-10"><a href="#Solution1-10" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Algorithm:</p>
<p>Consider each state in the board as a graph node, we just need to find out the min distance between start node and final target node “123450”. </p>
<p>Since it’s a single point to single point questions, Dijkstra is not needed here. We can simply use BFS, and also count the level we passed. Every time we swap 0 position in the String to find the next state. Use a hashTable to store the visited states.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//initail varaibles</span></span><br><span class="line">    <span class="keyword">int</span> rows = board.length;</span><br><span class="line">    <span class="keyword">int</span> cols = board[<span class="number">0</span>].length;</span><br><span class="line">    String goal = <span class="string">"123450"</span>;</span><br><span class="line">    String start = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">            start += board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(start);</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//bfs</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String s = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (s == start) &#123;</span><br><span class="line">                <span class="keyword">return</span> steps;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> pos = s.indexOf(<span class="string">"0"</span>);</span><br><span class="line">            <span class="keyword">int</span> x = pos % cols;</span><br><span class="line">            <span class="keyword">int</span> y = pos / cols;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = x + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = y + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= cols || nextY &lt; <span class="number">0</span> || nextY &gt;= rows) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> nextPos = nextY * cols + nextX;</span><br><span class="line">                String newS = swap(s, pos, nextPos);</span><br><span class="line">                <span class="keyword">if</span> (visited.contains(newS)) <span class="keyword">continue</span>;</span><br><span class="line">                visited.add(newS);</span><br><span class="line">                queue.add(newS);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">swap</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">char</span> temp = chars[i];</span><br><span class="line">    chars[i] = chars[j];</span><br><span class="line">    chars[j] = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-5"><a href="#Solution2-5" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><a href="https://leetcode.com/problems/sliding-puzzle/discuss/113620/JavaPython-3-BFS-clean-codes-w-comment-Time-and-space%3A-O(m-*-n-*-(m-*-n)!)." target="_blank" rel="noopener">Explaination</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] d = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>&#125;; <span class="comment">//  relative displacements of neighbors in board.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> height = board.length, width = height == <span class="number">0</span> ? <span class="number">0</span> : board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">// convert board to string - initial state.</span></span><br><span class="line">        String s = Arrays.deepToString(board).replaceAll(<span class="string">"\\[|\\]|,|\\s"</span>, <span class="string">""</span>); <span class="comment">// e.g., [[1,2,3],[4,0,5]] -&gt; "123405"</span></span><br><span class="line">        Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(s)); <span class="comment">// add initial state to queue.</span></span><br><span class="line">        Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;(q); <span class="comment">// used to avoid duplicates</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> steps = <span class="number">0</span>; !q.isEmpty(); ++steps) &#123; <span class="comment">// Not traverse all states yet?</span></span><br><span class="line">            <span class="comment">// loop used to control search breadth.</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> sz = q.size(); sz &gt; <span class="number">0</span>; --sz) &#123;</span><br><span class="line">                String str = q.poll();</span><br><span class="line">                <span class="keyword">if</span> (str.equals(<span class="string">"123450"</span>)) &#123; <span class="keyword">return</span> steps; &#125; <span class="comment">// found target.</span></span><br><span class="line">                <span class="keyword">int</span> i = str.indexOf(<span class="string">"0"</span>), x = i / width, y = i % width; <span class="comment">// board[x][y] is '0'.</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123; <span class="comment">// traverse all options.</span></span><br><span class="line">                    <span class="keyword">int</span> r = x + d[k], c = y + d[k + <span class="number">1</span>]; <span class="comment">// board[r][c] is the neighbor of '0'.</span></span><br><span class="line">                    <span class="keyword">if</span> (r &gt;= <span class="number">0</span> &amp;&amp; r &lt; height &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; width) &#123;</span><br><span class="line">                        <span class="keyword">char</span>[] ch = str.toCharArray();</span><br><span class="line">                        ch[i] = ch[r * width + c]; <span class="comment">// r * width + c is the string index of board[r][c].</span></span><br><span class="line">                        ch[r * width + c] = <span class="string">'0'</span>; <span class="comment">// assign '0' to the neighbor of board[x][y].</span></span><br><span class="line">                        s = String.valueOf(ch);</span><br><span class="line">                        <span class="keyword">if</span> (seen.add(s)) q.offer(s); <span class="comment">// if not duplicate, add s to the queue.</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Update 1:</p>
<ol>
<li><strong>distance</strong> in the follows changed to <strong>displacement</strong> to avoid confusion:</li>
<li>see after the code.</li>
</ol>
<p>Convert array to string, e.g., [[1,2,3],[4,0,5]] -&gt; “123405”, hence the corresponding potential swap displacements are: -1, 1, -3, 3. Also note, charAt(2) and charAt(3) are not adjacent in original 2 dimensional int array and therefore are not valid swaps.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] d = &#123; <span class="number">1</span>, -<span class="number">1</span>, <span class="number">3</span>, -<span class="number">3</span> &#125;; <span class="comment">// potential swap displacements.</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// convert board to string - initial state.</span></span><br><span class="line">      String s = Arrays.deepToString(board).replaceAll(<span class="string">"\\[|\\]|,|\\s"</span>, <span class="string">""</span>);</span><br><span class="line">      Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(s)); <span class="comment">// add initial state to queue.</span></span><br><span class="line">      Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;(q); <span class="comment">// used to avoid duplicates</span></span><br><span class="line">      <span class="keyword">int</span> ans = <span class="number">0</span>; <span class="comment">// record the # of rounds of Breadth Search</span></span><br><span class="line">      <span class="keyword">while</span> (!q.isEmpty()) &#123; <span class="comment">// Not traverse all states yet?</span></span><br><span class="line">          <span class="comment">// loop used to control search breadth.</span></span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> sz = q.size(); sz &gt; <span class="number">0</span>; --sz) &#123; </span><br><span class="line">              String str = q.poll();</span><br><span class="line">              <span class="keyword">if</span> (str.equals(<span class="string">"123450"</span>)) &#123; <span class="keyword">return</span> ans; &#125; <span class="comment">// found target.</span></span><br><span class="line">              <span class="keyword">int</span> i = str.indexOf(<span class="string">'0'</span>); <span class="comment">// locate '0'</span></span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123; <span class="comment">// traverse all options.</span></span><br><span class="line">                  <span class="keyword">int</span> j = i + d[k]; <span class="comment">// potential swap index.</span></span><br><span class="line">                  <span class="comment">// conditional used to avoid invalid swaps.</span></span><br><span class="line">                  <span class="keyword">if</span> (j &lt; <span class="number">0</span> || j &gt; <span class="number">5</span> || i == <span class="number">2</span> &amp;&amp; j == <span class="number">3</span> || i == <span class="number">3</span> &amp;&amp; j == <span class="number">2</span>) &#123; <span class="keyword">continue</span>; &#125; </span><br><span class="line">                  <span class="keyword">char</span>[] ch = str.toCharArray();</span><br><span class="line">                  <span class="comment">// swap ch[i] and ch[j]:  ch[i] = ch[j], ch[j] = '0'. Updated per @caowang888's suggestion. </span></span><br><span class="line">                  ch[i] = ch[j];</span><br><span class="line">                  ch[j] = <span class="string">'0'</span>;</span><br><span class="line">                  s = String.valueOf(ch); <span class="comment">// a new candidate state.</span></span><br><span class="line">                  <span class="keyword">if</span> (seen.add(s)) &#123; q.offer(s); &#125; <span class="comment">//Avoid duplicate.</span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          ++ans; <span class="comment">// finished a round of Breadth Search, plus 1.</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>Analysis:</strong><br>There are at most 6! permutation of the 6 numbers: 0~5. For each permustion, cost spaceO(6); String.indexOf() and String.equals() cost time O(6). Therefore, space and time both cost 6 * 6! = 4320.<br>Replace the above <code>6</code> with <code>m * n</code>, we have:</p>
<p><strong>Time &amp; space: O(m * n * (m * n)!)</strong>.</p>
<p>Feel free to let me know if you can find a tighter bound.</p>
<h2 id="Unsolved-913-Cat-and-Mouse🎂"><a href="#Unsolved-913-Cat-and-Mouse🎂" class="headerlink" title="Unsolved 913. Cat and Mouse🎂"></a><a href="https://leetcode.com/problems/cat-and-mouse/" target="_blank" rel="noopener">Unsolved 913. Cat and Mouse🎂</a></h2><h2 id="Unsolved-1345-Jump-Game-IV🎂"><a href="#Unsolved-1345-Jump-Game-IV🎂" class="headerlink" title="Unsolved 1345. Jump Game IV🎂"></a><a href="https://leetcode.com/problems/jump-game-iv/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1345. Jump Game IV🎂</a></h2><h2 id="Unsolved-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix🎂"><a href="#Unsolved-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-Matrix🎂" class="headerlink" title="Unsolved 1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix🎂"></a><a href="https://leetcode.com/problems/minimum-number-of-flips-to-convert-binary-matrix-to-zero-matrix/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1284. Minimum Number of Flips to Convert Binary Matrix to Zero Matrix🎂</a></h2><h2 id="Unsolved-1293-Shortest-Path-in-a-Grid-with-Obstacles-Elimination🎂✨"><a href="#Unsolved-1293-Shortest-Path-in-a-Grid-with-Obstacles-Elimination🎂✨" class="headerlink" title="Unsolved 1293. Shortest Path in a Grid with Obstacles Elimination🎂✨"></a><a href="https://leetcode.com/problems/shortest-path-in-a-grid-with-obstacles-elimination/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1293. Shortest Path in a Grid with Obstacles Elimination🎂✨</a></h2><h2 id="Unsolved-864-Shortest-Path-to-Get-All-Keys🎂"><a href="#Unsolved-864-Shortest-Path-to-Get-All-Keys🎂" class="headerlink" title="Unsolved 864. Shortest Path to Get All Keys🎂"></a><a href="https://leetcode.com/problems/shortest-path-to-get-all-keys/" target="_blank" rel="noopener">Unsolved 864. Shortest Path to Get All Keys🎂</a></h2><h3 id="Solution1-11"><a href="#Solution1-11" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>BFS</p>
</li>
<li><p>find out all keys reachable from stanting</p>
<p>use all keys to open the locks</p>
<p>run more BFS to find out more keys<br>…</p>
<p>regular bfs</p>
<pre><code>visited[x] [y]: if (x. y) is reach before</code></pre><p>this bfs</p>
<pre><code>visited [x] [y] [a] [b] [c] [d] [e] [f] if access (x, y) with some of the keys</code></pre><p>visited [startX] [startY] [0] [0] [0] [1] [0] [0]</p>
<p>if run into key: set the index of the key to 1<br>if run into lock: check if we have the key</p>
<ul>
<li>If yes: unlock it &gt; visited[lockX]CLockT]<br>If no: lock-&gt; can not access<br>visited [x] [y]  [1] [1]  [1] [1] [1] [1]<br>status compression<br>visited [x] [y] [mask]<br>visited[startX] [startY] [0]<br>visited[x] [y] [0b111111]</li>
</ul>
</li>
<li><p>Use Bit to represent the keys.</p>
</li>
<li><p>Use <code>State</code> to represent visited states.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> keys, i, j;</span><br><span class="line">    State(<span class="keyword">int</span> keys, <span class="keyword">int</span> i, <span class="keyword">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">this</span>.keys = keys;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">        <span class="keyword">this</span>.j = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestPathAllKeys</span><span class="params">(String[] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = -<span class="number">1</span>, y = -<span class="number">1</span>, m = grid.length, n = grid[<span class="number">0</span>].length(), max = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = grid[i].charAt(j);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'@'</span>) &#123;</span><br><span class="line">                x = i;</span><br><span class="line">                y = j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'f'</span>) &#123;</span><br><span class="line">                max = Math.max(c - <span class="string">'a'</span> + <span class="number">1</span>, max);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    State start = <span class="keyword">new</span> State(<span class="number">0</span>, x, y);</span><br><span class="line">    Queue&lt;State&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(<span class="number">0</span> + <span class="string">" "</span> + x + <span class="string">" "</span> + y);</span><br><span class="line">    q.offer(start);</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            State cur = q.poll();</span><br><span class="line">            <span class="keyword">if</span> (cur.keys == (<span class="number">1</span> &lt;&lt; max) - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> step;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = cur.i + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> j = cur.j + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">int</span> keys = cur.keys;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= <span class="number">0</span> &amp;&amp; i &lt; m &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line">                    <span class="keyword">char</span> c = grid[i].charAt(j);</span><br><span class="line">                    <span class="keyword">if</span> (c == <span class="string">'#'</span>) &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'f'</span>) &#123;</span><br><span class="line">                        keys |= <span class="number">1</span> &lt;&lt; (c - <span class="string">'a'</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'F'</span> &amp;&amp; ((keys &gt;&gt; (c - <span class="string">'A'</span>)) &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!visited.contains(keys + <span class="string">" "</span> + i + <span class="string">" "</span> + j)) &#123;</span><br><span class="line">                        visited.add(keys + <span class="string">" "</span> + i + <span class="string">" "</span> + j);</span><br><span class="line">                        q.offer(<span class="keyword">new</span> State(keys, i, j));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h1><h2 id="323-Number-of-Connected-Components-in-an-Undirected-Graph⭐"><a href="#323-Number-of-Connected-Components-in-an-Undirected-Graph⭐" class="headerlink" title="323. Number of Connected Components in an Undirected Graph⭐"></a><a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/" target="_blank" rel="noopener">323. Number of Connected Components in an Undirected Graph⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countComponents</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph.put(i, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    buildGraph(graph, edges);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            dfs(i, graph, visited);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> idx, Map&lt;Integer, List&lt;Integer&gt;&gt; graph, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (visited[idx]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    visited[idx] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph.get(idx)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">            dfs(neighbor, graph, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildGraph</span><span class="params">(Map&lt;Integer, List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges) &#123;</span><br><span class="line">        <span class="keyword">int</span> i = edge[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> j = edge[<span class="number">1</span>];</span><br><span class="line">        graph.get(i).add(j);</span><br><span class="line">        graph.get(j).add(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1192-Critical-Connections-in-a-Network⭐"><a href="#1192-Critical-Connections-in-a-Network⭐" class="headerlink" title="1192. Critical Connections in a Network⭐"></a><a href="https://leetcode.com/problems/critical-connections-in-a-network/" target="_blank" rel="noopener">1192. Critical Connections in a Network⭐</a></h2><h3 id="Solution1-12"><a href="#Solution1-12" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><a href="https://leetcode.com/problems/critical-connections-in-a-network/discuss/382638/DFS-detailed-explanation-O(orEor)-solution" target="_blank" rel="noopener">Explanation</a></li>
<li>思路：找环，环上任何一条边都不是criticalConnections</li>
<li>如何用O(n)找环：<ul>
<li>DFS前向搜索：每个节点最多走一遍，每走一步记录当前步数</li>
<li>DFS探索返回：返回当前节点（间接）接触到非父节点的最小步数的节点</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Set&lt;List&lt;Integer&gt;&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;(connections);</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; c : connections) &#123;</span><br><span class="line">        connect(c.get(<span class="number">0</span>), c.get(<span class="number">1</span>), graph);</span><br><span class="line">        connect(c.get(<span class="number">1</span>), c.get(<span class="number">0</span>), graph);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] steps = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(steps, -<span class="number">2</span>);  <span class="comment">//-2 because when traverse the neighbor check the depth-1(parent depth)</span></span><br><span class="line">    dfs(<span class="number">0</span>, <span class="number">0</span>, steps, graph, set);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> depth, <span class="keyword">int</span>[] steps, Map&lt;Integer, List&lt;Integer&gt;&gt; graph, Set&lt;List&lt;Integer&gt;&gt; set)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (steps[node] &gt;= <span class="number">0</span>) <span class="keyword">return</span> steps[node];</span><br><span class="line"></span><br><span class="line">    steps[node] = depth;</span><br><span class="line">    <span class="comment">//record current min depth, if is a leave node no neighbor will return this depth value</span></span><br><span class="line">    <span class="keyword">int</span> minDepthFound = depth;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph.get(node)) &#123;</span><br><span class="line">        <span class="comment">//skip the parent</span></span><br><span class="line">        <span class="keyword">if</span> (steps[neighbor] == depth - <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//recursive dfs to the neighbor branch to get depth</span></span><br><span class="line">        <span class="keyword">int</span> minDepth = dfs(neighbor, depth + <span class="number">1</span>, steps, graph, set);</span><br><span class="line">        minDepthFound = Math.min(minDepthFound, minDepth);</span><br><span class="line">        <span class="comment">//if the neighbor branch depht &lt;= current depth, cycle exist</span></span><br><span class="line">        <span class="keyword">if</span> (minDepth &lt;= depth) &#123;</span><br><span class="line">            set.remove(Arrays.asList(node, neighbor));</span><br><span class="line">            set.remove(Arrays.asList(neighbor, node));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minDepthFound;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, Map&lt;Integer, List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</span><br><span class="line">    graph.putIfAbsent(i, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">    graph.get(i).add(j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-6"><a href="#Solution2-6" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><a href="https://leetcode.com/problems/critical-connections-in-a-network/discuss/401340/Clean-Java-Solution-With-Explanation!!!-Great-Question!" target="_blank" rel="noopener">Explanation</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    List&lt;Integer&gt;[] graph = <span class="keyword">new</span> ArrayList[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; connection : connections) &#123;</span><br><span class="line">        graph[connection.get(<span class="number">0</span>)].add(connection.get(<span class="number">1</span>));</span><br><span class="line">        graph[connection.get(<span class="number">1</span>)].add(connection.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;List&lt;Integer&gt;&gt; connectionsSet = <span class="keyword">new</span> HashSet&lt;&gt;(connections);</span><br><span class="line">    <span class="keyword">int</span>[] step = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(step, -<span class="number">2</span>);</span><br><span class="line">    dfs(graph, <span class="number">0</span>, <span class="number">0</span>, step, connectionsSet);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(connectionsSet);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="keyword">int</span> node, <span class="keyword">int</span> depth, <span class="keyword">int</span>[] step, HashSet&lt;List&lt;Integer&gt;&gt; connectionsSet)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case already visited node. return its depth</span></span><br><span class="line">    <span class="keyword">if</span> (step[node] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> step[node];</span><br><span class="line">    &#125;</span><br><span class="line">    step[node] = depth;</span><br><span class="line">    <span class="keyword">int</span> minDepthFound = depth;</span><br><span class="line">    <span class="keyword">for</span> (Integer neighbor : graph[node]) &#123;</span><br><span class="line">        <span class="comment">// skip parent</span></span><br><span class="line">        <span class="keyword">if</span> (step[neighbor] == depth - <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> minDepth = dfs(graph, neighbor, depth + <span class="number">1</span>, step, connectionsSet);</span><br><span class="line">        minDepthFound = Math.min(minDepthFound, minDepth);</span><br><span class="line">        <span class="keyword">if</span> (minDepth &lt;= depth) &#123;</span><br><span class="line">            <span class="comment">// to avoid the sorting just try to remove both combinations. of (x,y) and (y,x)</span></span><br><span class="line">            connectionsSet.remove(Arrays.asList(node, neighbor));</span><br><span class="line">            connectionsSet.remove(Arrays.asList(neighbor, node));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minDepthFound;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We record the timestamp that we visit each node. For each node, we check every neighbor except its parent and return a smallest timestamp in all its neighbors. If this timestamp is strictly less than the node's timestamp, we know that this node is somehow in a cycle. Otherwise, this edge from the parent to this node is a critical connection</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    List&lt;Integer&gt;[] graph = <span class="keyword">new</span> ArrayList[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) graph[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(List&lt;Integer&gt; oneConnection :connections) &#123;</span><br><span class="line">        graph[oneConnection.get(<span class="number">0</span>)].add(oneConnection.get(<span class="number">1</span>));</span><br><span class="line">        graph[oneConnection.get(<span class="number">1</span>)].add(oneConnection.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> timer[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; results = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">int</span> []timeStampAtThatNode = <span class="keyword">new</span> <span class="keyword">int</span>[n]; </span><br><span class="line">    criticalConnectionsUtil(graph, -<span class="number">1</span>, <span class="number">0</span>, timer, visited, results, timeStampAtThatNode);</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">criticalConnectionsUtil</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="keyword">int</span> parent, <span class="keyword">int</span> node, <span class="keyword">int</span> timer[], <span class="keyword">boolean</span>[] visited, List&lt;List&lt;Integer&gt;&gt; results, <span class="keyword">int</span> []timeStampAtThatNode)</span> </span>&#123;</span><br><span class="line">    visited[node] = <span class="keyword">true</span>;</span><br><span class="line">    timeStampAtThatNode[node] = timer[<span class="number">0</span>]++;</span><br><span class="line">    <span class="keyword">int</span> currentTimeStamp = timeStampAtThatNode[node];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> oneNeighbour : graph[node]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(oneNeighbour == parent) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!visited[oneNeighbour]) criticalConnectionsUtil(graph, node, oneNeighbour, timer, visited, results, timeStampAtThatNode);</span><br><span class="line">        timeStampAtThatNode[node] = Math.min(timeStampAtThatNode[node], timeStampAtThatNode[oneNeighbour]);</span><br><span class="line">        <span class="keyword">if</span>(currentTimeStamp &lt; timeStampAtThatNode[oneNeighbour]) results.add(Arrays.asList(node, oneNeighbour));</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-529-Minesweeper⭐"><a href="#Unsolved-529-Minesweeper⭐" class="headerlink" title="Unsolved 529. Minesweeper⭐"></a><a href="https://leetcode.com/problems/minesweeper/" target="_blank" rel="noopener">Unsolved 529. Minesweeper⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">[[<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'M'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>]]</span><br><span class="line"></span><br><span class="line">Click : [<span class="number">3</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line"></span><br><span class="line">[[<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'E'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'M'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>]]</span><br></pre></td></tr></table></figure>

<p><img src="https://assets.leetcode.com/uploads/2018/10/12/minesweeper_example_1.png" alt=""></p>
<h3 id="Solution1-13"><a href="#Solution1-13" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>dfs</li>
<li>This is a typical <code>Search</code> problem, either by using <code>DFS</code> or <code>BFS</code>. Search rules:<ol>
<li>If click on a mine (‘<code>M</code>‘), mark it as ‘<code>X</code>‘, stop further search.</li>
<li>If click on an empty cell (‘<code>E</code>‘), depends on how many surrounding mine:<br>2.1 Has surrounding mine(s), mark it with number of surrounding mine(s), stop further search.<br>2.2 No surrounding mine, mark it as ‘<code>B</code>‘, continue search its <code>8</code> neighbors.</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">    <span class="keyword">if</span> (board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span> || click.length != <span class="number">2</span>) <span class="keyword">return</span> board;</span><br><span class="line">    <span class="keyword">int</span> r = click[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> c = click[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span>) &#123;</span><br><span class="line">        board[r][c] = <span class="string">'X'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dfs(board, r, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> board;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= board.length || c &lt; <span class="number">0</span> || c &gt;= board[<span class="number">0</span>].length || board[r][c] != <span class="string">'E'</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> numOfMine = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = r + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> y = c + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= board.length || y &lt; <span class="number">0</span> || y &gt;= board[<span class="number">0</span>].length) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (board[x][y] == <span class="string">'M'</span>) numOfMine++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (numOfMine &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        board[r][c] = (<span class="keyword">char</span>) (numOfMine + <span class="string">'0'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        board[r][c] = <span class="string">'B'</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = r + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = c + dir[<span class="number">1</span>];</span><br><span class="line">            dfs(board, x, y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> row = click[<span class="number">0</span>], col = click[<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (board[row][col] == <span class="string">'M'</span>) &#123; <span class="comment">// Mine</span></span><br><span class="line">            board[row][col] = <span class="string">'X'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// Empty</span></span><br><span class="line">            <span class="comment">// Get number of mines first.</span></span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span> || board[r][c] == <span class="string">'X'</span>) count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123; <span class="comment">// If it is not a 'B', stop further DFS.</span></span><br><span class="line">                board[row][col] = (<span class="keyword">char</span>)(count + <span class="string">'0'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="comment">// Continue DFS to adjacent cells.</span></span><br><span class="line">                board[row][col] = <span class="string">'B'</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span> (board[r][c] == <span class="string">'E'</span>) updateBoard(board, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-7"><a href="#Solution2-7" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.add(click);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cell = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> row = cell[<span class="number">0</span>], col = cell[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (board[row][col] == <span class="string">'M'</span>) &#123; <span class="comment">// Mine</span></span><br><span class="line">                board[row][col] = <span class="string">'X'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="comment">// Empty</span></span><br><span class="line">                <span class="comment">// Get number of mines first.</span></span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span> || board[r][c] == <span class="string">'X'</span>) count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123; <span class="comment">// If it is not a 'B', stop further BFS.</span></span><br><span class="line">                    board[row][col] = (<span class="keyword">char</span>)(count + <span class="string">'0'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123; <span class="comment">// Continue BFS to adjacent cells.</span></span><br><span class="line">                    board[row][col] = <span class="string">'B'</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                            <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                            <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                            <span class="keyword">if</span> (board[r][c] == <span class="string">'E'</span>) &#123;</span><br><span class="line">                                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">                                board[r][c] = <span class="string">'B'</span>; <span class="comment">// Avoid to be added again.</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-417-Pacific-Atlantic-Water-Flow🎂⭐💎"><a href="#Unsolved-417-Pacific-Atlantic-Water-Flow🎂⭐💎" class="headerlink" title="Unsolved 417. Pacific Atlantic Water Flow🎂⭐💎"></a><a href="https://leetcode.com/problems/pacific-atlantic-water-flow/" target="_blank" rel="noopener">Unsolved 417. Pacific Atlantic Water Flow🎂⭐💎</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Given the following <span class="number">5</span>x5 matrix:</span><br><span class="line"></span><br><span class="line">  Pacific ~   ~   ~   ~   ~</span><br><span class="line">       ~  <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">5</span>) *</span><br><span class="line">       ~  <span class="number">3</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">4</span>) (<span class="number">4</span>) *</span><br><span class="line">       ~  <span class="number">2</span>   <span class="number">4</span>  (<span class="number">5</span>)  <span class="number">3</span>   <span class="number">1</span>  *</span><br><span class="line">       ~ (<span class="number">6</span>) (<span class="number">7</span>)  <span class="number">1</span>   <span class="number">4</span>   <span class="number">5</span>  *</span><br><span class="line">       ~ (<span class="number">5</span>)  <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">4</span>  *</span><br><span class="line">          *   *   *   *   * Atlantic</span><br><span class="line"></span><br><span class="line">Return:</span><br><span class="line">[[<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">3</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">0</span>]] (positions with parentheses in above matrix).</span><br></pre></td></tr></table></figure>

<ol>
<li>左边和上边是太平洋，右边和下边是大西洋，内部的数字代表海拔，海拔高的地方的水能够流到低的地方，求解水能够流到太平洋和大西洋的所有位置。</li>
<li><a href="https://leetcode.com/problems/pacific-atlantic-water-flow/discuss/90733/Java-BFS-and-DFS-from-Ocean" target="_blank" rel="noopener">Explaination</a></li>
</ol>
<h3 id="Solution1-14"><a href="#Solution1-14" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>DFS 每一个点需要回溯，会变成n^2。</li>
<li>优化，从边dfs二者，然后取交集，没有回溯变成线性O(n)。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> m, n;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] matrix;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pacificAtlantic(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="comment">//edge case</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.matrix = matrix;</span><br><span class="line">    m = matrix.length;</span><br><span class="line">    n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">boolean</span>[][] canReachP = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    <span class="keyword">boolean</span>[][] canReachA = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        dfs(i, <span class="number">0</span>, canReachP);</span><br><span class="line">        dfs(i, n - <span class="number">1</span>, canReachA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, j, canReachP);</span><br><span class="line">        dfs(m - <span class="number">1</span>, j, canReachA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (canReachP[i][j] &amp;&amp; canReachA[i][j]) &#123;</span><br><span class="line">                ans.add(Arrays.asList(i, j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">boolean</span>[][] canReach)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (canReach[i][j]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    canReach[i][j] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">        <span class="keyword">int</span> nextR = i + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> nextC = j + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (nextR &lt; <span class="number">0</span> || nextR &gt;= m || nextC &lt; <span class="number">0</span> || nextC &gt;= n || matrix[nextR][nextC] &lt; matrix[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(nextR, nextC, canReach);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="200-Number-of-Islands💜⭐"><a href="#200-Number-of-Islands💜⭐" class="headerlink" title="200. Number of Islands💜⭐"></a><a href="https://leetcode.com/problems/number-of-islands/" target="_blank" rel="noopener">200. Number of Islands💜⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">00100</span></span><br><span class="line"><span class="number">00011</span></span><br><span class="line"></span><br><span class="line">Output: <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>可以将矩阵表示看成一张有向图。</p>
<h3 id="Solution1-15"><a href="#Solution1-15" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>DFS</p>
</li>
<li><p>Time: O(MN). </p>
<p>Space: O(MN). M is the rows, N is the cols.worst case O(M×N) in case that the grid map is filled with lands where DFS goes by M \times N<em>M</em>×<em>N</em> deep.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                ans++;</span><br><span class="line">                dfs(i, j, grid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= grid.length || j &lt; <span class="number">0</span> || j &gt;= grid[<span class="number">0</span>].length || grid[i][j] != <span class="string">'1'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mark as visited and go through 4 directions</span></span><br><span class="line">    grid[i][j] = <span class="string">' '</span>;</span><br><span class="line">    dfs(i + <span class="number">1</span>, j, grid);</span><br><span class="line">    dfs(i - <span class="number">1</span>, j, grid);</span><br><span class="line">    dfs(i, j + <span class="number">1</span>, grid);</span><br><span class="line">    dfs(i, j - <span class="number">1</span>, grid);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Error check :</span></span><br><span class="line"><span class="comment">if grid == null || gird.length == 0 return 0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution1:</span></span><br><span class="line"><span class="comment">DFS</span></span><br><span class="line"><span class="comment">need a dfs helper function</span></span><br><span class="line"><span class="comment">Step1: Travsse the whole grid</span></span><br><span class="line"><span class="comment">Step2: When we encounter a land(1), add max varaible by 1, apply dfs which will tarverse cuurent whole island, and mark it has been traversed</span></span><br><span class="line"><span class="comment">Step3: Continue step2 until finish the traverse the grid, finally return max</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Go through Example :</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  ["1","1","1","1","0"],</span></span><br><span class="line"><span class="comment">  ["1","1","0","1","0"],</span></span><br><span class="line"><span class="comment">  ["1","1","0","0","0"],</span></span><br><span class="line"><span class="comment">  ["0","0","0","0","0"]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">-&gt;</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  ["-1","-1","-1","-1","0"],</span></span><br><span class="line"><span class="comment">  ["-1","-1","0","-1","0"],</span></span><br><span class="line"><span class="comment">  ["-1","-1","0","0","0"],</span></span><br><span class="line"><span class="comment">  ["0","0","0","0","0"]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">retrun 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Time O(mn)</span></span><br><span class="line"><span class="comment">Space O(mn)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution2-8"><a href="#Solution2-8" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>BFS</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IslandCountBFS</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getNumberOfIslands</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (binaryMatrix == <span class="keyword">null</span> || binaryMatrix.length == <span class="number">0</span> || binaryMatrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> m = binaryMatrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = binaryMatrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (binaryMatrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    markIsland(binaryMatrix, m, n, i, j);</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">markIsland</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;(); <span class="comment">// store the index in queue</span></span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.remove();</span><br><span class="line">            <span class="keyword">int</span> r = cur[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> c = cur[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (binaryMatrix[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                binaryMatrix[r][c] = -<span class="number">1</span>; <span class="comment">// mark as visited</span></span><br><span class="line">                addIfValid(queue, m, n, r - <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r + <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r, c - <span class="number">1</span>);</span><br><span class="line">                addIfValid(queue, m, n, r, c + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addIfValid</span><span class="params">(Queue&lt;<span class="keyword">int</span>[]&gt; queue, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (r &gt;= <span class="number">0</span> &amp;&amp; r &lt; m &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; n) queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] binaryMatrix = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        System.out.println(getNumberOfIslands(binaryMatrix));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="694-Number-of-Distinct-Islands⭐"><a href="#694-Number-of-Distinct-Islands⭐" class="headerlink" title="694. Number of Distinct Islands⭐"></a><a href="https://leetcode.com/problems/number-of-distinct-islands/" target="_blank" rel="noopener">694. Number of Distinct Islands⭐</a></h2><h3 id="Solution1-16"><a href="#Solution1-16" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Hash By Local Coordinates</li>
<li>Time Complexity: O(R<em>C)*O</em>(<em>R</em>∗<em>C</em>), where R<em>R</em> is the number of rows in the given <code>grid</code>, and C<em>C</em> is the number of columns. We visit every square once.</li>
<li>Space complexity: O(R<em>C)*O</em>(<em>R</em>∗<em>C</em>), the space used by <code>seen</code> to keep track of visited squares, and <code>shapes</code>.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinctIslands</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    HashSet&lt;String&gt; shapes = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dfs(grid, i, j, <span class="number">0</span>, <span class="number">0</span>, sb);</span><br><span class="line">                String shape = sb.toString();</span><br><span class="line">                <span class="keyword">if</span> (!shapes.contains(shape)) &#123;</span><br><span class="line">                    ans++;</span><br><span class="line">                    shapes.add(shape);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> x, <span class="keyword">int</span> y, StringBuilder sb)</span> </span>&#123;</span><br><span class="line">    grid[i][j] = <span class="number">0</span>;</span><br><span class="line">    sb.append(<span class="string">""</span> + x + y);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">        <span class="keyword">int</span> r = i + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> c = j + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= grid.length || c &lt; <span class="number">0</span> || c &gt;= grid[<span class="number">0</span>].length || grid[r][c] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(grid, r, c, x + dir[<span class="number">0</span>], y + dir[<span class="number">1</span>], sb);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-9"><a href="#Solution2-9" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Use direction string instead of using number string in set</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinctIslands</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dfs(grid, i, j, sb, <span class="string">"o"</span>); <span class="comment">// origin</span></span><br><span class="line">                grid[i][j] = <span class="number">0</span>;</span><br><span class="line">                set.add(sb.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> set.size();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, StringBuilder sb, String dir)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i == grid.length || j &lt; <span class="number">0</span> || j == grid[i].length </span><br><span class="line">       || grid[i][j] == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    sb.append(dir);</span><br><span class="line">    grid[i][j] = <span class="number">0</span>;</span><br><span class="line">    dfs(grid, i-<span class="number">1</span>, j, sb, <span class="string">"u"</span>);</span><br><span class="line">    dfs(grid, i+<span class="number">1</span>, j, sb, <span class="string">"d"</span>);</span><br><span class="line">    dfs(grid, i, j-<span class="number">1</span>, sb, <span class="string">"l"</span>);</span><br><span class="line">    dfs(grid, i, j+<span class="number">1</span>, sb, <span class="string">"r"</span>);</span><br><span class="line">    sb.append(<span class="string">"b"</span>); <span class="comment">// back</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Universal-sink⭐⭐"><a href="#Universal-sink⭐⭐" class="headerlink" title="Universal sink⭐⭐"></a>Universal sink⭐⭐</h2><p>Find a universal sink in a directed acyclic graph. </p>
<p>And the universal sink means a vertex that has no edge emanating from it, and all other vertices have an edge towards the sink.</p>
<h3 id="Solution1-17"><a href="#Solution1-17" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>This is a similar question with Find Celebrity, the goal of this question is to find a node which doesn’t have an arrow towards any other node in a graph.</p>
</li>
<li><p>You can start by checking any node as beginning, in any given “checking”, you have two possibility:</p>
<ol>
<li>For this node, there is an arrow towards other node, in this case, this is not candidate for our goal, then you can move on checking the next node (by following the arrow), and removing current node from candidate list</li>
<li>For this node, there is zero arrow towards other node, in this case, this is a candidate, you can save this candidate and move on checking other node.</li>
</ol>
<p>Once you exhaust all nodes and end up with an empty candidate list, you can draw the conclusion that there is no universal sink, vice versa.</p>
</li>
</ol>
<h3 id="277-Find-the-celebrity⭐⭐"><a href="#277-Find-the-celebrity⭐⭐" class="headerlink" title="277. Find the celebrity⭐⭐"></a><a href="https://leetcode.com/problems/find-the-celebrity/" target="_blank" rel="noopener">277. Find the celebrity⭐⭐</a></h3><h3 id="Solution1-18"><a href="#Solution1-18" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：所有人都知道 c，而 c 不知道任何人，所以如果 0 是 c，则它不可能知道任何其他人，如果 0 不是 c，则他一定知道 c，以此类推，找到唯一的一个可能是 c 的。然后判断是否符合条件。O(n)</li>
<li>The first pass is to pick out the candidate. If candidate knows i, then switch candidate. The second pass is to check whether the candidate is real.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T O(n) | S O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> candidate = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//if candidate is real, he will not know everyone, i is fixed</span></span><br><span class="line">        <span class="keyword">if</span> (knows(candidate, i))</span><br><span class="line">            candidate = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//test it's a valid candidate</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != candidate &amp;&amp; (knows(candidate, i) || !knows(i, candidate)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-10"><a href="#Solution2-10" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Brute Force</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Relation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> nums;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        nums = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(isCelebrity(i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isCelebrity</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (knows(i, j) || !knows(j, i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3"><a href="#Solution3" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li><p>Problem Statement </p>
</li>
<li><p>implement <code>findCelebrity()</code> method to find the celebrity in a party (matrix) using a stack. A celebrity is someone that everyone knows, but he/she doesn’t know anyone at the party.</p>
</li>
<li><p>Where the <em>party</em> is a reference variable storing a 2D matrix, which has stored all the information about acquaintances, <em>numPeople</em> and the number of people present in the party.</p>
<p>In the party matrix, a particular [row][col] stores acquaintance information for row and col. In other words, if [row][col] == 1, then it means row knows col, and if it’s zero, then it means <em>row</em> doesn’t know <em>col</em>. Remember that everyone knows a celebrity, but the celebrity doesn’t know the people at the party.</p>
</li>
<li><pre><code class="java">party = {
          {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>},
          {<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>},
          {<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>},
          {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>},
                }

numPeople = <span class="number">4</span> (Number of rows in party array)   

<span class="number">2</span> (because row Index = <span class="number">2</span> is a celebrity)
&lt;!--￼<span class="number">50</span>--&gt;
</code></pre>
</li>
</ol>
<h2 id="Unsolved-332-Reconstruct-Itinerary🎂⭐"><a href="#Unsolved-332-Reconstruct-Itinerary🎂⭐" class="headerlink" title="Unsolved 332. Reconstruct Itinerary🎂⭐"></a><a href="https://leetcode.com/problems/reconstruct-itinerary/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 332. Reconstruct Itinerary🎂⭐</a></h2><p><a href="https://leetcode.com/problems/reconstruct-itinerary/discuss/78768/Short-Ruby-Python-Java-C%2B%2B" target="_blank" rel="noopener">https://leetcode.com/problems/reconstruct-itinerary/discuss/78768/Short-Ruby-Python-Java-C%2B%2B</a></p>
<p>“Given a list of airline tickets represented by pairs of departure and arrival airports <em><code>[from, to]</code></em>, reconstruct the itinerary in order. All of the tickets belong to a man who departs from <em><code>JFK</code></em>. Thus, the itinerary must begin with <em><code>JFK</code></em>.”</p>
<h3 id="Solution1-19"><a href="#Solution1-19" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：假设没有重复，非常容易，只要建立词典，从 JFK 开始逐一机票使用。</li>
<li>现在是有可能有重复，不过题中还给出了另一个条件：如果有重复，则按到站的字典顺排序。所以这里只有到站是需要排序的。排序问题可以想到优先队列。</li>
<li>有了上述的准备工作，则使用 DFS 找结果，最后把结果存入数组。</li>
<li>Path.addFirst 是因为总是靠近队尾的元素更先到该句（因为是 DFS）。如果有答案，可以证明：重复到站先走哪个都应该可以完成。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, PriorityQueue&lt;String&gt;&gt; map;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(List&lt;List&lt;String&gt;&gt; tickets)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (List&lt;String&gt; ticket : tickets) &#123;</span><br><span class="line">        map.putIfAbsent(ticket.get(<span class="number">0</span>), <span class="keyword">new</span> PriorityQueue&lt;String&gt;());</span><br><span class="line">        map.get(ticket.get(<span class="number">0</span>)).add(ticket.get(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(<span class="string">"JFK"</span>, path);</span><br><span class="line">    <span class="keyword">return</span> path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String dep, List&lt;String&gt; path)</span> </span>&#123;</span><br><span class="line">    PriorityQueue&lt;String&gt; heap = map.get(dep);</span><br><span class="line">    <span class="keyword">while</span>(heap != <span class="keyword">null</span> &amp;&amp; !heap.isEmpty()) &#123;</span><br><span class="line">        dfs(heap.poll(), path);</span><br><span class="line">    &#125;</span><br><span class="line">    path.add(<span class="number">0</span>, dep);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-11"><a href="#Solution2-11" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String[] ticket : tickets)</span><br><span class="line">        targets.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue()).add(ticket[<span class="number">1</span>]);</span><br><span class="line">    visit(<span class="string">"JFK"</span>);</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">List&lt;String&gt; route = <span class="keyword">new</span> LinkedList();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(String airport)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(targets.containsKey(airport) &amp;&amp; !targets.get(airport).isEmpty())</span><br><span class="line">        visit(targets.get(airport).poll());</span><br><span class="line">    route.add(<span class="number">0</span>, airport);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Iterative version:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">    Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String[] ticket : tickets)</span><br><span class="line">        targets.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue()).add(ticket[<span class="number">1</span>]);</span><br><span class="line">    List&lt;String&gt; route = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="string">"JFK"</span>);</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (targets.containsKey(stack.peek()) &amp;&amp; !targets.get(stack.peek()).isEmpty())</span><br><span class="line">            stack.push(targets.get(stack.peek()).poll());</span><br><span class="line">        route.add(<span class="number">0</span>, stack.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="980-Unique-Paths-III⭐"><a href="#980-Unique-Paths-III⭐" class="headerlink" title="980.Unique Paths III⭐"></a><a href="https://leetcode.com/problems/unique-paths-iii/" target="_blank" rel="noopener">980.Unique Paths III⭐</a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [[1,0,0,0],[0,0,0,0],[0,0,2,-1]]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: We have the following two paths: </span><br><span class="line">1. (0,0),(0,1),(0,2),(0,3),(1,3),(1,2),(1,1),(1,0),(2,0),(2,1),(2,2)</span><br><span class="line">2. (0,0),(1,0),(2,0),(2,1),(1,1),(0,1),(0,2),(0,3),(1,3),(1,2),(2,2)</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-20"><a href="#Solution1-20" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>First find out where the start and the end is.<br>Also We need to know the number of empty cells.</p>
<p>We we try to explore a cell,<br>it will change 0 to -2 and do a dfs in 4 direction.</p>
<p>If we hit the target and pass all empty cells, increment the result.</p>
</li>
</ol>
<p>   Time complexity is as good as dp,<br>   but it take less space and easier to implement.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> empty = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> sx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sy = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">uniquePathsIII</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = grid.length;</span><br><span class="line">        <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    sx = i;</span><br><span class="line">                    sy = j;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                    empty++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(sx, sy, grid);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//base case</span></span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= grid.length || y &lt; <span class="number">0</span> || y &gt;= grid[<span class="number">0</span>].length || grid[x][y] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (grid[x][y] == <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (empty == <span class="number">0</span>) &#123;</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[x][y] = -<span class="number">1</span>;</span><br><span class="line">        empty--;</span><br><span class="line">        dfs(x - <span class="number">1</span>, y, grid);</span><br><span class="line">        dfs(x + <span class="number">1</span>, y, grid);</span><br><span class="line">        dfs(x, y - <span class="number">1</span>, grid);</span><br><span class="line">        dfs(x, y + <span class="number">1</span>, grid);</span><br><span class="line">        grid[x][y] = <span class="number">0</span>;</span><br><span class="line">        empty++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-1102-Path-With-Maximum-Minimum-Value⭐"><a href="#Unsolved-1102-Path-With-Maximum-Minimum-Value⭐" class="headerlink" title="Unsolved 1102. Path With Maximum Minimum Value⭐"></a><a href="https://leetcode.com/problems/path-with-maximum-minimum-value/" target="_blank" rel="noopener">Unsolved 1102. Path With Maximum Minimum Value⭐</a></h2><p>“Given a matrix of integers <em><code>A</code></em> with R rows and C columns, find the <strong>maximum</strong> score of a path starting at <em><code>[0,0]</code></em> and ending at <em><code>[R-1,C-1]</code></em>.”</p>
<p><a href="https://leetcode.com/problems/path-with-maximum-minimum-value/" target="_blank" rel="noopener">https://leetcode.com/problems/path-with-maximum-minimum-value/</a></p>
<h2 id="695-Max-Area-of-Island✨"><a href="#695-Max-Area-of-Island✨" class="headerlink" title="695. Max Area of Island✨"></a><a href="https://leetcode.com/problems/max-area-of-island/description/" target="_blank" rel="noopener">695. Max Area of Island✨</a></h2><h3 id="Solution1-21"><a href="#Solution1-21" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Given a non-empty 2D array <code>grid</code> of 0’s and 1’s, an <strong>island</strong> is a group of <code>1</code>‘s (representing land) connected 4-directionally (horizontal or vertical.) You may assume all four edges of the grid are surrounded by water.</li>
<li>Find the maximum area of an island in the given 2D array. (If there is no island, the maximum area is 0.)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">Given the above grid, <span class="keyword">return</span> <span class="number">6</span>. </span><br><span class="line">Note the answer is not <span class="number">11</span>, because the island must be connected <span class="number">4</span>-directionally.</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxAreaOfIsland</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                max = Math.max(max, dfs(grid, i, j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= grid.length || c &lt; <span class="number">0</span> || c &gt;= grid[<span class="number">0</span>].length || grid[r][c] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    grid[r][c] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    count += dfs(grid, r+<span class="number">1</span>, c);</span><br><span class="line">    count += dfs(grid, r-<span class="number">1</span>, c);</span><br><span class="line">    count += dfs(grid, r, c+<span class="number">1</span>);</span><br><span class="line">    count += dfs(grid, r, c-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="130-Surrounded-Regions✨"><a href="#130-Surrounded-Regions✨" class="headerlink" title="130.Surrounded Regions✨"></a><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="noopener">130.Surrounded Regions✨</a></h2><h3 id="Solution1-22"><a href="#Solution1-22" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：先把不被包围的 0 全部置成特殊字符（这里使用” + “），然后再逐一扫描元素，是’’ + ‘’的置回 0，是 0 的置成 X。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[i][<span class="number">0</span>] == <span class="string">'O'</span>) dfs(board, i, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (board[i][n - <span class="number">1</span>] == <span class="string">'O'</span>) dfs(board, i, n  -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">0</span>][j] == <span class="string">'O'</span>) dfs(board, <span class="number">0</span>, j);</span><br><span class="line">        <span class="keyword">if</span> (board[m - <span class="number">1</span>][j] == <span class="string">'O'</span>) dfs(board, m - <span class="number">1</span>, j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) &#123;</span><br><span class="line">                board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">'A'</span>) &#123;</span><br><span class="line">                board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'A'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    board[i][j] = <span class="string">'A'</span>;</span><br><span class="line">    dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">    dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-12"><a href="#Solution2-12" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Hi. So here is my accepted code using <strong>Union Find</strong> data structure. The idea comes from the observation that if a region is NOT captured, it is connected to the boundry. So if we connect all the ‘O’ nodes on the boundry to a dummy node, and then connect each ‘O’ node to its neighbour ‘O’ nodes, then we can tell directly whether a ‘O’ node is captured by checking whether it is connected to the dummy node.<br>For more about Union Find, the first assignment in the algo1 may help:<br><a href="https://www.coursera.org/course/algs4partI" target="_blank" rel="noopener">https://www.coursera.org/course/algs4partI</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UF</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span>* id;     <span class="comment">// id[i] = parent of i</span></span><br><span class="line">    <span class="keyword">int</span>* rank;  <span class="comment">// rank[i] = rank of subtree rooted at i (cannot be more than 31)</span></span><br><span class="line">    <span class="keyword">int</span> count;    <span class="comment">// number of components</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    UF(<span class="keyword">int</span> N)</span><br><span class="line">    &#123;</span><br><span class="line">        count = N;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">            rank[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~UF()</span><br><span class="line">    &#123;</span><br><span class="line">        delete [] id;</span><br><span class="line">        delete [] rank;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != id[p]) &#123;</span><br><span class="line">            id[p] = id[id[p]];    <span class="comment">// path compression by halving</span></span><br><span class="line">            p = id[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">bool <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = find(p);</span><br><span class="line">        <span class="keyword">int</span> j = find(q);</span><br><span class="line">        <span class="keyword">if</span> (i == j) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rank[i] &lt; rank[j]) id[i] = j;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (rank[i] &gt; rank[j]) id[j] = i;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            id[j] = i;</span><br><span class="line">            rank[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(vector&lt;vector&lt;<span class="keyword">char</span>&gt;&gt; &amp;board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = board.size();</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)    <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</span><br><span class="line">        UF uf = UF(n*m+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>((i==<span class="number">0</span>||i==n-<span class="number">1</span>||j==<span class="number">0</span>||j==m-<span class="number">1</span>)&amp;&amp;board[i][j]==<span class="string">'O'</span>) <span class="comment">// if a 'O' node is on the boundry, connect it to the dummy node</span></span><br><span class="line">                    uf.connect(i*m+j,n*m);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j]==<span class="string">'O'</span>) <span class="comment">// connect a 'O' node to its neighbour 'O' nodes</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(board[i-<span class="number">1</span>][j]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,(i-<span class="number">1</span>)*m+j);</span><br><span class="line">                    <span class="keyword">if</span>(board[i+<span class="number">1</span>][j]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,(i+<span class="number">1</span>)*m+j);</span><br><span class="line">                    <span class="keyword">if</span>(board[i][j-<span class="number">1</span>]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,i*m+j-<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(board[i][j+<span class="number">1</span>]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,i*m+j+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!uf.connected(i*m+j,n*m))&#123; <span class="comment">// if a 'O' node is not connected to the dummy node, it is captured</span></span><br><span class="line">                    board[i][j]=<span class="string">'X'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="130-Surrounded-Regions✨-1"><a href="#130-Surrounded-Regions✨-1" class="headerlink" title="130. Surrounded Regions✨"></a><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="noopener">130. Surrounded Regions✨</a></h2><h3 id="Solution1-23"><a href="#Solution1-23" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：先把不被包围的 0 全部置成特殊字符（这里使用<em>），然后再逐一扫描元素，是</em>的置回 0，是 0 的置成 X。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][<span class="number">0</span>] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, i, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (board[i][n - <span class="number">1</span>] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, i, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[<span class="number">0</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, <span class="number">0</span>, j);</span><br><span class="line">            <span class="keyword">if</span> (board[m - <span class="number">1</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, m - <span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>)</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">'+'</span>)</span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i == board.length || j &lt; <span class="number">0</span> || j == board[<span class="number">0</span>].length || board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'+'</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        board[i][j] = <span class="string">'+'</span>;</span><br><span class="line">        dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">        dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="403-Frog-Jump✨"><a href="#403-Frog-Jump✨" class="headerlink" title="403. Frog Jump✨"></a><a href="https://leetcode.com/problems/frog-jump/" target="_blank" rel="noopener">403. Frog Jump✨</a></h2><h3 id="Solution1-24"><a href="#Solution1-24" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; stones.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stones[i] &gt; stones[i - <span class="number">1</span>] * <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> lastStone = stones[stones.length - <span class="number">1</span>];  <span class="comment">//taregt</span></span><br><span class="line">    Stack&lt;Integer&gt; positions = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; jump = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    HashSet&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    positions.push(<span class="number">0</span>);</span><br><span class="line">    jump.push(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> stone : stones) &#123;</span><br><span class="line">        set.add(stone);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!positions.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> current = positions.pop();</span><br><span class="line">        <span class="keyword">int</span> jumpDistance = jump.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = jumpDistance - <span class="number">1</span>; i &lt;= jumpDistance + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt;= <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (current + i == lastStone) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (set.contains(current + i)) &#123;</span><br><span class="line">                    positions.push(current + i);</span><br><span class="line">                    jump.push(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="286-Walls-and-Gates✨"><a href="#286-Walls-and-Gates✨" class="headerlink" title="286. Walls and Gates✨"></a><a href="https://leetcode.com/problems/walls-and-gates/" target="_blank" rel="noopener">286. Walls and Gates✨</a></h2><p>Given the 2D grid:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INF  -<span class="number">1</span>  <span class="number">0</span>  INF</span><br><span class="line">INF INF INF  -<span class="number">1</span></span><br><span class="line">INF  -<span class="number">1</span> INF  -<span class="number">1</span></span><br><span class="line">  <span class="number">0</span>  -<span class="number">1</span> INF INF</span><br></pre></td></tr></table></figure>

<p>After running your function, the 2D grid should be:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>  -<span class="number">1</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>   <span class="number">1</span>  -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>  -<span class="number">1</span>   <span class="number">2</span>  -<span class="number">1</span></span><br><span class="line"><span class="number">0</span>  -<span class="number">1</span>   <span class="number">3</span>   <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-l"><a href="#Solution1-l" class="headerlink" title="Solution1:l"></a>Solution1:l</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wallsAndGates</span><span class="params">(<span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rooms[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(i, j, <span class="number">0</span>, rooms);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> count, <span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= rooms.length || j &lt; <span class="number">0</span> || j &gt;= rooms[i].length || rooms[i][j] &lt; count) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rooms[i][j] = count;</span><br><span class="line">    dfs(i + <span class="number">1</span>, j, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i - <span class="number">1</span>, j, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i, j + <span class="number">1</span>, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i, j - <span class="number">1</span>, count + <span class="number">1</span>, rooms);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-13"><a href="#Solution2-13" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wallsAndGates</span><span class="params">(<span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rooms[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> x = cur[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = cur[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = x + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> c = y + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= rooms.length || c &lt; <span class="number">0</span> || c &gt;= rooms[<span class="number">0</span>].length || rooms[r][c] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                rooms[r][c] = rooms[x][y] + <span class="number">1</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="01-Matrix✨"><a href="#01-Matrix✨" class="headerlink" title="01 Matrix✨"></a><a href="https://leetcode.com/problems/01-matrix/" target="_blank" rel="noopener">01 Matrix✨</a></h2><h3 id="Solution1-25"><a href="#Solution1-25" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>General idea is <code>BFS</code>. Some small tricks:<ol>
<li>At beginning, set cell value to <code>Integer.MAX_VALUE</code> if it is not <code>0</code>.</li>
<li>If newly calculated distance <code>&gt;=</code> current distance, then we don’t need to explore that cell again.</li>
</ol>
</li>
<li>Time complexity: O(r \cdot c)<em>O</em>(<em>r</em>⋅<em>c</em>).<ul>
<li>Since, the new cells are added to the queue only if their current distance is greater than the calculated distance, cells are not likely to be added multiple times.</li>
</ul>
</li>
<li>Space complexity: O(r \cdot c)<em>O</em>(<em>r</em>⋅<em>c</em>). Additional O(r \cdot c)<em>O</em>(<em>r</em>⋅<em>c</em>) for queue than in Approach #1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] updateMatrix(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                matrix[i][j] = Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = cur[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> c = cur[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= matrix.length || c &lt; <span class="number">0</span> || c &gt;= matrix[<span class="number">0</span>].length || matrix[r][c] != Integer.MAX_VALUE) <span class="keyword">continue</span>;</span><br><span class="line">                matrix[r][c] = matrix[cur[<span class="number">0</span>]][cur[<span class="number">1</span>]] + <span class="number">1</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="419-Battleships-in-a-Board💎"><a href="#419-Battleships-in-a-Board💎" class="headerlink" title="419. Battleships in a Board💎"></a><a href="https://leetcode.com/problems/battleships-in-a-board/" target="_blank" rel="noopener">419. Battleships in a Board💎</a></h2><h3 id="Solution1-26"><a href="#Solution1-26" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numBattleships = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'X'</span>) </span><br><span class="line">                numBattleships++;</span><br><span class="line">            dfs(board, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numBattleships;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || board[i][j] != <span class="string">'X'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">    dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">    dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Soltuion2"><a href="#Soltuion2" class="headerlink" title="Soltuion2:"></a>Soltuion2:</h3><ol>
<li><strong>Follow up:</strong><br>Could you do it in <strong>one-pass</strong>, using only <strong>O(1) extra memory</strong> and <strong>without modifying</strong> the value of the board?</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numBattleships = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; board[i - <span class="number">1</span>][j] == <span class="string">'X'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; board[i][j - <span class="number">1</span>] == <span class="string">'X'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            numBattleships++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numBattleships;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="841-Keys-and-Rooms✨"><a href="#841-Keys-and-Rooms✨" class="headerlink" title="841. Keys and Rooms✨"></a><a href="https://leetcode.com/problems/keys-and-rooms/" target="_blank" rel="noopener">841. Keys and Rooms✨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: [[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[]]</span><br><span class="line">Output: <span class="keyword">true</span></span><br><span class="line">Explanation:  </span><br><span class="line">We start in room <span class="number">0</span>, and pick up key <span class="number">1</span>.</span><br><span class="line">We then go to room <span class="number">1</span>, and pick up key <span class="number">2</span>.</span><br><span class="line">We then go to room <span class="number">2</span>, and pick up key <span class="number">3</span>.</span><br><span class="line">We then go to room <span class="number">3</span>.  Since we were able to go to every room, we <span class="keyword">return</span> <span class="keyword">true</span>.</span><br><span class="line"></span><br><span class="line">Input: [[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">0</span>]]</span><br><span class="line">Output: <span class="keyword">false</span></span><br><span class="line">Explanation: We can<span class="string">'t enter the room with number 2.</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-27"><a href="#Solution1-27" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    stack.add(<span class="number">0</span>);</span><br><span class="line">    visited.add(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        List&lt;Integer&gt; keys = rooms.get(stack.pop());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> key : keys) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited.contains(key)) &#123;</span><br><span class="line">                stack.push(key);</span><br><span class="line">                visited.add(key);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> visited.size() == rooms.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="494-Target-Sum✨"><a href="#494-Target-Sum✨" class="headerlink" title="494. Target Sum✨"></a><a href="https://leetcode.com/problems/target-sum/" target="_blank" rel="noopener">494. Target Sum✨</a></h2><h3 id="Solution1-28"><a href="#Solution1-28" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>DFS</p>
</li>
<li><p>题目大意：给你一串数字，你可以在每个数字前放置+或-，问有多少种方法可以使得表达式的值等于target。You are given a list of non-negative integers, a1, a2, …, an, and a target, S. Now you have 2 symbols <code>+</code> and <code>-</code>. For each integer, you should choose one from <code>+</code> and <code>-</code> as its new symbol.</p>
<p>Find out how many ways to assign symbols to make sum of integers equal to target S.</p>
</li>
<li><p>Time complexity: O(2^n)</p>
<p>Space complexity: O(n)</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetSumWays</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sum &lt; Math.abs(S)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ans = <span class="number">0</span>;</span><br><span class="line">    dfs(nums, <span class="number">0</span>, S);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (start == nums.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S == <span class="number">0</span>) ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(nums, start + <span class="number">1</span>, S + nums[start]);</span><br><span class="line">    dfs(nums, start + <span class="number">1</span>, S - nums[start]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-Solution2"><a href="#Unsolved-Solution2" class="headerlink" title="Unsolved Solution2:"></a>Unsolved Solution2:</h3><ol>
<li><a href="https://zxi.mytechroad.com/blog/dynamic-programming/leetcode-494-target-sum/" target="_blank" rel="noopener">DP</a></li>
</ol>
<h1 id="Backtracking"><a href="#Backtracking" class="headerlink" title="Backtracking"></a>Backtracking</h1><p>Backtracking（回溯）属于 DFS。</p>
<ul>
<li>普通 DFS 主要用在 <strong><code>可达性问题</code></strong> ，这种问题只需要执行到特点的位置然后返回即可。</li>
<li>而 Backtracking 主要用于求解 <strong><code>排列组合</code></strong> 问题，例如有 { ‘a’,’b’,’c’ } 三个字符，求解所有由这三个字符排列得到的字符串，这种问题在执行到特定的位置返回之后还会继续执行求解过程。</li>
</ul>
<p>因为 Backtracking 不是立即返回，而要继续求解，因此在程序实现时，需要注意对元素的标记问题：</p>
<ul>
<li>在访问一个新元素进入新的递归调用时，需要将新元素标记为已经访问，这样才能在继续递归调用时不用重复访问该元素；</li>
<li>但是在递归返回时，需要将元素标记为未访问，因为只需要保证在一个递归链中不同时访问一个元素，可以访问已经访问过但是不在当前递归链中的元素。</li>
</ul>
<h2 id="79-Word-Search⭐"><a href="#79-Word-Search⭐" class="headerlink" title="79. Word Search⭐"></a><a href="https://leetcode.com/problems/word-search/" target="_blank" rel="noopener">79. Word Search⭐</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/11/04/word2.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">For example,</span><br><span class="line">Given board =</span><br><span class="line">[</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'E'</span>],</span><br><span class="line">  [<span class="string">'S'</span>,<span class="string">'F'</span>,<span class="string">'C'</span>,<span class="string">'S'</span>],</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'D'</span>,<span class="string">'E'</span>,<span class="string">'E'</span>]</span><br><span class="line">]</span><br><span class="line">word = <span class="string">"ABCCED"</span>, -&gt; returns <span class="keyword">true</span>,</span><br><span class="line">word = <span class="string">"SEE"</span>, -&gt; returns <span class="keyword">true</span>,</span><br><span class="line">word = <span class="string">"ABCB"</span>, -&gt; returns <span class="keyword">false</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-29"><a href="#Solution1-29" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T O(n) | S O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span> || board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == word.charAt(<span class="number">0</span>) &amp;&amp; dfs(board, word, <span class="number">0</span>, i, j)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, String word, <span class="keyword">int</span> idx, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx == word.length()) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// if over board or not correct char</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || word.charAt(idx) != board[i][j]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//back tracking mark it to empty space dfs, and then recover</span></span><br><span class="line">    <span class="keyword">char</span> temp = board[i][j];</span><br><span class="line">    board[i][j] = <span class="string">' '</span>; <span class="comment">//mark as used</span></span><br><span class="line">    <span class="keyword">boolean</span> found = dfs(board, word, idx+<span class="number">1</span>, i + <span class="number">1</span>, j)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i - <span class="number">1</span>, j)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i, j + <span class="number">1</span>)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i, j - <span class="number">1</span>);</span><br><span class="line">    board[i][j] = temp;  <span class="comment">//recover to previoud char for next round, backtracking </span></span><br><span class="line">    <span class="keyword">return</span> found;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Error check:</span></span><br><span class="line"><span class="comment">1. If input is empty, just return false</span></span><br><span class="line"><span class="comment">    1) word == null || word.length == 0</span></span><br><span class="line"><span class="comment">    2) board == null || board.length == 0 || board[0].length == 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution:</span></span><br><span class="line"><span class="comment">    Use DFS to solve this problem</span></span><br><span class="line"><span class="comment">    Idea : traverse form top left to bottom right, in each unit we check if it equals to the first character in the taregt string, if same we apply dfs which return a boolean value</span></span><br><span class="line"><span class="comment">    dfs pass in the board, target string, cur idx, if tarversed string == target return true otherwise return false,</span></span><br><span class="line"><span class="comment">    in each dfs we check the char in unit is same to current idx char in target,</span></span><br><span class="line"><span class="comment">    if dfs retrun true we can just return true, said we do have taregt strig in the board</span></span><br><span class="line"><span class="comment">    booelan dfs(board, word, idx, i, j) &#123;</span></span><br><span class="line"><span class="comment">        //base case</span></span><br><span class="line"><span class="comment">        if (idx == word.length) return true;</span></span><br><span class="line"><span class="comment">        //error check</span></span><br><span class="line"><span class="comment">        if (i &lt; 0 || i &gt; board.length || j &lt; 0 || j &gt; board[0].length || word.charAt(idx) != board[i][j]) return false;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        boolean exist = dfs(board, word, idx+1, i + 1, j)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i - 1, j)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i, j + 1)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i, j - 1);</span></span><br><span class="line"><span class="comment">        retrun exist;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">3. Time O(mn)</span></span><br><span class="line"><span class="comment">Space O(mn)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution2-14"><a href="#Solution2-14" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] direction = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m = board.length;</span><br><span class="line">    n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">boolean</span>[][] hasVisited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; m; r++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; n; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (backtracking(<span class="number">0</span>, r, c, hasVisited, board, word)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> curLen, <span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">boolean</span>[][] visited, <span class="keyword">final</span> <span class="keyword">char</span>[][] board, <span class="keyword">final</span> String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (curLen == word.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &gt;= n</span><br><span class="line">            || board[r][c] != word.charAt(curLen) || visited[r][c]) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[r][c] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] d : direction) &#123;</span><br><span class="line">        <span class="keyword">if</span> (backtracking(curLen + <span class="number">1</span>, r + d[<span class="number">0</span>], c + d[<span class="number">1</span>], visited, board, word)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[r][c] = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-212-Word-Search-II🎂⭐"><a href="#Unsolved-212-Word-Search-II🎂⭐" class="headerlink" title="Unsolved 212. Word Search II🎂⭐"></a><a href="https://leetcode.com/problems/word-search-ii/" target="_blank" rel="noopener">Unsolved 212. Word Search II🎂⭐</a></h2><h3 id="Solution1-30"><a href="#Solution1-30" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>backtracking + trie</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = buildTrie(words);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            dfs(board, i, j, root, ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j, TrieNode node, List&lt;String&gt; ans)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case, if c is visited or not exist in the trie</span></span><br><span class="line">    <span class="keyword">char</span> c = board[i][j];</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'#'</span> || node.children[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    node = node.children[c - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span> (node.item != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ans.add(node.item);</span><br><span class="line">        node.item = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span>) dfs(board, i - <span class="number">1</span>, j ,node, ans); </span><br><span class="line">    <span class="keyword">if</span> (j &gt; <span class="number">0</span>) dfs(board, i, j - <span class="number">1</span>, node, ans);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; board.length - <span class="number">1</span>) dfs(board, i + <span class="number">1</span>, j, node, ans); </span><br><span class="line">    <span class="keyword">if</span> (j &lt; board[<span class="number">0</span>].length - <span class="number">1</span>) dfs(board, i, j + <span class="number">1</span>, node, ans); </span><br><span class="line">    board[i][j] = c;  <span class="comment">//backtracking</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TrieNode <span class="title">buildTrie</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        TrieNode node = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = word.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (node.children[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                node.children[c - <span class="string">'a'</span>] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.children[c - <span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        node.item = word;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> TrieNode[] children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">public</span> String item;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = buildTrie(words);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            dfs(board, i, j, root, res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j, TrieNode p, List&lt;String&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c = board[i][j];</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'#'</span> || p.next[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    p = p.next[c - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span> (p.word != <span class="keyword">null</span>) &#123;   <span class="comment">// found one</span></span><br><span class="line">        res.add(p.word);</span><br><span class="line">        p.word = <span class="keyword">null</span>;     <span class="comment">// de-duplicate</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span>) dfs(board, i - <span class="number">1</span>, j ,p, res); </span><br><span class="line">    <span class="keyword">if</span> (j &gt; <span class="number">0</span>) dfs(board, i, j - <span class="number">1</span>, p, res);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; board.length - <span class="number">1</span>) dfs(board, i + <span class="number">1</span>, j, p, res); </span><br><span class="line">    <span class="keyword">if</span> (j &lt; board[<span class="number">0</span>].length - <span class="number">1</span>) dfs(board, i, j + <span class="number">1</span>, p, res); </span><br><span class="line">    board[i][j] = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TrieNode <span class="title">buildTrie</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span> (String w : words) &#123;</span><br><span class="line">        TrieNode p = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : w.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = c - <span class="string">'a'</span>;</span><br><span class="line">            <span class="keyword">if</span> (p.next[i] == <span class="keyword">null</span>) p.next[i] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">            p = p.next[i];</span><br><span class="line">        &#125;</span><br><span class="line">        p.word = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    TrieNode[] next = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">    String word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="51-N-Queens✨"><a href="#51-N-Queens✨" class="headerlink" title="51. N-Queens✨"></a><a href="https://leetcode.com/problems/n-queens/description/" target="_blank" rel="noopener">51. N-Queens✨</a></h2><p><img src="https://camo.githubusercontent.com/538ca5bd92ad237cc495cafa937f2e324db4be6eecde13e47b25d80cb827c7b7/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f30363762333130632d363837372d343066652d396463662d3130363534653733373438352e6a7067" alt=""></p>
<p>在 n*n 的矩阵中摆放 n 个皇后，并且每个皇后不能在同一行，同一列，同一对角线上，求所有的 n 皇后的解。</p>
<p>一行一行地摆放，在确定一行中的那个皇后应该摆在哪一列时，需要用三个标记数组来确定某一列是否合法，这三个标记数组分别为：列标记数组、45 度对角线标记数组和 135 度对角线标记数组。</p>
<p>45 度对角线标记数组的长度为 2 * n - 1，通过下图可以明确 (r, c) 的位置所在的数组下标为 r + c。</p>
<p><img src="https://camo.githubusercontent.com/b8607e2983ed40fa3f5f5cbad4d1467dc58fb63fff6835b9a59a4b3d04f639f3/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f39633432323932332d313434372d346133622d613465312d3937653636333733383138372e6a7067" alt=""></p>
<p>135 度对角线标记数组的长度也是 2 * n - 1，(r, c) 的位置所在的数组下标为 n - 1 - (r - c)。</p>
<p><img src="https://camo.githubusercontent.com/5b04d1d080eb7ffc776c17f8f5629dbec00b231b9dd7c2ee1d0cb49fa5bb2a98/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f37613835653238352d653135322d343131362d623664632d3366616232376261393433372e6a7067" alt=""></p>
<h3 id="Solution1-31"><a href="#Solution1-31" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>思路：回溯法。逐行（逐位）尝试，每次置“Q”后，将其所对应的列（行已经处理了）、两个纵行（row-i+n, n*2-i-row-1）设置为已访问。O((n^2)^2)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; r = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] col = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">boolean</span>[] lr = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] rl = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * <span class="number">2</span>];</span><br><span class="line">    backtrack(<span class="number">0</span>, n, col, lr, rl, r, <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> n, <span class="keyword">boolean</span>[] col, <span class="keyword">boolean</span>[] lr, <span class="keyword">boolean</span>[] rl, List&lt;List&lt;String&gt;&gt; r, List&lt;String&gt; l)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">    	r.add(<span class="keyword">new</span> ArrayList&lt;String&gt;(l));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (row == n)</span><br><span class="line">    	<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> lrp = row - i + n;</span><br><span class="line">        <span class="keyword">int</span> rlp = n * <span class="number">2</span> - i - row - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (col[i] || lr[lrp] || rl[rlp])</span><br><span class="line">    	<span class="keyword">continue</span>;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i1 = <span class="number">0</span>; i1 &lt; n; ++i1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == i1) &#123;</span><br><span class="line">            sb.append(<span class="string">"Q"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	sb.append(<span class="string">"."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    l.add(sb.toString());</span><br><span class="line">    col[i] = <span class="keyword">true</span>;</span><br><span class="line">    lr[lrp] = <span class="keyword">true</span>;</span><br><span class="line">    rl[rlp] = <span class="keyword">true</span>;</span><br><span class="line">    backtrack(row + <span class="number">1</span>, n, col, lr, rl, r, l);</span><br><span class="line">    l.remove(l.size() - <span class="number">1</span>);</span><br><span class="line">    col[i] = <span class="keyword">false</span>;</span><br><span class="line">    lr[lrp] = <span class="keyword">false</span>;</span><br><span class="line">    rl[rlp] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        String[][] board = <span class="keyword">new</span> String[n][n];</span><br><span class="line">        <span class="keyword">for</span> (String[] b : board) &#123;</span><br><span class="line">            Arrays.fill(b, <span class="string">"."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        backtrack(board, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(String[][] board, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//base line</span></span><br><span class="line">        <span class="keyword">if</span> (row == board.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String[] b : board)</span><br><span class="line">                res.add(Arrays.asList(b));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> n = board[row].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; n; col ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!isValid(board, row, col))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            board[row][col] = <span class="string">"Q"</span>;</span><br><span class="line">            backtrack(board, row + <span class="number">1</span>);</span><br><span class="line">            board[row][col] = <span class="string">"."</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = board.length;</span><br><span class="line">        <span class="comment">//check the column</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][col].equals(<span class="string">"Q"</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//右上</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = row - <span class="number">1</span>, j = col + <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n; i--, j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j].equals(<span class="string">"Q"</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//左上</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = row - <span class="number">1</span>, j = col - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n; i--, j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j].equals(<span class="string">"Q"</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Solution2-15"><a href="#Solution2-15" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;List&lt;String&gt;&gt; solutions;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">char</span>[][] nQueens;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] colUsed;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] diagonals45Used;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] diagonals135Used;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    solutions = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    nQueens = <span class="keyword">new</span> <span class="keyword">char</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        Arrays.fill(nQueens[i], <span class="string">'.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    colUsed = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    diagonals45Used = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span> * n - <span class="number">1</span>];</span><br><span class="line">    diagonals135Used = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span> * n - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">this</span>.n = n;</span><br><span class="line">    backtracking(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> solutions;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span>[] chars : nQueens) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> String(chars));</span><br><span class="line">        &#125;</span><br><span class="line">        solutions.add(list);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; n; col++) &#123;</span><br><span class="line">        <span class="keyword">int</span> diagonals45Idx = row + col;</span><br><span class="line">        <span class="keyword">int</span> diagonals135Idx = n - <span class="number">1</span> - (row - col);</span><br><span class="line">        <span class="keyword">if</span> (colUsed[col] || diagonals45Used[diagonals45Idx] || diagonals135Used[diagonals135Idx]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nQueens[row][col] = <span class="string">'Q'</span>;</span><br><span class="line">        colUsed[col] = diagonals45Used[diagonals45Idx] = diagonals135Used[diagonals135Idx] = <span class="keyword">true</span>;</span><br><span class="line">        backtracking(row + <span class="number">1</span>);</span><br><span class="line">        colUsed[col] = diagonals45Used[diagonals45Idx] = diagonals135Used[diagonals135Idx] = <span class="keyword">false</span>;</span><br><span class="line">        nQueens[row][col] = <span class="string">'.'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="36-Valid-Sudoku⭐"><a href="#36-Valid-Sudoku⭐" class="headerlink" title="36. Valid Sudoku⭐"></a><a href="https://leetcode.com/problems/valid-sudoku/" target="_blank" rel="noopener">36. Valid Sudoku⭐</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Let us first discuss two questions.</span><br><span class="line"></span><br><span class="line">How to enumerate sub-boxes?</span><br><span class="line">One could use box_index = (row / <span class="number">3</span>) * <span class="number">3</span> + col / <span class="number">3</span> where / is an integer division, row is a row number, and col is a column number.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/valid-sudoku/Figures/36/36_boxes_2.png" alt=""></p>
<p>One could just track all values which were already encountered in a hash map <code>value -&gt; count</code>.</p>
<h3 id="Solution1-32"><a href="#Solution1-32" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>brute force</li>
<li>Move along the board.<ul>
<li>Check for each cell value if it was seen already in the current row / column / box :<ul>
<li>Return <code>false</code> if yes.</li>
<li>Keep this value for a further tracking if no.</li>
</ul>
</li>
</ul>
</li>
<li>Return <code>true</code>.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// init data</span></span><br><span class="line">    HashSet&lt;Integer&gt;[] rows = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line">    HashSet&lt;Integer&gt;[] cols = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line">    HashSet&lt;Integer&gt;[] boxes = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        rows[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        cols[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        boxes[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// validate a board</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j =  <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> num = (<span class="keyword">int</span>) board[i][j];</span><br><span class="line">                <span class="keyword">if</span> (!rows[i].add(num)</span><br><span class="line">                    || !cols[j].add(num)</span><br><span class="line">                    || ! boxes[(i/<span class="number">3</span>)*<span class="number">3</span>+j/<span class="number">3</span>].add(num))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-16"><a href="#Solution2-16" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p>Collect the set of things we see, encoded as strings. For example:</p>
<ul>
<li><code>&#39;4&#39; in row 7</code> is encoded as <code>&quot;(4)7&quot;</code>.</li>
<li><code>&#39;4&#39; in column 7</code> is encoded as <code>&quot;7(4)&quot;</code>.</li>
<li><code>&#39;4&#39; in the top-right block</code> is encoded as <code>&quot;0(4)2&quot;</code>.</li>
</ul>
<p>Scream <code>false</code> if we ever fail to add something because it was already added (i.e., seen before).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</span><br><span class="line">                String val = <span class="string">"("</span> + board[i][j] + <span class="string">")"</span>;</span><br><span class="line">                <span class="keyword">if</span> (!set.add(i + val) || !set.add(val + j) || !set.add(i/<span class="number">3</span> + val + j/<span class="number">3</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Eroor check</span></span><br><span class="line"><span class="comment">1. " ", null, return false;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution1:</span></span><br><span class="line"><span class="comment">case1: each row has excatly 123456789 element - </span></span><br><span class="line"><span class="comment">case2: each row has excatly 123456789 element</span></span><br><span class="line"><span class="comment">case3: each sub square has excatly 123456789 element</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Traverse until encounter a empty space('.'), we fill this space with potenitial canidiated 1~9,visited array to record wich element has been used or not</span></span><br><span class="line"><span class="comment">potenitial candidate: we need check all the row, col, and sub square corresponding with this position, make sure no dplicate</span></span><br><span class="line"><span class="comment">otherwise did not meet these cases, we try another candidate</span></span><br><span class="line"><span class="comment">each pos we have 9 possible choice</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">when we encount a val in idx of [i, j]</span></span><br><span class="line"><span class="comment">case1(row) -&gt; String =  row(val)</span></span><br><span class="line"><span class="comment">case2(col) -&gt; String = (val)col</span></span><br><span class="line"><span class="comment">case3(sub square) -&gt; String = i/3(val)j/3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="37-Sudoku-Solver💜✨"><a href="#37-Sudoku-Solver💜✨" class="headerlink" title="37. Sudoku Solver💜✨"></a><a href="https://leetcode.com/problems/sudoku-solver/" target="_blank" rel="noopener">37. Sudoku Solver💜✨</a></h2><h3 id="Solution0"><a href="#Solution0" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li>Brute Force</li>
<li>The first idea is to use brut-force to generate all possible ways to fill the cells with numbers from <code>1</code> to <code>9</code>, and then check them to keep the solution only. That means 9^{81}981 operations to do, where 99 is a number of available digits and 8181 is a number of cells to fill. Hence we’re forced to think further how to optimize.</li>
</ol>
<h3 id="Solution1-33"><a href="#Solution1-33" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Backtracking</p>
</li>
<li><p>There are two programming conceptions here which could help.</p>
<p>The first one is called <em>constrained programming</em>.</p>
</li>
</ol>
<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/37/37_const3.png" alt=""></p>
<p>The second one called <em>backtracking</em>.</p>
<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/37/37_backtrack2.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">How to enumerate sub-boxes</span><br><span class="line">One tip to enumerate sub-boxes: </span><br><span class="line">let us use box_index = (row / <span class="number">3</span>) * <span class="number">3</span> + column / <span class="number">3</span> where / is an integer division.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/36/36_boxes_2.png" alt=""></p>
<h3 id="Solution2-17"><a href="#Solution2-17" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>思路：回溯法，每一个未填位置试图填入 1-9 每个数，然后再试下一位置。失败时记得把当前值回置为”.”。</li>
<li>Try 1 through 9 for each cell. The time complexity should be 9 ^ m (m represents the number of blanks to be filled in), since each blank can have 9 choices. Details see comments inside code.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    solve(board);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) &#123;</span><br><span class="line">                <span class="comment">//trial. Try 1 through 9</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'1'</span>; c &lt;= <span class="string">'9'</span>; c++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (isValid(board, i, j, c)) &#123;</span><br><span class="line">                        <span class="comment">//Put c for this cell</span></span><br><span class="line">                        board[i][j] = c;</span><br><span class="line">                        <span class="comment">//If it's the solution return true</span></span><br><span class="line">                        <span class="keyword">if</span> (solve(board))</span><br><span class="line">                            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                        <span class="keyword">else</span>  <span class="comment">//otherwise backtracking</span></span><br><span class="line">                            board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//check row</span></span><br><span class="line">        <span class="keyword">if</span> (board[i][col] != <span class="string">'.'</span> &amp;&amp; board[i][col] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//check column</span></span><br><span class="line">        <span class="keyword">if</span> (board[row][i] != <span class="string">'.'</span> &amp;&amp; board[row][i] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//check 3*3 block</span></span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">3</span> * (row / <span class="number">3</span>) + i / <span class="number">3</span>][<span class="number">3</span> * (col / <span class="number">3</span>) + i % <span class="number">3</span>] != <span class="string">'.'</span></span><br><span class="line">            &amp;&amp; board[<span class="number">3</span> * (row / <span class="number">3</span>) + i / <span class="number">3</span>][<span class="number">3</span> * (col / <span class="number">3</span>) + i % <span class="number">3</span>] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">There are two places can be improved in the isValid() method. See detail below:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Don't need to check whether the a cell in the row, col or region is not dot. Just check these cells are not c is enough. Since c will not be a '.'</span></span><br><span class="line"><span class="comment">Define region start row and region start col variables make the code a bit more readable and reduce 8 times duplicate computing in each call.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> regionRow = <span class="number">3</span> * (row / <span class="number">3</span>);  <span class="comment">//region start row</span></span><br><span class="line">    <span class="keyword">int</span> regionCol = <span class="number">3</span> * (col / <span class="number">3</span>);    <span class="comment">//region start col</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[i][col] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check row</span></span><br><span class="line">        <span class="keyword">if</span> (board[row][i] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check column</span></span><br><span class="line">        <span class="keyword">if</span> (board[regionRow + i / <span class="number">3</span>][regionCol + i % <span class="number">3</span>] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check 3*3 block</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="778-Swim-in-Rising-Water🎂💎"><a href="#778-Swim-in-Rising-Water🎂💎" class="headerlink" title="778. Swim in Rising Water🎂💎"></a><a href="https://leetcode.com/problems/swim-in-rising-water/" target="_blank" rel="noopener">778. Swim in Rising Water🎂💎</a></h2><h3 id="Solution1-34"><a href="#Solution1-34" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">swimInWater</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> N = grid.length;</span><br><span class="line">        Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!visited.contains(N*N-<span class="number">1</span>)) &#123;</span><br><span class="line">            visited.clear();</span><br><span class="line">            dfs(grid, <span class="number">0</span>, <span class="number">0</span>, time, visited);</span><br><span class="line">            time++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> time - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = &#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> time, Set&lt;Integer&gt; visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt; grid.length - <span class="number">1</span> || j &lt; <span class="number">0</span> || j &gt; grid[<span class="number">0</span>].length - <span class="number">1</span> || grid[i][j] &gt; time || visited.contains(i*grid.length+j)) <span class="keyword">return</span>;</span><br><span class="line">        visited.add(i*grid.length+j);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">            dfs(grid, i+dir[<span class="number">0</span>], j+dir[<span class="number">1</span>], time, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="733-Flood-Fill✨"><a href="#733-Flood-Fill✨" class="headerlink" title="733. Flood Fill✨"></a><a href="https://leetcode.com/problems/flood-fill/" target="_blank" rel="noopener">733. Flood Fill✨</a></h2><h3 id="Solution1-35"><a href="#Solution1-35" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] floodFill(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> newColor) &#123;</span><br><span class="line">    <span class="keyword">if</span> (image[sr][sc] == newColor) &#123;</span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fill(image, sr, sc, image[sr][sc], newColor);</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fill</span><span class="params">(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> color, <span class="keyword">int</span> newColor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= image.length || j &lt; <span class="number">0</span> || j &gt;= image[<span class="number">0</span>].length || image[i][j] != color) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    image[i][j] = newColor;</span><br><span class="line">    fill(image, i + <span class="number">1</span>, j, color, newColor);</span><br><span class="line">    fill(image, i - <span class="number">1</span>, j, color, newColor);</span><br><span class="line">    fill(image, i, j + <span class="number">1</span>, color, newColor);</span><br><span class="line">    fill(image, i, j - <span class="number">1</span>, color, newColor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1723-Find-Minimum-Time-to-Finish-All-Jobs🎃✨"><a href="#1723-Find-Minimum-Time-to-Finish-All-Jobs🎃✨" class="headerlink" title="1723. Find Minimum Time to Finish All Jobs🎃✨"></a><a href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/" target="_blank" rel="noopener">1723. Find Minimum Time to Finish All Jobs🎃✨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: jobs = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>], k = <span class="number">3</span></span><br><span class="line">Output: <span class="number">3</span></span><br><span class="line">Explanation: By assigning each person one job, the maximum time is <span class="number">3</span>.</span><br><span class="line"></span><br><span class="line">Input: jobs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>], k = <span class="number">2</span></span><br><span class="line">Output: <span class="number">11</span></span><br><span class="line">Explanation: Assign the jobs the following way:</span><br><span class="line">Worker <span class="number">1</span>: <span class="number">1</span>, <span class="number">2</span>, <span class="number">8</span> (working time = <span class="number">1</span> + <span class="number">2</span> + <span class="number">8</span> = <span class="number">11</span>)</span><br><span class="line">Worker <span class="number">2</span>: <span class="number">4</span>, <span class="number">7</span> (working time = <span class="number">4</span> + <span class="number">7</span> = <span class="number">11</span>)</span><br><span class="line">The maximum working time is <span class="number">11</span>.</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions" target="_blank" rel="noopener">https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions</a></p>
<h3 id="Solution1-36"><a href="#Solution1-36" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>prune1: when we have current woker sum of jobs more than the global max, we stop<br>prune2: when we assign a new job to several wokers who has same work load, we only need to pick one, and stop others recursive call.<br>prune3: sort and start from big task then smaller one, we can stop ealier based on prune1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    dfs(jobs, jobs.length - <span class="number">1</span>, <span class="keyword">new</span> <span class="keyword">int</span>[k]);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> pos, <span class="keyword">int</span>[] sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pos &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = Math.min(res, Arrays.stream(sum).max().getAsInt());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Arrays.stream(sum).max().getAsInt() &gt;= res) <span class="keyword">return</span>;           <span class="comment">//prune1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; sum[i] == sum[i - <span class="number">1</span>]) <span class="keyword">continue</span>;                  <span class="comment">//prune2</span></span><br><span class="line">        sum[i] += jobs[pos];</span><br><span class="line">        dfs(jobs, pos - <span class="number">1</span>, sum);</span><br><span class="line">        sum[i] -= jobs[pos];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="827-Making-A-Large-Island💎"><a href="#827-Making-A-Large-Island💎" class="headerlink" title="827. Making A Large Island💎"></a><a href="https://leetcode.com/problems/making-a-large-island/" target="_blank" rel="noopener">827. Making A Large Island💎</a></h2><h3 id="Solution1-37"><a href="#Solution1-37" class="headerlink" title="Solution1:"></a>Solution1:</h3><h2 id="526-Beautiful-Arrangement"><a href="#526-Beautiful-Arrangement" class="headerlink" title="526. Beautiful Arrangement"></a><a href="https://leetcode.com/problems/beautiful-arrangement/" target="_blank" rel="noopener">526. Beautiful Arrangement</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Suppose you have n integers labeled <span class="number">1</span> through n. <span class="function">A permutation of those n integers <span class="title">perm</span> <span class="params">(<span class="number">1</span>-indexed)</span> is considered a beautiful arrangement <span class="keyword">if</span> <span class="keyword">for</span> every <span class="title">i</span> <span class="params">(<span class="number">1</span> &lt;= i &lt;= n)</span>, either of the following is <span class="keyword">true</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">1. perm[i] is divisible by i.</span></span><br><span class="line"><span class="function">2. i is divisible by perm[i].</span></span><br><span class="line"><span class="function">Given an integer n, return the number of the beautiful arrangements that you can construct.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Input: n </span>= <span class="number">2</span></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line">Explanation: </span><br><span class="line">The first beautiful arrangement is [<span class="number">1</span>,<span class="number">2</span>]:</span><br><span class="line">    - perm[<span class="number">1</span>] = <span class="number">1</span> is divisible by i = <span class="number">1</span></span><br><span class="line">    - perm[<span class="number">2</span>] = <span class="number">2</span> is divisible by i = <span class="number">2</span></span><br><span class="line">The second beautiful arrangement is [<span class="number">2</span>,<span class="number">1</span>]:</span><br><span class="line">    - perm[<span class="number">1</span>] = <span class="number">2</span> is divisible by i = <span class="number">1</span></span><br><span class="line">    - i = <span class="number">2</span> is divisible by perm[<span class="number">2</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-38"><a href="#Solution1-38" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countArrangement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] used = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    findArrangement(n, <span class="number">1</span>, used);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findArrangement</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> idx, <span class="keyword">int</span>[] used)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx &gt; n) &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (used[i] == <span class="number">0</span> &amp;&amp; (i % idx == <span class="number">0</span> || idx % i == <span class="number">0</span>)) &#123;</span><br><span class="line">            used[i] = <span class="number">1</span>;</span><br><span class="line">            findArrangement(n, idx+<span class="number">1</span>, used);</span><br><span class="line">            used[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1718-Construct-the-Lexicographically-Largest-Valid-Sequence🎃"><a href="#1718-Construct-the-Lexicographically-Largest-Valid-Sequence🎃" class="headerlink" title="1718. Construct the Lexicographically Largest Valid Sequence🎃"></a><a href="https://leetcode.com/problems/construct-the-lexicographically-largest-valid-sequence/" target="_blank" rel="noopener">1718. Construct the Lexicographically Largest Valid Sequence🎃</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The integer <span class="number">1</span> occurs once in the sequence.</span><br><span class="line">Each integer between <span class="number">2</span> and n occurs twice in the sequence.</span><br><span class="line">For every integer i between <span class="number">2</span> and n, the distance between the two occurrences of i is exactly i.</span><br><span class="line">    </span><br><span class="line">Input: n = <span class="number">3</span></span><br><span class="line">Output: [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">Explanation: [<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>] is also a valid sequence, but [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>] is the lexicographically largest valid sequence.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-39"><a href="#Solution1-39" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Since ‘n’ ranges between 1 to 20 , we can afford a solution of exponential time complexity.</p>
<ol>
<li>We try to construct our result array by taking the largest number possible at each point.</li>
<li>Except 1 (since its count is 1) whenever we place an integer in a particular position, we also place the second occurence of that integer in our temporary array. This is because in the question it is mentioned that : <em>For every integer i between 2 and n, the distance between the two occurrences of i is exactly i.</em></li>
<li>As soon as we reach a valid solution that follows all the constraints we return ‘true’. This indicates we do not need to continue our search. (This is an important step as otherwise we will get TLE).</li>
<li>Since we start from largest possible number at each step once we reach a valid solution that is our answer.</li>
</ol>
<p><strong>Time Complexity</strong> : Ideally it should be (n!) since we are using backtracking and trying to find out all possible solutions.<br>But because of this constraint : <strong>For every integer i between 2 and n, the distance between the two occurrences of i is exactly i</strong>, the number of permutations under consideration is reducing greatly.<br>Also since we are trying to find out the <strong>lexicographically largest sequence</strong> we stop as soon as we find a valid solution (early stop).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] constructDistancedSequence(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] ans =  <span class="keyword">new</span> <span class="keyword">int</span>[n*<span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n + <span class="number">1</span>];</span><br><span class="line">    getSequence(<span class="number">0</span>, ans, visited, n);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//return boolean mean can or can not form assign all value to ans ans idx add to ans.length</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getSequence</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span>[] ans, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx == ans.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ans[idx] != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// value already assigned in this position. So go ahead with the next index</span></span><br><span class="line">        <span class="keyword">return</span> getSequence(idx+<span class="number">1</span>, ans, visited, n);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// start from n to 1 since we need to find out the lexicographically largest sequence</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i] = <span class="keyword">true</span>;</span><br><span class="line">            ans[idx] = i;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (getSequence(idx+<span class="number">1</span>, ans, visited, n)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (idx + i &lt; ans.length &amp;&amp; ans[idx + i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// assigning the second occurence of i in the desired position(current index + i )</span></span><br><span class="line">                ans[idx + i] = i;</span><br><span class="line">                <span class="comment">// largest possible sequence satisfying the given conditions found</span></span><br><span class="line">                <span class="keyword">if</span> (getSequence(idx+<span class="number">1</span>, ans, visited, n)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                ans[idx + i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            ans[idx] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/12/Princeton%20Algorithms%20week2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/12/Princeton%20Algorithms%20week2/" class="post-title-link" itemprop="url">Princeton Algorithms week2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-12 18:15:41" itemprop="dateCreated datePublished" datetime="2020-10-12T18:15:41+09:00">2020-10-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-05 17:03:18" itemprop="dateModified" datetime="2020-11-05T17:03:18+09:00">2020-11-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week2"><a href="#Princeton-Algorithms-week2" class="headerlink" title="Princeton Algorithms week2"></a>Princeton Algorithms week2</h1><p><strong>Suggested Readings.</strong> <strong><code>Section 1.3</code></strong> and <strong><code>2.1</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/queues/specification.php" target="_blank" rel="noopener">assignment</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/12/Princeton%20Algorithms%20week2/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dejavu"
      src="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
  <p class="site-author-name" itemprop="name">Dejavu</p>
  <div class="site-description" itemprop="description">Stay gold</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">74</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Dejavu-19" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Dejavu-19" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/liu.kunling19@gmail.com" title="E-Mail → liu.kunling19@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dejavu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body>
</html>
